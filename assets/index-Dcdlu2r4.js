(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Qv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var df={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function I_(){if(py)return so;py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:f,ref:o!==void 0?o:null,props:c}}return so.Fragment=t,so.jsx=a,so.jsxs=a,so}var yy;function j_(){return yy||(yy=1,df.exports=I_()),df.exports}var m=j_(),hf={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function M_(){if(vy)return Re;vy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function z(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function Z(j,W,ue){this.props=j,this.context=W,this.refs=G,this.updater=ue||Y}Z.prototype.isReactComponent={},Z.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},Z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function ie(){}ie.prototype=Z.prototype;function te(j,W,ue){this.props=j,this.context=W,this.refs=G,this.updater=ue||Y}var ve=te.prototype=new ie;ve.constructor=te,$(ve,Z.prototype),ve.isPureReactComponent=!0;var ce=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function k(j,W,ue){var de=ue.ref;return{$$typeof:s,type:j,key:W,ref:de!==void 0?de:null,props:ue}}function D(j,W){return k(j.type,W,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function V(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return W[ue]})}var C=/\/+/g;function tt(j,W){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):W.toString(36)}function dt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(be,be):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,W,ue,de,Te){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var ze=!1;if(j===null)ze=!0;else switch(Ne){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(j.$$typeof){case s:case t:ze=!0;break;case _:return ze=j._init,K(ze(j._payload),W,ue,de,Te)}}if(ze)return Te=Te(j),ze=de===""?"."+tt(j,0):de,ce(Te)?(ue="",ze!=null&&(ue=ze.replace(C,"$&/")+"/"),K(Te,W,ue,"",function(Zn){return Zn})):Te!=null&&(I(Te)&&(Te=D(Te,ue+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+ze)),W.push(Te)),1;ze=0;var bt=de===""?".":de+":";if(ce(j))for(var rt=0;rt<j.length;rt++)de=j[rt],Ne=bt+tt(de,rt),ze+=K(de,W,ue,Ne,Te);else if(rt=z(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(de=j.next()).done;)de=de.value,Ne=bt+tt(de,rt++),ze+=K(de,W,ue,Ne,Te);else if(Ne==="object"){if(typeof j.then=="function")return K(dt(j),W,ue,de,Te);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(j,W,ue){if(j==null)return j;var de=[],Te=0;return K(j,de,"","",function(Ne){return W.call(ue,Ne,Te++)}),de}function ye(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var Oe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ge={map:le,forEach:function(j,W,ue){le(j,function(){W.apply(this,arguments)},ue)},count:function(j){var W=0;return le(j,function(){W++}),W},toArray:function(j){return le(j,function(W){return W})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=T,Re.Children=Ge,Re.Component=Z,Re.Fragment=a,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=i,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,W,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var de=$({},j.props),Te=j.key;if(W!=null)for(Ne in W.key!==void 0&&(Te=""+W.key),W)!A.call(W,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&W.ref===void 0||(de[Ne]=W[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=ue;else if(1<Ne){for(var ze=Array(Ne),bt=0;bt<Ne;bt++)ze[bt]=arguments[bt+2];de.children=ze}return k(j.type,Te,de)},Re.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Re.createElement=function(j,W,ue){var de,Te={},Ne=null;if(W!=null)for(de in W.key!==void 0&&(Ne=""+W.key),W)A.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=W[de]);var ze=arguments.length-2;if(ze===1)Te.children=ue;else if(1<ze){for(var bt=Array(ze),rt=0;rt<ze;rt++)bt[rt]=arguments[rt+2];Te.children=bt}if(j&&j.defaultProps)for(de in ze=j.defaultProps,ze)Te[de]===void 0&&(Te[de]=ze[de]);return k(j,Ne,Te)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:y,render:j}},Re.isValidElement=I,Re.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:ye}},Re.memo=function(j,W){return{$$typeof:v,type:j,compare:W===void 0?null:W}},Re.startTransition=function(j){var W=N.T,ue={};N.T=ue;try{var de=j(),Te=N.S;Te!==null&&Te(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(be,Oe)}catch(Ne){Oe(Ne)}finally{W!==null&&ue.types!==null&&(W.types=ue.types),N.T=W}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(j){return N.H.use(j)},Re.useActionState=function(j,W,ue){return N.H.useActionState(j,W,ue)},Re.useCallback=function(j,W){return N.H.useCallback(j,W)},Re.useContext=function(j){return N.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,W){return N.H.useDeferredValue(j,W)},Re.useEffect=function(j,W){return N.H.useEffect(j,W)},Re.useEffectEvent=function(j){return N.H.useEffectEvent(j)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(j,W,ue){return N.H.useImperativeHandle(j,W,ue)},Re.useInsertionEffect=function(j,W){return N.H.useInsertionEffect(j,W)},Re.useLayoutEffect=function(j,W){return N.H.useLayoutEffect(j,W)},Re.useMemo=function(j,W){return N.H.useMemo(j,W)},Re.useOptimistic=function(j,W){return N.H.useOptimistic(j,W)},Re.useReducer=function(j,W,ue){return N.H.useReducer(j,W,ue)},Re.useRef=function(j){return N.H.useRef(j)},Re.useState=function(j){return N.H.useState(j)},Re.useSyncExternalStore=function(j,W,ue){return N.H.useSyncExternalStore(j,W,ue)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.1",Re}var by;function rm(){return by||(by=1,hf.exports=M_()),hf.exports}var O=rm();const V_=Qv(O);var ff={exports:{}},ro={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function O_(){return xy||(xy=1,(function(s){function t(K,le){var ye=K.length;K.push(le);e:for(;0<ye;){var Oe=ye-1>>>1,Ge=K[Oe];if(0<o(Ge,le))K[Oe]=le,K[ye]=Ge,ye=Oe;else break e}}function a(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var le=K[0],ye=K.pop();if(ye!==le){K[0]=ye;e:for(var Oe=0,Ge=K.length,j=Ge>>>1;Oe<j;){var W=2*(Oe+1)-1,ue=K[W],de=W+1,Te=K[de];if(0>o(ue,ye))de<Ge&&0>o(Te,ue)?(K[Oe]=Te,K[de]=ye,Oe=de):(K[Oe]=ue,K[W]=ye,Oe=W);else if(de<Ge&&0>o(Te,ye))K[Oe]=Te,K[de]=ye,Oe=de;else break e}}return le}function o(K,le){var ye=K.sortIndex-le.sortIndex;return ye!==0?ye:K.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var p=[],v=[],_=1,T=null,S=3,z=!1,Y=!1,$=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ve(K){for(var le=a(v);le!==null;){if(le.callback===null)i(v);else if(le.startTime<=K)i(v),le.sortIndex=le.expirationTime,t(p,le);else break;le=a(v)}}function ce(K){if($=!1,ve(K),!Y)if(a(p)!==null)Y=!0,be||(be=!0,V());else{var le=a(v);le!==null&&dt(ce,le.startTime-K)}}var be=!1,N=-1,A=5,k=-1;function D(){return G?!0:!(s.unstable_now()-k<A)}function I(){if(G=!1,be){var K=s.unstable_now();k=K;var le=!0;try{e:{Y=!1,$&&($=!1,ie(N),N=-1),z=!0;var ye=S;try{t:{for(ve(K),T=a(p);T!==null&&!(T.expirationTime>K&&D());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,S=T.priorityLevel;var Ge=Oe(T.expirationTime<=K);if(K=s.unstable_now(),typeof Ge=="function"){T.callback=Ge,ve(K),le=!0;break t}T===a(p)&&i(p),ve(K)}else i(p);T=a(p)}if(T!==null)le=!0;else{var j=a(v);j!==null&&dt(ce,j.startTime-K),le=!1}}break e}finally{T=null,S=ye,z=!1}le=void 0}}finally{le?V():be=!1}}}var V;if(typeof te=="function")V=function(){te(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=I,V=function(){tt.postMessage(null)}}else V=function(){Z(I,0)};function dt(K,le){N=Z(function(){K(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(K){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ye=S;S=le;try{return K()}finally{S=ye}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=S;S=K;try{return le()}finally{S=ye}},s.unstable_scheduleCallback=function(K,le,ye){var Oe=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Oe+ye:Oe):ye=Oe,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ye+Ge,K={id:_++,callback:le,priorityLevel:K,startTime:ye,expirationTime:Ge,sortIndex:-1},ye>Oe?(K.sortIndex=ye,t(v,K),a(p)===null&&K===a(v)&&($?(ie(N),N=-1):$=!0,dt(ce,ye-Oe))):(K.sortIndex=Ge,t(p,K),Y||z||(Y=!0,be||(be=!0,V()))),K},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(K){var le=S;return function(){var ye=S;S=le;try{return K.apply(this,arguments)}finally{S=ye}}}})(gf)),gf}var _y;function z_(){return _y||(_y=1,mf.exports=O_()),mf.exports}var pf={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function L_(){if(Ey)return sn;Ey=1;var s=rm();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:v,implementation:_}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(p,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,_)},sn.flushSync=function(p){var v=f.T,_=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=v,i.p=_,i.d.f()}},sn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},sn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},sn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var _=v.as,T=y(_,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:z}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},sn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=y(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},sn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,T=y(_,v.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},sn.preloadModule=function(p,v){if(typeof p=="string")if(v){var _=y(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},sn.requestFormReset=function(p){i.d.r(p)},sn.unstable_batchedUpdates=function(p,v){return p(v)},sn.useFormState=function(p,v,_){return f.H.useFormState(p,v,_)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.2.1",sn}var Ty;function U_(){if(Ty)return pf.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pf.exports=L_(),pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function P_(){if(wy)return ro;wy=1;var s=z_(),t=rm(),a=U_();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(i(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,l=n;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return p(d),e;if(h===l)return p(d),n;h=h.sibling}throw Error(i(188))}if(r.return!==l.return)r=d,l=h;else{for(var b=!1,E=d.child;E;){if(E===r){b=!0,r=d,l=h;break}if(E===l){b=!0,l=d,r=h;break}E=E.sibling}if(!b){for(E=h.child;E;){if(E===r){b=!0,r=h,l=d;break}if(E===l){b=!0,l=h,r=d;break}E=E.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case be:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case te:return e.displayName||"Context";case ie:return(e._context.displayName||"Context")+".Consumer";case ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:tt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return tt(e(n))}catch{}}return null}var dt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Oe=[],Ge=-1;function j(e){return{current:e}}function W(e){0>Ge||(e.current=Oe[Ge],Oe[Ge]=null,Ge--)}function ue(e,n){Ge++,Oe[Ge]=e.current,e.current=n}var de=j(null),Te=j(null),Ne=j(null),ze=j(null);function bt(e,n){switch(ue(Ne,n),ue(Te,e),ue(de,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Up(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Up(n),e=Pp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(de),ue(de,e)}function rt(){W(de),W(Te),W(Ne)}function Zn(e){e.memoizedState!==null&&ue(ze,e);var n=de.current,r=Pp(n,e.type);n!==r&&(ue(Te,e),ue(de,r))}function Jn(e){Te.current===e&&(W(de),W(Te)),ze.current===e&&(W(ze),eo._currentValue=ye)}var jn,Mn;function dn(e){if(jn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);jn=n&&n[1]||"",Mn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+e+Mn}var X=!1;function U(e,n){if(!e||X)return"";X=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var H=Q}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(Q){H=Q}e.call(ae.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),b=h[0],E=h[1];if(b&&E){var R=b.split(`
`),q=E.split(`
`);for(d=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===R.length||d===q.length)for(l=R.length-1,d=q.length-1;1<=l&&0<=d&&R[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(R[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||R[l]!==q[d]){var J=`
`+R[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=d);break}}}finally{X=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?dn(r):""}function ne(e,n){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==n&&n!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);case 31:return dn("Activity");default:return""}}function xe(e){try{var n="",r=null;do n+=ne(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ae=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,Ve=s.unstable_shouldYield,En=s.unstable_requestPaint,it=s.unstable_now,Et=s.unstable_getCurrentPriorityLevel,Wn=s.unstable_ImmediatePriority,hr=s.unstable_UserBlockingPriority,Vn=s.unstable_NormalPriority,Kt=s.unstable_LowPriority,Ga=s.unstable_IdlePriority,Uo=s.log,Po=s.unstable_setDisableYieldValue,ea=null,Xt=null;function On(e){if(typeof Uo=="function"&&Po(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ea,e)}catch{}}var St=Math.clz32?Math.clz32:qo,Bo=Math.log,$r=Math.LN2;function qo(e){return e>>>=0,e===0?32:31-(Bo(e)/$r|0)|0}var ga=256,fr=262144,Rt=4194304;function pa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var d=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?d=pa(l):(b&=E,b!==0?d=pa(b):r||(r=E&~e,r!==0&&(d=pa(r))))):(E=l&~h,E!==0?d=pa(E):b!==0?d=pa(b):r||(r=l&~e,r!==0&&(d=pa(r)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:d}function ta(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function md(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var e=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),e}function va(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function mr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gd(e,n,r,l,d,h){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,q=e.hiddenUpdates;for(r=b&~r;0<r;){var J=31-St(r),ae=1<<J;E[J]=0,R[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var Q=H[J];Q!==null&&(Q.lane&=-536870913)}r&=~ae}l!==0&&gr(e,l,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function gr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-St(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function rl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-St(r),d=1<<l;d&n|e[l]&n&&(e[l]|=n),r&=~d}}function il(e,n){var r=n&-n;return r=(r&42)!==0?1:pr(r),(r&(e.suspendedLanes|n))!==0?0:r}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:uy(e.type))}function na(e,n){var r=le.p;try{return le.p=e,n()}finally{le.p=r}}var aa=Math.random().toString(36).slice(2),Dt="__reactFiber$"+aa,Gt="__reactProps$"+aa,ba="__reactContainer$"+aa,Zr="__reactEvents$"+aa,pd="__reactListeners$"+aa,Fo="__reactHandles$"+aa,Qo="__reactResources$"+aa,xa="__reactMarker$"+aa;function Jr(e){delete e[Dt],delete e[Gt],delete e[Zr],delete e[pd],delete e[Fo]}function _a(e){var n=e[Dt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ba]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Yp(e);e!==null;){if(r=e[Dt])return r;e=Yp(e)}return n}e=r,r=e.parentNode}return null}function zn(e){if(e=e[Dt]||e[ba]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Ea(e){var n=e[Qo];return n||(n=e[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(e){e[xa]=!0}var ll=new Set,ol={};function Ta(e,n){wa(e,n),wa(e+"Capture",n)}function wa(e,n){for(ol[e]=n,e=0;e<n.length;e++)ll.add(n[e])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},dl={};function Yo(e){return me.call(dl,e)?!0:me.call(cl,e)?!1:ul.test(e)?dl[e]=!0:(cl[e]=!0,!1)}function Wr(e,n,r){if(Yo(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function wn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function jt(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(b){r=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nt(e){if(!e._valueTracker){var n=bs(e)?"checked":"value";e._valueTracker=hl(e,n,""+e[n])}}function yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=bs(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function hn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ei(e,n,r,l,d,h,b,E){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?fl(e,b,Ft(n)):r!=null?fl(e,b,Ft(r)):l!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ft(E):e.removeAttribute("name")}function Ko(e,n,r,l,d,h,b,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){nt(e);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),nt(e)}function fl(e,n,r){n==="number"&&Sa(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xs(e,n,r,l){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Xo(e,n,r){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ft(r):""}function _s(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(i(92));if(dt(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),nt(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||$o.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function gl(e,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&r[d]!==l&&ml(e,d,l)}else for(var h in n)n.hasOwnProperty(h)&&ml(e,h,n[h])}function ti(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var pl=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Aa=null;function br(e){var n=zn(e);if(n&&(e=n.stateNode)){var r=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ei(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var d=l[Gt]||null;if(!d)throw Error(i(90));ei(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&yr(l)}break e;case"textarea":Xo(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(e,!!r.multiple,n,!1)}}}var ai=!1;function ws(e,n,r){if(ai)return e(n,r);ai=!0;try{var l=e(n);return l}finally{if(ai=!1,(Ts!==null||Aa!==null)&&(Gu(),Ts&&(n=Ts,e=Aa,Aa=Ts=null,br(n),e)))for(n=0;n<e.length;n++)br(e[n])}}function ra(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Un)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){xr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{xr=!1}var Na=null,yl=null,_r=null;function vl(){if(_r)return _r;var e,n=yl,r=n.length,l,d="value"in Na?Na.value:Na.textContent,h=d.length;for(e=0;e<r&&n[e]===d[e];e++);var b=r-e;for(l=1;l<=b&&n[r-l]===d[h-l];l++);return _r=d.slice(e,1<l?1-l:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function ia(){return!1}function $t(e){function n(r,l,d,h,b){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qa:ia,this.isPropagationStopped=ia,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),n}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=$t(Ya),Ss=T({},Ya,{view:0,detail:0}),bl=$t(Ss),As,si,Ca,ri=T({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ca&&(Ca&&e.type==="mousemove"?(As=e.screenX-Ca.screenX,si=e.screenY-Ca.screenY):si=As=0,Ca=e),As)},movementY:function(e){return"movementY"in e?e.movementY:si}}),xl=$t(ri),Tr=T({},ri,{dataTransfer:0}),Jo=$t(Tr),Wo=T({},Ss,{relatedTarget:0}),wr=$t(Wo),_l=T({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=$t(_l),ii=T({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tu=$t(ii),nu=T({},Ya,{data:0}),Ra=$t(nu),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ru[e])?!!n[e]:!1}function Ns(){return iu}var un=T({},Ss,{key:function(e){if(e.key){var n=au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lu=$t(un),ou=T({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=$t(ou),u=T({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),g=$t(u),x=T({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(x),P=T({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=$t(P),oe=T({},Ya,{newState:0,oldState:0}),Ie=$t(oe),At=[9,13,27,32],Je=Un&&"CompositionEvent"in window,yt=null;Un&&"documentMode"in document&&(yt=document.documentMode);var Pn=Un&&"TextEvent"in window&&!yt,Da=Un&&(!Je||yt&&8<yt&&11>=yt),la=" ",oa=!1;function Sr(e,n){switch(e){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function li(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function nx(e,n){switch(e){case"compositionend":return li(n);case"keypress":return n.which!==32?null:(oa=!0,la);case"textInput":return e=n.data,e===la&&oa?null:e;default:return null}}function ax(e,n){if(oi)return e==="compositionend"||!Je&&Sr(e,n)?(e=vl(),_r=yl=Na=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Da&&n.locale!=="ko"?null:n.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sx[e.type]:n==="textarea"}function Zm(e,n,r,l){Ts?Aa?Aa.push(l):Aa=[l]:Ts=l,n=Zu(n,"onChange"),0<n.length&&(r=new ka("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var El=null,Tl=null;function rx(e){jp(e,0)}function uu(e){var n=Tn(e);if(yr(n))return e}function Jm(e,n){if(e==="change")return n}var Wm=!1;if(Un){var yd;if(Un){var vd="oninput"in document;if(!vd){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),vd=typeof e0.oninput=="function"}yd=vd}else yd=!1;Wm=yd&&(!document.documentMode||9<document.documentMode)}function t0(){El&&(El.detachEvent("onpropertychange",n0),Tl=El=null)}function n0(e){if(e.propertyName==="value"&&uu(Tl)){var n=[];Zm(n,Tl,e,Ln(e)),ws(rx,n)}}function ix(e,n,r){e==="focusin"?(t0(),El=n,Tl=r,El.attachEvent("onpropertychange",n0)):e==="focusout"&&t0()}function lx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Tl)}function ox(e,n){if(e==="click")return uu(n)}function ux(e,n){if(e==="input"||e==="change")return uu(n)}function cx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:cx;function wl(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!me.call(n,d)||!Sn(e[d],n[d]))return!1}return!0}function a0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s0(e,n){var r=a0(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=a0(r)}}function r0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?r0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function i0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Sa(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Sa(e.document)}return n}function bd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dx=Un&&"documentMode"in document&&11>=document.documentMode,ui=null,xd=null,Sl=null,_d=!1;function l0(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_d||ui==null||ui!==Sa(l)||(l=ui,"selectionStart"in l&&bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&wl(Sl,l)||(Sl=l,l=Zu(xd,"onSelect"),0<l.length&&(n=new ka("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ui)))}function Ar(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ci={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Ed={},o0={};Un&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Nr(e){if(Ed[e])return Ed[e];if(!ci[e])return e;var n=ci[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in o0)return Ed[e]=n[r];return e}var u0=Nr("animationend"),c0=Nr("animationiteration"),d0=Nr("animationstart"),hx=Nr("transitionrun"),fx=Nr("transitionstart"),mx=Nr("transitioncancel"),h0=Nr("transitionend"),f0=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function ua(e,n){f0.set(e,n),Ta(n,[e])}var cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],di=0,wd=0;function du(){for(var e=di,n=wd=di=0;n<e;){var r=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var d=Bn[n];Bn[n++]=null;var h=Bn[n];if(Bn[n++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}h!==0&&m0(r,d,h)}}function hu(e,n,r,l){Bn[di++]=e,Bn[di++]=n,Bn[di++]=r,Bn[di++]=l,wd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sd(e,n,r,l){return hu(e,n,r,l),fu(e)}function kr(e,n){return hu(e,null,null,n),fu(e)}function m0(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var d=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-St(r),e=h.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=r|536870912),h):null}function fu(e){if(50<Yl)throw Yl=0,Mh=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var hi={};function gx(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,r,l){return new gx(e,n,r,l)}function Ad(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xa(e,n){var r=e.alternate;return r===null?(r=An(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function g0(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function mu(e,n,r,l,d,h){var b=0;if(l=e,typeof e=="function")Ad(e)&&(b=1);else if(typeof e=="string")b=x_(e,r,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k:return e=An(31,r,n,d),e.elementType=k,e.lanes=h,e;case $:return Cr(r.children,d,h,n);case G:b=8,d|=24;break;case Z:return e=An(12,r,n,d|2),e.elementType=Z,e.lanes=h,e;case ce:return e=An(13,r,n,d),e.elementType=ce,e.lanes=h,e;case be:return e=An(19,r,n,d),e.elementType=be,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:b=10;break e;case ie:b=9;break e;case ve:b=11;break e;case N:b=14;break e;case A:b=16,l=null;break e}b=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=An(b,r,n,d),n.elementType=e,n.type=l,n.lanes=h,n}function Cr(e,n,r,l){return e=An(7,e,l,n),e.lanes=r,e}function Nd(e,n,r){return e=An(6,e,null,n),e.lanes=r,e}function p0(e){var n=An(18,null,null,0);return n.stateNode=e,n}function kd(e,n,r){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var y0=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var r=y0.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xe(n)},y0.set(e,n),n)}return{value:e,source:n,stack:xe(n)}}var fi=[],mi=0,gu=null,Al=0,Hn=[],Gn=0,ks=null,Ia=1,ja="";function $a(e,n){fi[mi++]=Al,fi[mi++]=gu,gu=e,Al=n}function v0(e,n,r){Hn[Gn++]=Ia,Hn[Gn++]=ja,Hn[Gn++]=ks,ks=e;var l=Ia;e=ja;var d=32-St(l)-1;l&=~(1<<d),r+=1;var h=32-St(n)+d;if(30<h){var b=d-d%5;h=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Ia=1<<32-St(n)+d|r<<d|l,ja=h+e}else Ia=1<<h|r<<d|l,ja=e}function Cd(e){e.return!==null&&($a(e,1),v0(e,1,0))}function Rd(e){for(;e===gu;)gu=fi[--mi],fi[mi]=null,Al=fi[--mi],fi[mi]=null;for(;e===ks;)ks=Hn[--Gn],Hn[Gn]=null,ja=Hn[--Gn],Hn[Gn]=null,Ia=Hn[--Gn],Hn[Gn]=null}function b0(e,n){Hn[Gn++]=Ia,Hn[Gn++]=ja,Hn[Gn++]=ks,Ia=n.id,ja=n.overflow,ks=e}var Zt=null,mt=null,Fe=!1,Cs=null,Fn=!1,Dd=Error(i(519));function Rs(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(qn(n,e)),Dd}function x0(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Dt]=e,n[Gt]=l,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(r=0;r<Xl.length;r++)Ue(Xl[r],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),_s(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||zp(n.textContent,r)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=sa),n=!0):n=!1,n||Rs(e,!0)}function _0(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Zt=Zt.return}}function gi(e){if(e!==Zt)return!1;if(!Fe)return _0(e),Fe=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Xh(e.type,e.memoizedProps)),r=!r),r&&mt&&Rs(e),_0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));mt=Qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));mt=Qp(e)}else n===27?(n=mt,Gs(e.type)?(e=ef,ef=null,mt=e):mt=n):mt=Zt?Yn(e.stateNode.nextSibling):null;return!0}function Rr(){mt=Zt=null,Fe=!1}function Id(){var e=Cs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Cs=null),e}function Nl(e){Cs===null?Cs=[e]:Cs.push(e)}var jd=j(null),Dr=null,Za=null;function Ds(e,n,r){ue(jd,n._currentValue),n._currentValue=r}function Ja(e){e._currentValue=jd.current,W(jd)}function Md(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Vd(e,n,r,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var b=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),Md(h.return,r,e),l||(b=null);break e}h=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=r,h=b.alternate,h!==null&&(h.lanes|=r),Md(b,r,e),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===e){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function pi(e,n,r,l){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=d.type;Sn(d.pendingProps.value,b.value)||(e!==null?e.push(E):e=[E])}}else if(d===ze.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(eo):e=[eo])}d=d.return}e!==null&&Vd(n,e,r,l),n.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Dr=e,Za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return E0(Dr,e)}function yu(e,n){return Dr===null&&Ir(e),E0(e,n)}function E0(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Za===null){if(e===null)throw Error(i(308));Za=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Za=Za.next=n;return r}var px=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},yx=s.unstable_scheduleCallback,vx=s.unstable_NormalPriority,Mt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new px,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&yx(vx,function(){e.controller.abort()})}var Cl=null,zd=0,yi=0,vi=null;function bx(e,n){if(Cl===null){var r=Cl=[];zd=0,yi=Ph(),vi={status:"pending",value:void 0,then:function(l){r.push(l)}}}return zd++,n.then(T0,T0),n}function T0(){if(--zd===0&&Cl!==null){vi!==null&&(vi.status="fulfilled");var e=Cl;Cl=null,yi=0,vi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function xx(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var w0=K.S;K.S=function(e,n){lp=it(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bx(e,n),w0!==null&&w0(e,n)};var jr=j(null);function Ld(){var e=jr.current;return e!==null?e:ht.pooledCache}function vu(e,n){n===null?ue(jr,jr.current):ue(jr,n.pool)}function S0(){var e=Ld();return e===null?null:{parent:Mt._currentValue,pool:e}}var bi=Error(i(460)),Ud=Error(i(474)),bu=Error(i(542)),xu={then:function(){}};function A0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function N0(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(sa,sa),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,C0(e),e;default:if(typeof n.status=="string")n.then(sa,sa);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,C0(e),e}throw Vr=n,bi}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vr=r,bi):r}}var Vr=null;function k0(){if(Vr===null)throw Error(i(459));var e=Vr;return Vr=null,e}function C0(e){if(e===bi||e===bu)throw Error(i(483))}var xi=null,Rl=0;function _u(e){var n=Rl;return Rl+=1,xi===null&&(xi=[]),N0(xi,e,n)}function Dl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function R0(e){function n(L,M){if(e){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function r(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function d(L,M){return L=Xa(L,M),L.index=0,L.sibling=null,L}function h(L,M,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function b(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,M,B,ee){return M===null||M.tag!==6?(M=Nd(B,L.mode,ee),M.return=L,M):(M=d(M,B),M.return=L,M)}function R(L,M,B,ee){var _e=B.type;return _e===$?J(L,M,B.props.children,ee,B.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Mr(_e)===M.type)?(M=d(M,B.props),Dl(M,B),M.return=L,M):(M=mu(B.type,B.key,B.props,null,L.mode,ee),Dl(M,B),M.return=L,M)}function q(L,M,B,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=kd(B,L.mode,ee),M.return=L,M):(M=d(M,B.children||[]),M.return=L,M)}function J(L,M,B,ee,_e){return M===null||M.tag!==7?(M=Cr(B,L.mode,ee,_e),M.return=L,M):(M=d(M,B),M.return=L,M)}function ae(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nd(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return B=mu(M.type,M.key,M.props,null,L.mode,B),Dl(B,M),B.return=L,B;case Y:return M=kd(M,L.mode,B),M.return=L,M;case A:return M=Mr(M),ae(L,M,B)}if(dt(M)||V(M))return M=Cr(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return ae(L,_u(M),B);if(M.$$typeof===te)return ae(L,yu(L,M),B);Eu(L,M)}return null}function H(L,M,B,ee){var _e=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _e!==null?null:E(L,M,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return B.key===_e?R(L,M,B,ee):null;case Y:return B.key===_e?q(L,M,B,ee):null;case A:return B=Mr(B),H(L,M,B,ee)}if(dt(B)||V(B))return _e!==null?null:J(L,M,B,ee,null);if(typeof B.then=="function")return H(L,M,_u(B),ee);if(B.$$typeof===te)return H(L,M,yu(L,B),ee);Eu(L,B)}return null}function Q(L,M,B,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(B)||null,E(M,L,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case z:return L=L.get(ee.key===null?B:ee.key)||null,R(M,L,ee,_e);case Y:return L=L.get(ee.key===null?B:ee.key)||null,q(M,L,ee,_e);case A:return ee=Mr(ee),Q(L,M,B,ee,_e)}if(dt(ee)||V(ee))return L=L.get(B)||null,J(M,L,ee,_e,null);if(typeof ee.then=="function")return Q(L,M,B,_u(ee),_e);if(ee.$$typeof===te)return Q(L,M,B,yu(M,ee),_e);Eu(M,ee)}return null}function ge(L,M,B,ee){for(var _e=null,$e=null,pe=M,Me=M=0,Be=null;pe!==null&&Me<B.length;Me++){pe.index>Me?(Be=pe,pe=null):Be=pe.sibling;var Ze=H(L,pe,B[Me],ee);if(Ze===null){pe===null&&(pe=Be);break}e&&pe&&Ze.alternate===null&&n(L,pe),M=h(Ze,M,Me),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze,pe=Be}if(Me===B.length)return r(L,pe),Fe&&$a(L,Me),_e;if(pe===null){for(;Me<B.length;Me++)pe=ae(L,B[Me],ee),pe!==null&&(M=h(pe,M,Me),$e===null?_e=pe:$e.sibling=pe,$e=pe);return Fe&&$a(L,Me),_e}for(pe=l(pe);Me<B.length;Me++)Be=Q(pe,L,Me,B[Me],ee),Be!==null&&(e&&Be.alternate!==null&&pe.delete(Be.key===null?Me:Be.key),M=h(Be,M,Me),$e===null?_e=Be:$e.sibling=Be,$e=Be);return e&&pe.forEach(function(Xs){return n(L,Xs)}),Fe&&$a(L,Me),_e}function we(L,M,B,ee){if(B==null)throw Error(i(151));for(var _e=null,$e=null,pe=M,Me=M=0,Be=null,Ze=B.next();pe!==null&&!Ze.done;Me++,Ze=B.next()){pe.index>Me?(Be=pe,pe=null):Be=pe.sibling;var Xs=H(L,pe,Ze.value,ee);if(Xs===null){pe===null&&(pe=Be);break}e&&pe&&Xs.alternate===null&&n(L,pe),M=h(Xs,M,Me),$e===null?_e=Xs:$e.sibling=Xs,$e=Xs,pe=Be}if(Ze.done)return r(L,pe),Fe&&$a(L,Me),_e;if(pe===null){for(;!Ze.done;Me++,Ze=B.next())Ze=ae(L,Ze.value,ee),Ze!==null&&(M=h(Ze,M,Me),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze);return Fe&&$a(L,Me),_e}for(pe=l(pe);!Ze.done;Me++,Ze=B.next())Ze=Q(pe,L,Me,Ze.value,ee),Ze!==null&&(e&&Ze.alternate!==null&&pe.delete(Ze.key===null?Me:Ze.key),M=h(Ze,M,Me),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze);return e&&pe.forEach(function(D_){return n(L,D_)}),Fe&&$a(L,Me),_e}function ct(L,M,B,ee){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case z:e:{for(var _e=B.key;M!==null;){if(M.key===_e){if(_e=B.type,_e===$){if(M.tag===7){r(L,M.sibling),ee=d(M,B.props.children),ee.return=L,L=ee;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Mr(_e)===M.type){r(L,M.sibling),ee=d(M,B.props),Dl(ee,B),ee.return=L,L=ee;break e}r(L,M);break}else n(L,M);M=M.sibling}B.type===$?(ee=Cr(B.props.children,L.mode,ee,B.key),ee.return=L,L=ee):(ee=mu(B.type,B.key,B.props,null,L.mode,ee),Dl(ee,B),ee.return=L,L=ee)}return b(L);case Y:e:{for(_e=B.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(L,M.sibling),ee=d(M,B.children||[]),ee.return=L,L=ee;break e}else{r(L,M);break}else n(L,M);M=M.sibling}ee=kd(B,L.mode,ee),ee.return=L,L=ee}return b(L);case A:return B=Mr(B),ct(L,M,B,ee)}if(dt(B))return ge(L,M,B,ee);if(V(B)){if(_e=V(B),typeof _e!="function")throw Error(i(150));return B=_e.call(B),we(L,M,B,ee)}if(typeof B.then=="function")return ct(L,M,_u(B),ee);if(B.$$typeof===te)return ct(L,M,yu(L,B),ee);Eu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(L,M.sibling),ee=d(M,B),ee.return=L,L=ee):(r(L,M),ee=Nd(B,L.mode,ee),ee.return=L,L=ee),b(L)):r(L,M)}return function(L,M,B,ee){try{Rl=0;var _e=ct(L,M,B,ee);return xi=null,_e}catch(pe){if(pe===bi||pe===bu)throw pe;var $e=An(29,pe,null,L.mode);return $e.lanes=ee,$e.return=L,$e}finally{}}}var Or=R0(!0),D0=R0(!1),Is=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=fu(e),m0(e,null,r),n}return hu(e,l,n,r),fu(e)}function Il(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,rl(e,r)}}function qd(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=b:h=h.next=b,r=r.next}while(r!==null);h===null?d=h=n:h=h.next=n}else d=h=n;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Hd=!1;function jl(){if(Hd){var e=vi;if(e!==null)throw e}}function Ml(e,n,r,l){Hd=!1;var d=e.updateQueue;Is=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var R=E,q=R.next;R.next=null,b===null?h=q:b.next=q,b=R;var J=e.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==b&&(E===null?J.firstBaseUpdate=q:E.next=q,J.lastBaseUpdate=R))}if(h!==null){var ae=d.baseState;b=0,J=q=R=null,E=h;do{var H=E.lane&-536870913,Q=H!==E.lane;if(Q?(Pe&H)===H:(l&H)===H){H!==0&&H===yi&&(Hd=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=e,we=E;H=n;var ct=r;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){ae=ge.call(ct,ae,H);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,H=typeof ge=="function"?ge.call(ct,ae,H):ge,H==null)break e;ae=T({},ae,H);break e;case 2:Is=!0}}H=E.callback,H!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(q=J=Q,R=ae):J=J.next=Q,b|=H;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(R=ae),d.baseState=R,d.firstBaseUpdate=q,d.lastBaseUpdate=J,h===null&&(d.shared.lanes=0),Us|=b,e.lanes=b,e.memoizedState=ae}}function I0(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function j0(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)I0(r[e],n)}var _i=j(null),Tu=j(0);function M0(e,n){e=ls,ue(Tu,e),ue(_i,n),ls=e|n.baseLanes}function Gd(){ue(Tu,ls),ue(_i,_i.current)}function Fd(){ls=Tu.current,W(_i),W(Tu)}var Nn=j(null),Qn=null;function Vs(e){var n=e.alternate;ue(Nt,Nt.current&1),ue(Nn,e),Qn===null&&(n===null||_i.current!==null||n.memoizedState!==null)&&(Qn=e)}function Qd(e){ue(Nt,Nt.current),ue(Nn,e),Qn===null&&(Qn=e)}function V0(e){e.tag===22?(ue(Nt,Nt.current),ue(Nn,e),Qn===null&&(Qn=e)):Os()}function Os(){ue(Nt,Nt.current),ue(Nn,Nn.current)}function kn(e){W(Nn),Qn===e&&(Qn=null),W(Nt)}var Nt=j(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jh(r)||Wh(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wa=0,je=null,ot=null,Vt=null,Su=!1,Ei=!1,zr=!1,Au=0,Vl=0,Ti=null,_x=0;function Tt(){throw Error(i(321))}function Yd(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Sn(e[r],n[r]))return!1;return!0}function Kd(e,n,r,l,d,h){return Wa=h,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?vg:uh,zr=!1,h=r(l,d),zr=!1,Ei&&(h=z0(n,r,l,d)),O0(e),h}function O0(e){K.H=Ll;var n=ot!==null&&ot.next!==null;if(Wa=0,Vt=ot=je=null,Su=!1,Vl=0,Ti=null,n)throw Error(i(300));e===null||Ot||(e=e.dependencies,e!==null&&pu(e)&&(Ot=!0))}function z0(e,n,r,l){je=e;var d=0;do{if(Ei&&(Ti=null),Vl=0,Ei=!1,25<=d)throw Error(i(301));if(d+=1,Vt=ot=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=bg,h=n(r,l)}while(Ei);return h}function Ex(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Ol(n):n,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(je.flags|=1024),n}function Xd(){var e=Au!==0;return Au=0,e}function $d(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Zd(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}Wa=0,Vt=ot=je=null,Ei=!1,Vl=Au=0,Ti=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function kt(){if(ot===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var n=Vt===null?je.memoizedState:Vt.next;if(n!==null)Vt=n,ot=e;else{if(e===null)throw je.alternate===null?Error(i(467)):Error(i(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Vt===null?je.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(e){var n=Vl;return Vl+=1,Ti===null&&(Ti=[]),e=N0(Ti,e,n),n=je,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?vg:uh),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ol(e);if(e.$$typeof===te)return Jt(e)}throw Error(i(438,String(e)))}function Jd(e){var n=null,r=je.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Nu(),je.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=D;return n.index++,r}function es(e,n){return typeof n=="function"?n(e):n}function Cu(e){var n=kt();return Wd(n,ot,e)}function Wd(e,n,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=e.baseQueue,h=l.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}n.baseQueue=d=h,l.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var E=b=null,R=null,q=n,J=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(Pe&ae)===ae:(Wa&ae)===ae){var H=q.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===yi&&(J=!0);else if((Wa&H)===H){q=q.next,H===yi&&(J=!0);continue}else ae={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=ae,b=h):R=R.next=ae,je.lanes|=H,Us|=H;ae=q.action,zr&&r(h,ae),h=q.hasEagerState?q.eagerState:r(h,ae)}else H={lane:ae,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=H,b=h):R=R.next=H,je.lanes|=ae,Us|=ae;q=q.next}while(q!==null&&q!==n);if(R===null?b=h:R.next=E,!Sn(h,e.memoizedState)&&(Ot=!0,J&&(r=vi,r!==null)))throw r;e.memoizedState=h,e.baseState=b,e.baseQueue=R,l.lastRenderedState=h}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function eh(e){var n=kt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,d=r.pending,h=n.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do h=e(h,b.action),b=b.next;while(b!==d);Sn(h,n.memoizedState)||(Ot=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function L0(e,n,r){var l=je,d=kt(),h=Fe;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=n();var b=!Sn((ot||d).memoizedState,r);if(b&&(d.memoizedState=r,Ot=!0),d=d.queue,ah(B0.bind(null,l,d,e),[e]),d.getSnapshot!==n||b||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,wi(9,{destroy:void 0},P0.bind(null,l,d,r,n),null),ht===null)throw Error(i(349));h||(Wa&127)!==0||U0(l,n,r)}return r}function U0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=je.updateQueue,n===null?(n=Nu(),je.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function P0(e,n,r,l){n.value=r,n.getSnapshot=l,q0(n)&&H0(e)}function B0(e,n,r){return r(function(){q0(n)&&H0(e)})}function q0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Sn(e,r)}catch{return!0}}function H0(e){var n=kr(e,2);n!==null&&vn(n,e,2)}function th(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),zr){On(!0);try{r()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},n}function G0(e,n,r,l){return e.baseState=r,Wd(e,ot,typeof l=="function"?l:es)}function Tx(e,n,r,l,d){if(Iu(e))throw Error(i(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};K.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,F0(n,h)):(h.next=r.next,n.pending=r.next=h)}}function F0(e,n){var r=n.action,l=n.payload,d=e.state;if(n.isTransition){var h=K.T,b={};K.T=b;try{var E=r(d,l),R=K.S;R!==null&&R(b,E),Q0(e,n,E)}catch(q){nh(e,n,q)}finally{h!==null&&b.types!==null&&(h.types=b.types),K.T=h}}else try{h=r(d,l),Q0(e,n,h)}catch(q){nh(e,n,q)}}function Q0(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Y0(e,n,l)},function(l){return nh(e,n,l)}):Y0(e,n,r)}function Y0(e,n,r){n.status="fulfilled",n.value=r,K0(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,F0(e,r)))}function nh(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,K0(n),n=n.next;while(n!==l)}e.action=null}function K0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function X0(e,n){return n}function $0(e,n){if(Fe){var r=ht.formState;if(r!==null){e:{var l=je;if(Fe){if(mt){t:{for(var d=mt,h=Fn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Yn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=Yn(d.nextSibling),l=d.data==="F!";break e}}Rs(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:n},r.queue=l,r=gg.bind(null,je,l),l.dispatch=r,l=th(!1),h=oh.bind(null,je,!1,l.queue),l=cn(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,r=Tx.bind(null,je,d,h,r),d.dispatch=r,l.memoizedState=e,[n,r,!1]}function Z0(e){var n=kt();return J0(n,ot,e)}function J0(e,n,r){if(n=Wd(e,n,X0)[0],e=Cu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ol(n)}catch(b){throw b===bi?bu:b}else l=n;n=kt();var d=n.queue,h=d.dispatch;return r!==n.memoizedState&&(je.flags|=2048,wi(9,{destroy:void 0},wx.bind(null,d,r),null)),[l,h,e]}function wx(e,n){e.action=n}function W0(e){var n=kt(),r=ot;if(r!==null)return J0(n,r,e);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function wi(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=Nu(),je.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function eg(){return kt().memoizedState}function Ru(e,n,r,l){var d=cn();je.flags|=e,d.memoizedState=wi(1|n,{destroy:void 0},r,l===void 0?null:l)}function Du(e,n,r,l){var d=kt();l=l===void 0?null:l;var h=d.memoizedState.inst;ot!==null&&l!==null&&Yd(l,ot.memoizedState.deps)?d.memoizedState=wi(n,h,r,l):(je.flags|=e,d.memoizedState=wi(1|n,h,r,l))}function tg(e,n){Ru(8390656,8,e,n)}function ah(e,n){Du(2048,8,e,n)}function Sx(e){je.flags|=4;var n=je.updateQueue;if(n===null)n=Nu(),je.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ng(e){var n=kt().memoizedState;return Sx({ref:n,nextImpl:e}),function(){if((We&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function ag(e,n){return Du(4,2,e,n)}function sg(e,n){return Du(4,4,e,n)}function rg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ig(e,n,r){r=r!=null?r.concat([e]):null,Du(4,4,rg.bind(null,n,e),r)}function sh(){}function lg(e,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Yd(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function og(e,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Yd(n,l[1]))return l[0];if(l=e(),zr){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[l,n],l}function rh(e,n,r){return r===void 0||(Wa&1073741824)!==0&&(Pe&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=up(),je.lanes|=e,Us|=e,r)}function ug(e,n,r,l){return Sn(r,n)?r:_i.current!==null?(e=rh(e,r,l),Sn(e,n)||(Ot=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(Pe&261930)===0?(Ot=!0,e.memoizedState=r):(e=up(),je.lanes|=e,Us|=e,n)}function cg(e,n,r,l,d){var h=le.p;le.p=h!==0&&8>h?h:8;var b=K.T,E={};K.T=E,oh(e,!1,n,r);try{var R=d(),q=K.S;if(q!==null&&q(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=xx(R,l);zl(e,n,J,Dn(e))}else zl(e,n,l,Dn(e))}catch(ae){zl(e,n,{then:function(){},status:"rejected",reason:ae},Dn())}finally{le.p=h,b!==null&&E.types!==null&&(b.types=E.types),K.T=b}}function Ax(){}function ih(e,n,r,l){if(e.tag!==5)throw Error(i(476));var d=dg(e).queue;cg(e,d,n,ye,r===null?Ax:function(){return hg(e),r(l)})}function dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ye},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hg(e){var n=dg(e);n.next===null&&(n=e.alternate.memoizedState),zl(e,n.next.queue,{},Dn())}function lh(){return Jt(eo)}function fg(){return kt().memoizedState}function mg(){return kt().memoizedState}function Nx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=js(r);var l=Ms(n,e,r);l!==null&&(vn(l,n,r),Il(l,n,r)),n={cache:Od()},e.payload=n;return}n=n.return}}function kx(e,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Iu(e)?pg(n,r):(r=Sd(e,n,r,l),r!==null&&(vn(r,e,l),yg(r,n,l)))}function gg(e,n,r){var l=Dn();zl(e,n,r,l)}function zl(e,n,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))pg(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,E=h(b,r);if(d.hasEagerState=!0,d.eagerState=E,Sn(E,b))return hu(e,n,d,0),ht===null&&du(),!1}catch{}finally{}if(r=Sd(e,n,d,l),r!==null)return vn(r,e,l),yg(r,n,l),!0}return!1}function oh(e,n,r,l){if(l={lane:2,revertLane:Ph(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(n)throw Error(i(479))}else n=Sd(e,r,l,2),n!==null&&vn(n,e,2)}function Iu(e){var n=e.alternate;return e===je||n!==null&&n===je}function pg(e,n){Ei=Su=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function yg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,rl(e,r)}}var Ll={readContext:Jt,use:ku,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ll.useEffectEvent=Tt;var vg={readContext:Jt,use:ku,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Jt,useEffect:tg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ru(4194308,4,rg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ru(4194308,4,e,n)},useInsertionEffect:function(e,n){Ru(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var l=e();if(zr){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=cn();if(r!==void 0){var d=r(n);if(zr){On(!0);try{r(n)}finally{On(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=kx.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=th(e);var n=e.queue,r=gg.bind(null,je,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:sh,useDeferredValue:function(e,n){var r=cn();return rh(r,e,n)},useTransition:function(){var e=th(!1);return e=cg.bind(null,je,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=je,d=cn();if(Fe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),ht===null)throw Error(i(349));(Pe&127)!==0||U0(l,n,r)}d.memoizedState=r;var h={value:r,getSnapshot:n};return d.queue=h,tg(B0.bind(null,l,h,e),[e]),l.flags|=2048,wi(9,{destroy:void 0},P0.bind(null,l,h,r,n),null),r},useId:function(){var e=cn(),n=ht.identifierPrefix;if(Fe){var r=ja,l=Ia;r=(l&~(1<<32-St(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Au++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=_x++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:lh,useFormState:$0,useActionState:$0,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=oh.bind(null,je,!0,r),r.dispatch=n,[e,n]},useMemoCache:Jd,useCacheRefresh:function(){return cn().memoizedState=Nx.bind(null,je)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},uh={readContext:Jt,use:ku,useCallback:lg,useContext:Jt,useEffect:ah,useImperativeHandle:ig,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:Cu,useRef:eg,useState:function(){return Cu(es)},useDebugValue:sh,useDeferredValue:function(e,n){var r=kt();return ug(r,ot.memoizedState,e,n)},useTransition:function(){var e=Cu(es)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:Ol(e),n]},useSyncExternalStore:L0,useId:fg,useHostTransitionStatus:lh,useFormState:Z0,useActionState:Z0,useOptimistic:function(e,n){var r=kt();return G0(r,ot,e,n)},useMemoCache:Jd,useCacheRefresh:mg};uh.useEffectEvent=ng;var bg={readContext:Jt,use:ku,useCallback:lg,useContext:Jt,useEffect:ah,useImperativeHandle:ig,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:eh,useRef:eg,useState:function(){return eh(es)},useDebugValue:sh,useDeferredValue:function(e,n){var r=kt();return ot===null?rh(r,e,n):ug(r,ot.memoizedState,e,n)},useTransition:function(){var e=eh(es)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:Ol(e),n]},useSyncExternalStore:L0,useId:fg,useHostTransitionStatus:lh,useFormState:W0,useActionState:W0,useOptimistic:function(e,n){var r=kt();return ot!==null?G0(r,ot,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:mg};bg.useEffectEvent=ng;function ch(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dh={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Dn(),d=js(l);d.payload=n,r!=null&&(d.callback=r),n=Ms(e,d,l),n!==null&&(vn(n,e,l),Il(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Dn(),d=js(l);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=Ms(e,d,l),n!==null&&(vn(n,e,l),Il(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),l=js(r);l.tag=2,n!=null&&(l.callback=n),n=Ms(e,l,r),n!==null&&(vn(n,e,r),Il(n,e,r))}};function xg(e,n,r,l,d,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,b):n.prototype&&n.prototype.isPureReactComponent?!wl(r,l)||!wl(d,h):!0}function _g(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&dh.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=T({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Eg(e){cu(e)}function Tg(e){console.error(e)}function wg(e){cu(e)}function ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hh(e,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(e,n)},r}function Ag(e){return e=js(e),e.tag=3,e}function Ng(e,n,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;e.payload=function(){return d(h)},e.callback=function(){Sg(n,r,l)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Sg(n,r,l),typeof d!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Cx(e,n,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&pi(n,r,d,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?Fu():r.alternate===null&&wt===0&&(wt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===xu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),zh(e,l,d)),!1;case 22:return r.flags|=65536,l===xu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),zh(e,l,d)),!1}throw Error(i(435,r.tag))}return zh(e,l,d),Fu(),!1}if(Fe)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Dd&&(e=Error(i(422),{cause:l}),Nl(qn(e,r)))):(l!==Dd&&(n=Error(i(423),{cause:l}),Nl(qn(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=qn(l,r),d=hh(e.stateNode,l,d),qd(e,d),wt!==4&&(wt=2)),!1;var h=Error(i(520),{cause:l});if(h=qn(h,r),Ql===null?Ql=[h]:Ql.push(h),wt!==4&&(wt=2),n===null)return!0;l=qn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=hh(r.stateNode,l,e),qd(r,e),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ps===null||!Ps.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ag(d),Ng(d,e,r,l),qd(r,d),!1}r=r.return}while(r!==null);return!1}var fh=Error(i(461)),Ot=!1;function Wt(e,n,r,l){n.child=e===null?D0(n,null,r,l):Or(n,e.child,r,l)}function kg(e,n,r,l,d){r=r.render;var h=n.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return Ir(n),l=Kd(e,n,r,b,h,d),E=Xd(),e!==null&&!Ot?($d(e,n,d),ts(e,n,d)):(Fe&&E&&Cd(n),n.flags|=1,Wt(e,n,l,d),n.child)}function Cg(e,n,r,l,d){if(e===null){var h=r.type;return typeof h=="function"&&!Ad(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Rg(e,n,h,l,d)):(e=mu(r.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!_h(e,d)){var b=h.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(b,l)&&e.ref===n.ref)return ts(e,n,d)}return n.flags|=1,e=Xa(h,l),e.ref=n.ref,e.return=n,n.child=e}function Rg(e,n,r,l,d){if(e!==null){var h=e.memoizedProps;if(wl(h,l)&&e.ref===n.ref)if(Ot=!1,n.pendingProps=l=h,_h(e,d))(e.flags&131072)!==0&&(Ot=!0);else return n.lanes=e.lanes,ts(e,n,d)}return mh(e,n,r,l,d)}function Dg(e,n,r,l){var d=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=n.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,n.child=null;return Ig(e,n,h,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(n,h!==null?h.cachePool:null),h!==null?M0(n,h):Gd(),V0(n);else return l=n.lanes=536870912,Ig(e,n,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(vu(n,h.cachePool),M0(n,h),Os(),n.memoizedState=null):(e!==null&&vu(n,null),Gd(),Os());return Wt(e,n,d,r),n.child}function Ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(e,n,r,l,d){var h=Ld();return h=h===null?null:{parent:Mt._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&vu(n,null),Gd(),V0(n),e!==null&&pi(e,n,l,!0),n.childLanes=d,null}function Mu(e,n){return n=Ou({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jg(e,n,r){return Or(n,e.child,null,r),e=Mu(n,n.pendingProps),e.flags|=2,kn(n),n.memoizedState=null,e}function Rx(e,n,r){var l=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Fe){if(l.mode==="hidden")return e=Mu(n,l),n.lanes=536870912,Ul(null,e);if(Qd(n),(e=mt)?(e=Fp(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Ia,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},r=p0(e),r.return=n,n.child=r,Zt=n,mt=null)):e=null,e===null)throw Rs(n);return n.lanes=536870912,null}return Mu(n,l)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Qd(n),d)if(n.flags&256)n.flags&=-257,n=jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(Ot||pi(e,n,r,!1),d=(r&e.childLanes)!==0,Ot||d){if(l=ht,l!==null&&(b=il(l,r),b!==0&&b!==h.retryLane))throw h.retryLane=b,kr(e,b),vn(l,e,b),fh;Fu(),n=jg(e,n,r)}else e=h.treeContext,mt=Yn(b.nextSibling),Zt=n,Fe=!0,Cs=null,Fn=!1,e!==null&&b0(n,e),n=Mu(n,l),n.flags|=4096;return n}return e=Xa(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Vu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function mh(e,n,r,l,d){return Ir(n),r=Kd(e,n,r,l,void 0,d),l=Xd(),e!==null&&!Ot?($d(e,n,d),ts(e,n,d)):(Fe&&l&&Cd(n),n.flags|=1,Wt(e,n,r,d),n.child)}function Mg(e,n,r,l,d,h){return Ir(n),n.updateQueue=null,r=z0(n,l,r,d),O0(e),l=Xd(),e!==null&&!Ot?($d(e,n,h),ts(e,n,h)):(Fe&&l&&Cd(n),n.flags|=1,Wt(e,n,r,h),n.child)}function Vg(e,n,r,l,d){if(Ir(n),n.stateNode===null){var h=hi,b=r.contextType;typeof b=="object"&&b!==null&&(h=Jt(b)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=dh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Pd(n),b=r.contextType,h.context=typeof b=="object"&&b!==null?Jt(b):hi,h.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(ch(n,r,b,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&dh.enqueueReplaceState(h,h.state,null),Ml(n,l,h,d),jl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,R=Lr(r,E);h.props=R;var q=h.context,J=r.contextType;b=hi,typeof J=="object"&&J!==null&&(b=Jt(J));var ae=r.getDerivedStateFromProps;J=typeof ae=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||q!==b)&&_g(n,h,l,b),Is=!1;var H=n.memoizedState;h.state=H,Ml(n,l,h,d),jl(),q=n.memoizedState,E||H!==q||Is?(typeof ae=="function"&&(ch(n,r,ae,l),q=n.memoizedState),(R=Is||xg(n,r,R,l,H,q,b))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=b,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Bd(e,n),b=n.memoizedProps,J=Lr(r,b),h.props=J,ae=n.pendingProps,H=h.context,q=r.contextType,R=hi,typeof q=="object"&&q!==null&&(R=Jt(q)),E=r.getDerivedStateFromProps,(q=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==ae||H!==R)&&_g(n,h,l,R),Is=!1,H=n.memoizedState,h.state=H,Ml(n,l,h,d),jl();var Q=n.memoizedState;b!==ae||H!==Q||Is||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof E=="function"&&(ch(n,r,E,l),Q=n.memoizedState),(J=Is||xg(n,r,J,l,H,Q,R)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,Q,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,Q,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),h.props=l,h.state=Q,h.context=R,l=J):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Vu(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=Or(n,e.child,null,d),n.child=Or(n,null,r,d)):Wt(e,n,r,d),n.memoizedState=h.state,e=n.child):e=ts(e,n,d),e}function Og(e,n,r,l){return Rr(),n.flags|=256,Wt(e,n,r,l),n.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ph(e){return{baseLanes:e,cachePool:S0()}}function yh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function zg(e,n,r){var l=n.pendingProps,d=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),b&&(d=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Fe){if(d?Vs(n):Os(),(e=mt)?(e=Fp(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Ia,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},r=p0(e),r.return=n,n.child=r,Zt=n,mt=null)):e=null,e===null)throw Rs(n);return Wh(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,d?(Os(),d=n.mode,E=Ou({mode:"hidden",children:E},d),l=Cr(l,d,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=ph(r),l.childLanes=yh(e,b,r),n.memoizedState=gh,Ul(null,l)):(Vs(n),vh(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(Vs(n),n.flags&=-257,n=bh(e,n,r)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),E=l.fallback,d=n.mode,l=Ou({mode:"visible",children:l.children},d),E=Cr(E,d,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Or(n,e.child,null,r),l=n.child,l.memoizedState=ph(r),l.childLanes=yh(e,b,r),n.memoizedState=gh,n=Ul(null,l));else if(Vs(n),Wh(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(i(419)),l.stack="",l.digest=b,Nl({value:l,source:null,stack:null}),n=bh(e,n,r)}else if(Ot||pi(e,n,r,!1),b=(r&e.childLanes)!==0,Ot||b){if(b=ht,b!==null&&(l=il(b,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,kr(e,l),vn(b,e,l),fh;Jh(E)||Fu(),n=bh(e,n,r)}else Jh(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,mt=Yn(E.nextSibling),Zt=n,Fe=!0,Cs=null,Fn=!1,e!==null&&b0(n,e),n=vh(n,l.children),n.flags|=4096);return n}return d?(Os(),E=l.fallback,d=n.mode,R=e.child,q=R.sibling,l=Xa(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,q!==null?E=Xa(q,E):(E=Cr(E,d,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ul(null,l),l=n.child,E=e.child.memoizedState,E===null?E=ph(r):(d=E.cachePool,d!==null?(R=Mt._currentValue,d=d.parent!==R?{parent:R,pool:R}:d):d=S0(),E={baseLanes:E.baseLanes|r,cachePool:d}),l.memoizedState=E,l.childLanes=yh(e,b,r),n.memoizedState=gh,Ul(e.child,l)):(Vs(n),r=e.child,e=r.sibling,r=Xa(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=r,n.memoizedState=null,r)}function vh(e,n){return n=Ou({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ou(e,n){return e=An(22,e,null,n),e.lanes=0,e}function bh(e,n,r){return Or(n,e.child,null,r),e=vh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Md(e.return,n,r)}function xh(e,n,r,l,d,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=r,b.tailMode=d,b.treeForkCount=h)}function Ug(e,n,r){var l=n.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var b=Nt.current,E=(b&2)!==0;if(E?(b=b&1|2,n.flags|=128):b&=1,ue(Nt,b),Wt(e,n,l,r),l=Fe?Al:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lg(e,r,n);else if(e.tag===19)Lg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&wu(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),xh(n,!1,d,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&wu(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}xh(n,!0,r,null,h,l);break;case"together":xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Us|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(pi(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=Xa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function _h(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Dx(e,n,r){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Ds(n,Mt,e.memoizedState.cache),Rr();break;case 27:case 5:Zn(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zg(e,n,r):(Vs(n),e=ts(e,n,r),e!==null?e.sibling:null);Vs(n);break;case 19:var d=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(pi(e,n,r,!1),l=(r&n.childLanes)!==0),d){if(l)return Ug(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Nt,Nt.current),l)break;return null;case 22:return n.lanes=0,Dg(e,n,r,n.pendingProps);case 24:Ds(n,Mt,e.memoizedState.cache)}return ts(e,n,r)}function Pg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ot=!0;else{if(!_h(e,r)&&(n.flags&128)===0)return Ot=!1,Dx(e,n,r);Ot=(e.flags&131072)!==0}else Ot=!1,Fe&&(n.flags&1048576)!==0&&v0(n,Al,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Ad(e)?(l=Lr(e,l),n.tag=1,n=Vg(null,n,e,l,r)):(n.tag=0,n=mh(null,n,e,l,r));else{if(e!=null){var d=e.$$typeof;if(d===ve){n.tag=11,n=kg(null,n,e,l,r);break e}else if(d===N){n.tag=14,n=Cg(null,n,e,l,r);break e}}throw n=tt(e)||e,Error(i(306,n,""))}}return n;case 0:return mh(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,d=Lr(l,n.pendingProps),Vg(e,n,l,d,r);case 3:e:{if(bt(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var h=n.memoizedState;d=h.element,Bd(e,n),Ml(n,l,null,r);var b=n.memoizedState;if(l=b.cache,Ds(n,Mt,l),l!==h.cache&&Vd(n,[Mt],r,!0),jl(),l=b.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Og(e,n,l,r);break e}else if(l!==d){d=qn(Error(i(424)),n),Nl(d),n=Og(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Yn(e.firstChild),Zt=n,Fe=!0,Cs=null,Fn=!0,r=D0(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Rr(),l===d){n=ts(e,n,r);break e}Wt(e,n,l,r)}n=n.child}return n;case 26:return Vu(e,n),e===null?(r=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Fe||(r=n.type,e=n.pendingProps,l=Ju(Ne.current).createElement(r),l[Dt]=n,l[Gt]=e,en(l,r,e),It(l),n.stateNode=l):n.memoizedState=Zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zn(n),e===null&&Fe&&(l=n.stateNode=Kp(n.type,n.pendingProps,Ne.current),Zt=n,Fn=!0,d=mt,Gs(n.type)?(ef=d,mt=Yn(l.firstChild)):mt=d),Wt(e,n,n.pendingProps.children,r),Vu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Fe&&((d=l=mt)&&(l=l_(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Zt=n,mt=Yn(l.firstChild),Fn=!1,d=!0):d=!1),d||Rs(n)),Zn(n),d=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,l=h.children,Xh(d,h)?l=null:b!==null&&Xh(d,b)&&(n.flags|=32),n.memoizedState!==null&&(d=Kd(e,n,Ex,null,null,r),eo._currentValue=d),Vu(e,n),Wt(e,n,l,r),n.child;case 6:return e===null&&Fe&&((e=r=mt)&&(r=o_(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Zt=n,mt=null,e=!0):e=!1),e||Rs(n)),null;case 13:return zg(e,n,r);case 4:return bt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Or(n,null,l,r):Wt(e,n,l,r),n.child;case 11:return kg(e,n,n.type,n.pendingProps,r);case 7:return Wt(e,n,n.pendingProps,r),n.child;case 8:return Wt(e,n,n.pendingProps.children,r),n.child;case 12:return Wt(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ds(n,n.type,l.value),Wt(e,n,l.children,r),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Ir(n),d=Jt(d),l=l(d),n.flags|=1,Wt(e,n,l,r),n.child;case 14:return Cg(e,n,n.type,n.pendingProps,r);case 15:return Rg(e,n,n.type,n.pendingProps,r);case 19:return Ug(e,n,r);case 31:return Rx(e,n,r);case 22:return Dg(e,n,r,n.pendingProps);case 24:return Ir(n),l=Jt(Mt),e===null?(d=Ld(),d===null&&(d=ht,h=Od(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),n.memoizedState={parent:l,cache:d},Pd(n),Ds(n,Mt,d)):((e.lanes&r)!==0&&(Bd(e,n),Ml(n,null,null,r),jl()),d=e.memoizedState,h=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ds(n,Mt,l)):(l=h.cache,Ds(n,Mt,l),l!==d.cache&&Vd(n,[Mt],r,!0))),Wt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ns(e){e.flags|=4}function Eh(e,n,r,l,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(fp())e.flags|=8192;else throw Vr=xu,Ud}else e.flags&=-16777217}function Bg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ny(n))if(fp())e.flags|=8192;else throw Vr=xu,Ud}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ho():536870912,e.lanes|=n,ki|=n)}function Pl(e,n){if(!Fe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function Ix(e,n,r){var l=n.pendingProps;switch(Rd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ja(Mt),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gi(n)?ns(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Id())),gt(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(ns(n),h!==null?(gt(n),Bg(n,h)):(gt(n),Eh(n,d,null,l,r))):h?h!==e.memoizedState?(ns(n),gt(n),Bg(n,h)):(gt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ns(n),gt(n),Eh(n,d,e,l,r)),null;case 27:if(Jn(n),r=Ne.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return gt(n),null}e=de.current,gi(n)?x0(n):(e=Kp(d,l,r),n.stateNode=e,ns(n))}return gt(n),null;case 5:if(Jn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return gt(n),null}if(h=de.current,gi(n))x0(n);else{var b=Ju(Ne.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}h[Dt]=n,h[Gt]=l;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=h;e:switch(en(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return gt(n),Eh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=Ne.current,gi(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,d=Zt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[Dt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||zp(e.nodeValue,r)),e||Rs(n,!0)}else e=Ju(e).createTextNode(l),e[Dt]=n,n.stateNode=e}return gt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=gi(n),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Dt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),e=!1}else r=Id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return gt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=gi(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Dt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),d=!1}else d=Id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),zu(n,n.updateQueue),gt(n),null);case 4:return rt(),e===null&&Gh(n.stateNode.containerInfo),gt(n),null;case 10:return Ja(n.type),gt(n),null;case 19:if(W(Nt),l=n.memoizedState,l===null)return gt(n),null;if(d=(n.flags&128)!==0,h=l.rendering,h===null)if(d)Pl(l,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=wu(e),h!==null){for(n.flags|=128,Pl(l,!1),e=h.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)g0(r,e),r=r.sibling;return ue(Nt,Nt.current&1|2),Fe&&$a(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&it()>qu&&(n.flags|=128,d=!0,Pl(l,!1),n.lanes=4194304)}else{if(!d)if(e=wu(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Fe)return gt(n),null}else 2*it()-l.renderingStartTime>qu&&r!==536870912&&(n.flags|=128,d=!0,Pl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=it(),e.sibling=null,r=Nt.current,ue(Nt,d?r&1|2:r&1),Fe&&$a(n,l.treeForkCount),e):(gt(n),null);case 22:case 23:return kn(n),Fd(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&W(jr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ja(Mt),gt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function jx(e,n){switch(Rd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ja(Mt),rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jn(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(i(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(Nt),null;case 4:return rt(),null;case 10:return Ja(n.type),null;case 22:case 23:return kn(n),Fd(),e!==null&&W(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ja(Mt),null;case 25:return null;default:return null}}function qg(e,n){switch(Rd(n),n.tag){case 3:Ja(Mt),rt();break;case 26:case 27:case 5:Jn(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:W(Nt);break;case 10:Ja(n.type);break;case 22:case 23:kn(n),Fd(),e!==null&&W(jr);break;case 24:Ja(Mt)}}function Bl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&e)===e){l=void 0;var h=r.create,b=r.inst;l=h(),b.destroy=l}r=r.next}while(r!==d)}}catch(E){st(n,n.return,E)}}function zs(e,n,r){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&e)===e){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=n;var R=r,q=E;try{q()}catch(J){st(d,R,J)}}}l=l.next}while(l!==h)}}catch(J){st(n,n.return,J)}}function Hg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{j0(n,r)}catch(l){st(e,e.return,l)}}}function Gg(e,n,r){r.props=Lr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){st(e,n,l)}}function ql(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(d){st(e,n,d)}}function Ma(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){st(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){st(e,n,d)}else r.current=null}function Fg(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){st(e,e.return,d)}}function Th(e,n,r){try{var l=e.stateNode;t_(l,e.type,r,n),l[Gt]=n}catch(d){st(e,e.return,d)}}function Qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=sa));else if(l!==4&&(l===27&&Gs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Sh(e,n,r),e=e.sibling;e!==null;)Sh(e,n,r),e=e.sibling}function Lu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Gs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Lu(e,n,r),e=e.sibling;e!==null;)Lu(e,n,r),e=e.sibling}function Yg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);en(n,l,r),n[Dt]=e,n[Gt]=r}catch(h){st(e,e.return,h)}}var as=!1,zt=!1,Ah=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Mx(e,n){if(e=e.containerInfo,Yh=rc,e=i0(e),bd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var b=0,E=-1,R=-1,q=0,J=0,ae=e,H=null;t:for(;;){for(var Q;ae!==r||d!==0&&ae.nodeType!==3||(E=b+d),ae!==h||l!==0&&ae.nodeType!==3||(R=b+l),ae.nodeType===3&&(b+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)H=ae,ae=Q;for(;;){if(ae===e)break t;if(H===r&&++q===d&&(E=b),H===h&&++J===l&&(R=b),(Q=ae.nextSibling)!==null)break;ae=H,H=ae.parentNode}ae=Q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kh={focusedElem:e,selectionRange:r},rc=!1,Qt=n;Qt!==null;)if(n=Qt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qt=e;else for(;Qt!==null;){switch(n=Qt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=n,d=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ge=Lr(r.type,d);e=l.getSnapshotBeforeUpdate(ge,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){st(r,r.return,we)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Zh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Qt=e;break}Qt=n.return}}function Xg(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rs(e,r),l&4&&Bl(5,r);break;case 1:if(rs(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(b){st(r,r.return,b)}else{var d=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){st(r,r.return,b)}}l&64&&Hg(r),l&512&&ql(r,r.return);break;case 3:if(rs(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{j0(e,n)}catch(b){st(r,r.return,b)}}break;case 27:n===null&&l&4&&Yg(r);case 26:case 5:rs(e,r),n===null&&l&4&&Fg(r),l&512&&ql(r,r.return);break;case 12:rs(e,r);break;case 31:rs(e,r),l&4&&Jg(e,r);break;case 13:rs(e,r),l&4&&Wg(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Hx.bind(null,r),u_(e,r))));break;case 22:if(l=r.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||zt,d=as;var h=zt;as=l,(zt=n)&&!h?is(e,r,(r.subtreeFlags&8772)!==0):rs(e,r),as=d,zt=h}break;case 30:break;default:rs(e,r)}}function $g(e){var n=e.alternate;n!==null&&(e.alternate=null,$g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var vt=null,mn=!1;function ss(e,n,r){for(r=r.child;r!==null;)Zg(e,n,r),r=r.sibling}function Zg(e,n,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ea,r)}catch{}switch(r.tag){case 26:zt||Ma(r,n),ss(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:zt||Ma(r,n);var l=vt,d=mn;Gs(r.type)&&(vt=r.stateNode,mn=!1),ss(e,n,r),Zl(r.stateNode),vt=l,mn=d;break;case 5:zt||Ma(r,n);case 6:if(l=vt,d=mn,vt=null,ss(e,n,r),vt=l,mn=d,vt!==null)if(mn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(r.stateNode)}catch(h){st(r,n,h)}else try{vt.removeChild(r.stateNode)}catch(h){st(r,n,h)}break;case 18:vt!==null&&(mn?(e=vt,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oi(e)):Hp(vt,r.stateNode));break;case 4:l=vt,d=mn,vt=r.stateNode.containerInfo,mn=!0,ss(e,n,r),vt=l,mn=d;break;case 0:case 11:case 14:case 15:zs(2,r,n),zt||zs(4,r,n),ss(e,n,r);break;case 1:zt||(Ma(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Gg(r,n,l)),ss(e,n,r);break;case 21:ss(e,n,r);break;case 22:zt=(l=zt)||r.memoizedState!==null,ss(e,n,r),zt=l;break;default:ss(e,n,r)}}function Jg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oi(e)}catch(r){st(n,n.return,r)}}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oi(e)}catch(r){st(n,n.return,r)}}function Vx(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kg),n;default:throw Error(i(435,e.tag))}}function Uu(e,n){var r=Vx(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var d=Gx.bind(null,e,l);l.then(d,d)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],h=e,b=n,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){vt=E.stateNode,mn=!1;break e}break;case 5:vt=E.stateNode,mn=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,mn=!0;break e}E=E.return}if(vt===null)throw Error(i(160));Zg(h,b,d),vt=null,mn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,e),n=n.sibling}var ca=null;function ep(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),l&4&&(zs(3,e,e.return),Bl(3,e),zs(5,e,e.return));break;case 1:gn(n,e),pn(e),l&512&&(zt||r===null||Ma(r,r.return)),l&64&&as&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=ca;if(gn(n,e),pn(e),l&512&&(zt||r===null||Ma(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[xa]||h[Dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),en(h,l,r),h[Dt]=e,It(h),l=h;break e;case"link":var b=ey("link","href",d).get(l+(r.href||""));if(b){for(var E=0;E<b.length;E++)if(h=b[E],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(E,1);break t}}h=d.createElement(l),en(h,l,r),d.head.appendChild(h);break;case"meta":if(b=ey("meta","content",d).get(l+(r.content||""))){for(E=0;E<b.length;E++)if(h=b[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(E,1);break t}}h=d.createElement(l),en(h,l,r),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[Dt]=e,It(h),l=h}e.stateNode=l}else ty(d,e.type,e.stateNode);else e.stateNode=Wp(d,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?ty(d,e.type,e.stateNode):Wp(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Th(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),pn(e),l&512&&(zt||r===null||Ma(r,r.return)),r!==null&&l&4&&Th(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),pn(e),l&512&&(zt||r===null||Ma(r,r.return)),e.flags&32){d=e.stateNode;try{fn(d,"")}catch(ge){st(e,e.return,ge)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Th(e,d,r!==null?r.memoizedProps:d)),l&1024&&(Ah=!0);break;case 6:if(gn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ge){st(e,e.return,ge)}}break;case 3:if(tc=null,d=ca,ca=Wu(n.containerInfo),gn(n,e),ca=d,pn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Oi(n.containerInfo)}catch(ge){st(e,e.return,ge)}Ah&&(Ah=!1,tp(e));break;case 4:l=ca,ca=Wu(e.stateNode.containerInfo),gn(n,e),pn(e),ca=l;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bu=it()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 22:d=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,q=as,J=zt;if(as=q||d,zt=J||R,gn(n,e),zt=J,as=q,pn(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||R||as||zt||Ur(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(h=R.stateNode,d)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=R.stateNode;var ae=R.memoizedProps.style,H=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ge){st(R,R.return,ge)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(ge){st(R,R.return,ge)}}}else if(n.tag===18){if(r===null){R=n;try{var Q=R.stateNode;d?Gp(Q,!0):Gp(R.stateNode,!1)}catch(ge){st(R,R.return,ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Uu(e,r))));break;case 19:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Qg(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=wh(e);Lu(e,h,d);break;case 5:var b=r.stateNode;r.flags&32&&(fn(b,""),r.flags&=-33);var E=wh(e);Lu(e,E,b);break;case 3:case 4:var R=r.stateNode.containerInfo,q=wh(e);Sh(e,q,R);break;default:throw Error(i(161))}}catch(J){st(e,e.return,J)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function tp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Ur(n);break;case 1:Ma(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Gg(n,n.return,r),Ur(n);break;case 27:Zl(n.stateNode);case 26:case 5:Ma(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function is(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:is(d,h,r),Bl(4,h);break;case 1:if(is(d,h,r),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){st(l,l.return,q)}if(l=h,d=l.updateQueue,d!==null){var E=l.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)I0(R[d],E)}catch(q){st(l,l.return,q)}}r&&b&64&&Hg(h),ql(h,h.return);break;case 27:Yg(h);case 26:case 5:is(d,h,r),r&&l===null&&b&4&&Fg(h),ql(h,h.return);break;case 12:is(d,h,r);break;case 31:is(d,h,r),r&&b&4&&Jg(d,h);break;case 13:is(d,h,r),r&&b&4&&Wg(d,h);break;case 22:h.memoizedState===null&&is(d,h,r),ql(h,h.return);break;case 30:break;default:is(d,h,r)}n=n.sibling}}function Nh(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&kl(r))}function kh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function da(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,r,l),n=n.sibling}function np(e,n,r,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:da(e,n,r,l),d&2048&&Bl(9,n);break;case 1:da(e,n,r,l);break;case 3:da(e,n,r,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(d&2048){da(e,n,r,l),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,E=h.onPostCommit;typeof E=="function"&&E(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){st(n,n.return,R)}}else da(e,n,r,l);break;case 31:da(e,n,r,l);break;case 13:da(e,n,r,l);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?da(e,n,r,l):Hl(e,n):h._visibility&2?da(e,n,r,l):(h._visibility|=2,Si(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Nh(b,n);break;case 24:da(e,n,r,l),d&2048&&kh(n.alternate,n);break;default:da(e,n,r,l)}}function Si(e,n,r,l,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,b=n,E=r,R=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:Si(h,b,E,R,d),Bl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Si(h,b,E,R,d):Hl(h,b):(J._visibility|=2,Si(h,b,E,R,d)),d&&q&2048&&Nh(b.alternate,b);break;case 24:Si(h,b,E,R,d),d&&q&2048&&kh(b.alternate,b);break;default:Si(h,b,E,R,d)}n=n.sibling}}function Hl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,d=l.flags;switch(l.tag){case 22:Hl(r,l),d&2048&&Nh(l.alternate,l);break;case 24:Hl(r,l),d&2048&&kh(l.alternate,l);break;default:Hl(r,l)}n=n.sibling}}var Gl=8192;function Ai(e,n,r){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)ap(e,n,r),e=e.sibling}function ap(e,n,r){switch(e.tag){case 26:Ai(e,n,r),e.flags&Gl&&e.memoizedState!==null&&__(r,ca,e.memoizedState,e.memoizedProps);break;case 5:Ai(e,n,r);break;case 3:case 4:var l=ca;ca=Wu(e.stateNode.containerInfo),Ai(e,n,r),ca=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,Ai(e,n,r),Gl=l):Ai(e,n,r));break;default:Ai(e,n,r)}}function sp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,ip(l,e)}sp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pu(e)):Fl(e);break;default:Fl(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,ip(l,e)}sp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),Pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Pu(n));break;default:Pu(n)}e=e.sibling}}function ip(e,n){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Qt=l;else e:for(r=e;Qt!==null;){l=Qt;var d=l.sibling,h=l.return;if($g(l),l===r){Qt=null;break e}if(d!==null){d.return=h,Qt=d;break e}Qt=h}}}var Ox={getCacheForType:function(e){var n=Jt(Mt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Jt(Mt).controller.signal}},zx=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,Le=null,Pe=0,at=0,Cn=null,Ls=!1,Ni=!1,Ch=!1,ls=0,wt=0,Us=0,Pr=0,Rh=0,Rn=0,ki=0,Ql=null,yn=null,Dh=!1,Bu=0,lp=0,qu=1/0,Hu=null,Ps=null,Bt=0,Bs=null,Ci=null,os=0,Ih=0,jh=null,op=null,Yl=0,Mh=null;function Dn(){return(We&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?Ph():Go()}function up(){if(Rn===0)if((Pe&536870912)===0||Fe){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Rn=e}else Rn=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Rn}function vn(e,n,r){(e===ht&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Ri(e,0),qs(e,Pe,Rn,!1)),mr(e,r),((We&2)===0||e!==ht)&&(e===ht&&((We&2)===0&&(Pr|=r),wt===4&&qs(e,Pe,Rn,!1)),Va(e))}function cp(e,n,r){if((We&6)!==0)throw Error(i(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||ta(e,n),d=l?Px(e,n):Oh(e,n,!0),h=l;do{if(d===0){Ni&&!l&&qs(e,n,0,!1);break}else{if(r=e.current.alternate,h&&!Lx(r)){d=Oh(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var E=e;d=Ql;var R=E.current.memoizedState.isDehydrated;if(R&&(Ri(E,b).flags|=256),b=Oh(E,b,!1),b!==2){if(Ch&&!R){E.errorRecoveryDisabledLanes|=h,Pr|=h,d=4;break e}h=yn,yn=d,h!==null&&(yn===null?yn=h:yn.push.apply(yn,h))}d=b}if(h=!1,d!==2)continue}}if(d===1){Ri(e,0),qs(e,n,0,!0);break}e:{switch(l=e,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:qs(l,n,Rn,!Ls);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(d=Bu+300-it(),10<d)){if(qs(l,n,Rn,!Ls),ya(l,0,!0)!==0)break e;os=n,l.timeoutHandle=Bp(dp.bind(null,l,r,yn,Hu,Dh,n,Rn,Pr,ki,Ls,h,"Throttled",-0,0),d);break e}dp(l,r,yn,Hu,Dh,n,Rn,Pr,ki,Ls,h,null,-0,0)}}break}while(!0);Va(e)}function dp(e,n,r,l,d,h,b,E,R,q,J,ae,H,Q){if(e.timeoutHandle=-1,ae=n.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},ap(n,h,ae);var ge=(h&62914560)===h?Bu-it():(h&4194048)===h?lp-it():0;if(ge=E_(ae,ge),ge!==null){os=h,e.cancelPendingCommit=ge(bp.bind(null,e,n,h,r,l,d,b,E,R,J,ae,null,H,Q)),qs(e,h,b,!q);return}}bp(e,n,h,r,l,d,b,E,R)}function Lx(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!Sn(h(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,r,l){n&=~Rh,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var h=31-St(d),b=1<<h;l[h]=-1,d&=~b}r!==0&&gr(e,r,n)}function Gu(){return(We&6)===0?(Kl(0),!1):!0}function Vh(){if(Le!==null){if(at===0)var e=Le.return;else e=Le,Za=Dr=null,Zd(e),xi=null,Rl=0,e=Le;for(;e!==null;)qg(e.alternate,e),e=e.return;Le=null}}function Ri(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,s_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),os=0,Vh(),ht=e,Le=r=Xa(e.current,null),Pe=n,at=0,Cn=null,Ls=!1,Ni=ta(e,n),Ch=!1,ki=Rn=Rh=Pr=Us=wt=0,yn=Ql=null,Dh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-St(l),h=1<<d;n|=e[d],l&=~h}return ls=n,du(),r}function hp(e,n){je=null,K.H=Ll,n===bi||n===bu?(n=k0(),at=3):n===Ud?(n=k0(),at=4):at=n===fh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Le===null&&(wt=1,ju(e,qn(n,e.current)))}function fp(){var e=Nn.current;return e===null?!0:(Pe&4194048)===Pe?Qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?e===Qn:!1}function mp(){var e=K.H;return K.H=Ll,e===null?Ll:e}function gp(){var e=K.A;return K.A=Ox,e}function Fu(){wt=4,Ls||(Pe&4194048)!==Pe&&Nn.current!==null||(Ni=!0),(Us&134217727)===0&&(Pr&134217727)===0||ht===null||qs(ht,Pe,Rn,!1)}function Oh(e,n,r){var l=We;We|=2;var d=mp(),h=gp();(ht!==e||Pe!==n)&&(Hu=null,Ri(e,n)),n=!1;var b=wt;e:do try{if(at!==0&&Le!==null){var E=Le,R=Cn;switch(at){case 8:Vh(),b=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var q=at;if(at=0,Cn=null,Di(e,E,R,q),r&&Ni){b=0;break e}break;default:q=at,at=0,Cn=null,Di(e,E,R,q)}}Ux(),b=wt;break}catch(J){hp(e,J)}while(!0);return n&&e.shellSuspendCounter++,Za=Dr=null,We=l,K.H=d,K.A=h,Le===null&&(ht=null,Pe=0,du()),b}function Ux(){for(;Le!==null;)pp(Le)}function Px(e,n){var r=We;We|=2;var l=mp(),d=gp();ht!==e||Pe!==n?(Hu=null,qu=it()+500,Ri(e,n)):Ni=ta(e,n);e:do try{if(at!==0&&Le!==null){n=Le;var h=Cn;t:switch(at){case 1:at=0,Cn=null,Di(e,n,h,1);break;case 2:case 9:if(A0(h)){at=0,Cn=null,yp(n);break}n=function(){at!==2&&at!==9||ht!==e||(at=7),Va(e)},h.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:A0(h)?(at=0,Cn=null,yp(n)):(at=0,Cn=null,Di(e,n,h,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var E=Le;if(b?ny(b):E.stateNode.complete){at=0,Cn=null;var R=E.sibling;if(R!==null)Le=R;else{var q=E.return;q!==null?(Le=q,Qu(q)):Le=null}break t}}at=0,Cn=null,Di(e,n,h,5);break;case 6:at=0,Cn=null,Di(e,n,h,6);break;case 8:Vh(),wt=6;break e;default:throw Error(i(462))}}Bx();break}catch(J){hp(e,J)}while(!0);return Za=Dr=null,K.H=l,K.A=d,We=r,Le!==null?0:(ht=null,Pe=0,du(),wt)}function Bx(){for(;Le!==null&&!Ve();)pp(Le)}function pp(e){var n=Pg(e.alternate,e,ls);e.memoizedProps=e.pendingProps,n===null?Qu(e):Le=n}function yp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mg(r,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Mg(r,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Zd(n);default:qg(r,n),n=Le=g0(n,ls),n=Pg(r,n,ls)}e.memoizedProps=e.pendingProps,n===null?Qu(e):Le=n}function Di(e,n,r,l){Za=Dr=null,Zd(n),xi=null,Rl=0;var d=n.return;try{if(Cx(e,d,n,r,Pe)){wt=1,ju(e,qn(r,e.current)),Le=null;return}}catch(h){if(d!==null)throw Le=d,h;wt=1,ju(e,qn(r,e.current)),Le=null;return}n.flags&32768?(Fe||l===1?e=!0:Ni||(Pe&536870912)!==0?e=!1:(Ls=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,e)):Qu(n)}function Qu(e){var n=e;do{if((n.flags&32768)!==0){vp(n,Ls);return}e=n.return;var r=Ix(n.alternate,n,ls);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=e}while(n!==null);wt===0&&(wt=5)}function vp(e,n){do{var r=jx(e.alternate,e);if(r!==null){r.flags&=32767,Le=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Le=e;return}Le=e=r}while(e!==null);wt=6,Le=null}function bp(e,n,r,l,d,h,b,E,R){e.cancelPendingCommit=null;do Yu();while(Bt!==0);if((We&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(h=n.lanes|n.childLanes,h|=wd,gd(e,r,h,b,E,R),e===ht&&(Le=ht=null,Pe=0),Ci=n,Bs=e,os=r,Ih=h,jh=d,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fx(Vn,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=le.p,le.p=2,b=We,We|=4;try{Mx(e,n,r)}finally{We=b,le.p=d,K.T=l}}Bt=1,xp(),_p(),Ep()}}function xp(){if(Bt===1){Bt=0;var e=Bs,n=Ci,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var d=We;We|=4;try{ep(n,e);var h=Kh,b=i0(e.containerInfo),E=h.focusedElem,R=h.selectionRange;if(b!==E&&E&&E.ownerDocument&&r0(E.ownerDocument.documentElement,E)){if(R!==null&&bd(E)){var q=R.start,J=R.end;if(J===void 0&&(J=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(J,E.value.length);else{var ae=E.ownerDocument||document,H=ae&&ae.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ge=E.textContent.length,we=Math.min(R.start,ge),ct=R.end===void 0?we:Math.min(R.end,ge);!Q.extend&&we>ct&&(b=ct,ct=we,we=b);var L=s0(E,we),M=s0(E,ct);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=ae.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),we>ct?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(ae=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&ae.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ae.length;E++){var ee=ae[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}rc=!!Yh,Kh=Yh=null}finally{We=d,le.p=l,K.T=r}}e.current=n,Bt=2}}function _p(){if(Bt===2){Bt=0;var e=Bs,n=Ci,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var d=We;We|=4;try{Xg(e,n.alternate,n)}finally{We=d,le.p=l,K.T=r}}Bt=3}}function Ep(){if(Bt===4||Bt===3){Bt=0,En();var e=Bs,n=Ci,r=os,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Ci=Bs=null,Tp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ps=null),Fa(r),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ea,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,d=le.p,le.p=2,K.T=null;try{for(var h=e.onRecoverableError,b=0;b<l.length;b++){var E=l[b];h(E.value,{componentStack:E.stack})}}finally{K.T=n,le.p=d}}(os&3)!==0&&Yu(),Va(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Mh?Yl++:(Yl=0,Mh=e):Yl=0,Kl(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function Yu(){return xp(),_p(),Ep(),wp()}function wp(){if(Bt!==5)return!1;var e=Bs,n=Ih;Ih=0;var r=Fa(os),l=K.T,d=le.p;try{le.p=32>r?32:r,K.T=null,r=jh,jh=null;var h=Bs,b=os;if(Bt=0,Ci=Bs=null,os=0,(We&6)!==0)throw Error(i(331));var E=We;if(We|=4,rp(h.current),np(h,h.current,b,r),We=E,Kl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ea,h)}catch{}return!0}finally{le.p=d,K.T=l,Tp(e,n)}}function Sp(e,n,r){n=qn(r,n),n=hh(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(mr(e,2),Va(e))}function st(e,n,r){if(e.tag===3)Sp(e,e,r);else for(;n!==null;){if(n.tag===3){Sp(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){e=qn(r,e),r=Ag(2),l=Ms(n,r,2),l!==null&&(Ng(r,l,n,e),mr(l,2),Va(l));break}}n=n.return}}function zh(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new zx;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(r)||(Ch=!0,d.add(r),e=qx.bind(null,e,n,r),n.then(e,e))}function qx(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ht===e&&(Pe&r)===r&&(wt===4||wt===3&&(Pe&62914560)===Pe&&300>it()-Bu?(We&2)===0&&Ri(e,0):Rh|=r,ki===Pe&&(ki=0)),Va(e)}function Ap(e,n){n===0&&(n=Ho()),e=kr(e,n),e!==null&&(mr(e,n),Va(e))}function Hx(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ap(e,r)}function Gx(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),Ap(e,r)}function Fx(e,n){return Ae(e,n)}var Ku=null,Ii=null,Lh=!1,Xu=!1,Uh=!1,Hs=0;function Va(e){e!==Ii&&e.next===null&&(Ii===null?Ku=Ii=e:Ii=Ii.next=e),Xu=!0,Lh||(Lh=!0,Yx())}function Kl(e,n){if(!Uh&&Xu){Uh=!0;do for(var r=!1,l=Ku;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var b=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-St(42|e)+1)-1,h&=d&~(b&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Rp(l,h))}else h=Pe,h=ya(l,l===ht?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ta(l,h)||(r=!0,Rp(l,h));l=l.next}while(r);Uh=!1}}function Qx(){Np()}function Np(){Xu=Lh=!1;var e=0;Hs!==0&&a_()&&(e=Hs);for(var n=it(),r=null,l=Ku;l!==null;){var d=l.next,h=kp(l,n);h===0?(l.next=null,r===null?Ku=d:r.next=d,d===null&&(Ii=r)):(r=l,(e!==0||(h&3)!==0)&&(Xu=!0)),l=d}Bt!==0&&Bt!==5||Kl(e),Hs!==0&&(Hs=0)}function kp(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-St(h),E=1<<b,R=d[b];R===-1?((E&r)===0||(E&l)!==0)&&(d[b]=md(E,n)):R<=n&&(e.expiredLanes|=E),h&=~E}if(n=ht,r=Pe,r=ya(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xe(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ta(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Xe(l),Fa(r)){case 2:case 8:r=hr;break;case 32:r=Vn;break;case 268435456:r=Ga;break;default:r=Vn}return l=Cp.bind(null,e),r=Ae(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Xe(l),e.callbackPriority=2,e.callbackNode=null,2}function Cp(e,n){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yu()&&e.callbackNode!==r)return null;var l=Pe;return l=ya(e,e===ht?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cp(e,l,n),kp(e,it()),e.callbackNode!=null&&e.callbackNode===r?Cp.bind(null,e):null)}function Rp(e,n){if(Yu())return null;cp(e,n,!0)}function Yx(){r_(function(){(We&6)!==0?Ae(Wn,Qx):Np()})}function Ph(){if(Hs===0){var e=yi;e===0&&(e=ga,ga<<=1,(ga&261888)===0&&(ga=256)),Hs=e}return Hs}function Dp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ni(""+e)}function Ip(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Kx(e,n,r,l,d){if(n==="submit"&&r&&r.stateNode===d){var h=Dp((d[Gt]||null).action),b=l.submitter;b&&(n=(n=b[Gt]||null)?Dp(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var E=new ka("action","action",null,l,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var R=b?Ip(d,b):new FormData(d);ih(r,{pending:!0,data:R,method:d.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=b?Ip(d,b):new FormData(d),ih(r,{pending:!0,data:R,method:d.method,action:h},h,R))},currentTarget:d}]})}}for(var Bh=0;Bh<Td.length;Bh++){var qh=Td[Bh],Xx=qh.toLowerCase(),$x=qh[0].toUpperCase()+qh.slice(1);ua(Xx,"on"+$x)}ua(u0,"onAnimationEnd"),ua(c0,"onAnimationIteration"),ua(d0,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(hx,"onTransitionRun"),ua(fx,"onTransitionStart"),ua(mx,"onTransitionCancel"),ua(h0,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function jp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var b=l.length-1;0<=b;b--){var E=l[b],R=E.instance,q=E.currentTarget;if(E=E.listener,R!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=q;try{h(d)}catch(J){cu(J)}d.currentTarget=null,h=R}else for(b=0;b<l.length;b++){if(E=l[b],R=E.instance,q=E.currentTarget,E=E.listener,R!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=q;try{h(d)}catch(J){cu(J)}d.currentTarget=null,h=R}}}}function Ue(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var l=e+"__bubble";r.has(l)||(Mp(n,e,2,!1),r.add(l))}function Hh(e,n,r){var l=0;n&&(l|=4),Mp(r,e,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Gh(e){if(!e[$u]){e[$u]=!0,ll.forEach(function(r){r!=="selectionchange"&&(Zx.has(r)||Hh(r,!1,e),Hh(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$u]||(n[$u]=!0,Hh("selectionchange",!1,n))}}function Mp(e,n,r,l){switch(uy(n)){case 2:var d=S_;break;case 8:d=A_;break;default:d=rf}r=d.bind(null,n,r,e),d=void 0,!xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function Fh(e,n,r,l,d){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=_a(E),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=h=b;continue e}E=E.parentNode}}l=l.return}ws(function(){var q=h,J=Ln(r),ae=[];e:{var H=f0.get(e);if(H!==void 0){var Q=ka,ge=e;switch(e){case"keypress":if(Er(r)===0)break e;case"keydown":case"keyup":Q=lu;break;case"focusin":ge="focus",Q=wr;break;case"focusout":ge="blur",Q=wr;break;case"beforeblur":case"afterblur":Q=wr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case u0:case c0:case d0:Q=eu;break;case h0:Q=w;break;case"scroll":case"scrollend":Q=bl;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ka;break;case"toggle":case"beforetoggle":Q=Ie}var we=(n&4)!==0,ct=!we&&(e==="scroll"||e==="scrollend"),L=we?H!==null?H+"Capture":null:H;we=[];for(var M=q,B;M!==null;){var ee=M;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||L===null||(ee=ra(M,L),ee!=null&&we.push($l(M,ee,B))),ct)break;M=M.return}0<we.length&&(H=new Q(H,ge,null,r,J),ae.push({event:H,listeners:we}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",H&&r!==pl&&(ge=r.relatedTarget||r.fromElement)&&(_a(ge)||ge[ba]))break e;if((Q||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ge=r.relatedTarget||r.toElement,Q=q,ge=ge?_a(ge):null,ge!==null&&(ct=c(ge),we=ge.tag,ge!==ct||we!==5&&we!==27&&we!==6)&&(ge=null)):(Q=null,ge=q),Q!==ge)){if(we=xl,ee="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(we=Ka,ee="onPointerLeave",L="onPointerEnter",M="pointer"),ct=Q==null?H:Tn(Q),B=ge==null?H:Tn(ge),H=new we(ee,M+"leave",Q,r,J),H.target=ct,H.relatedTarget=B,ee=null,_a(J)===q&&(we=new we(L,M+"enter",ge,r,J),we.target=B,we.relatedTarget=ct,ee=we),ct=ee,Q&&ge)t:{for(we=Jx,L=Q,M=ge,B=0,ee=L;ee;ee=we(ee))B++;ee=0;for(var _e=M;_e;_e=we(_e))ee++;for(;0<B-ee;)L=we(L),B--;for(;0<ee-B;)M=we(M),ee--;for(;B--;){if(L===M||M!==null&&L===M.alternate){we=L;break t}L=we(L),M=we(M)}we=null}else we=null;Q!==null&&Vp(ae,H,Q,we,!1),ge!==null&&ct!==null&&Vp(ae,ct,ge,we,!0)}}e:{if(H=q?Tn(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var $e=Jm;else if($m(H))if(Wm)$e=ux;else{$e=lx;var pe=ix}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ti(q.elementType)&&($e=Jm):$e=ox;if($e&&($e=$e(e,q))){Zm(ae,$e,r,J);break e}pe&&pe(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&fl(H,"number",H.value)}switch(pe=q?Tn(q):window,e){case"focusin":($m(pe)||pe.contentEditable==="true")&&(ui=pe,xd=q,Sl=null);break;case"focusout":Sl=xd=ui=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,l0(ae,r,J);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":l0(ae,r,J)}var Me;if(Je)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else oi?Sr(e,r)&&(Be="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Da&&r.locale!=="ko"&&(oi||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&oi&&(Me=vl()):(Na=J,yl="value"in Na?Na.value:Na.textContent,oi=!0)),pe=Zu(q,Be),0<pe.length&&(Be=new Ra(Be,e,null,r,J),ae.push({event:Be,listeners:pe}),Me?Be.data=Me:(Me=li(r),Me!==null&&(Be.data=Me)))),(Me=Pn?nx(e,r):ax(e,r))&&(Be=Zu(q,"onBeforeInput"),0<Be.length&&(pe=new Ra("onBeforeInput","beforeinput",null,r,J),ae.push({event:pe,listeners:Be}),pe.data=Me)),Kx(ae,e,q,r,J)}jp(ae,n)})}function $l(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Zu(e,n){for(var r=n+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ra(e,r),d!=null&&l.unshift($l(e,d,h)),d=ra(e,n),d!=null&&l.push($l(e,d,h))),e.tag===3)return l;e=e.return}return[]}function Jx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vp(e,n,r,l,d){for(var h=n._reactName,b=[];r!==null&&r!==l;){var E=r,R=E.alternate,q=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||q===null||(R=q,d?(q=ra(r,h),q!=null&&b.unshift($l(r,q,R))):d||(q=ra(r,h),q!=null&&b.push($l(r,q,R)))),r=r.return}b.length!==0&&e.push({event:n,listeners:b})}var Wx=/\r\n?/g,e_=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(e_,"")}function zp(e,n){return n=Op(n),Op(e)===n}function ut(e,n,r,l,d,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(e,""+l);break;case"className":wn(e,"class",l);break;case"tabIndex":wn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,r,l);break;case"style":gl(e,l,h);break;case"data":if(n!=="object"){wn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ni(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&ut(e,n,"name",d.name,d,null),ut(e,n,"formEncType",d.formEncType,d,null),ut(e,n,"formMethod",d.formMethod,d,null),ut(e,n,"formTarget",d.formTarget,d,null)):(ut(e,n,"encType",d.encType,d,null),ut(e,n,"method",d.method,d,null),ut(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ni(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=sa);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ni(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zo.get(r)||r,Wr(e,r,l))}}function Qh(e,n,r,l,d,h){switch(r){case"style":gl(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?fn(e,l):(typeof l=="number"||typeof l=="bigint")&&fn(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),h=e[Gt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,d);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Wr(e,r,l)}}}function en(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var b=r[h];if(b!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ut(e,n,h,b,r,null)}}d&&ut(e,n,"srcSet",r.srcSet,r,null),l&&ut(e,n,"src",r.src,r,null);return;case"input":Ue("invalid",e);var E=h=b=d=null,R=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":d=J;break;case"type":b=J;break;case"checked":R=J;break;case"defaultChecked":q=J;break;case"value":h=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,n));break;default:ut(e,n,l,J,r,null)}}Ko(e,h,E,R,q,b,d,!1);return;case"select":Ue("invalid",e),l=b=h=null;for(d in r)if(r.hasOwnProperty(d)&&(E=r[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:ut(e,n,d,E,r,null)}n=h,r=b,e.multiple=!!l,n!=null?xs(e,!!l,n,!1):r!=null&&xs(e,!!l,r,!0);return;case"textarea":Ue("invalid",e),h=d=l=null;for(b in r)if(r.hasOwnProperty(b)&&(E=r[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ut(e,n,b,E,r,null)}_s(e,l,d,h);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(e,n,R,l,r,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Ue(Xl[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ut(e,n,q,l,r,null)}return;default:if(ti(n)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&Qh(e,n,J,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ut(e,n,E,l,r,null))}function t_(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,b=null,E=null,R=null,q=null,J=null;for(Q in r){var ae=r[Q];if(r.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=ae;default:l.hasOwnProperty(Q)||ut(e,n,Q,null,l,ae)}}for(var H in l){var Q=l[H];if(ae=r[H],l.hasOwnProperty(H)&&(Q!=null||ae!=null))switch(H){case"type":h=Q;break;case"name":d=Q;break;case"checked":q=Q;break;case"defaultChecked":J=Q;break;case"value":b=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,n));break;default:Q!==ae&&ut(e,n,H,Q,l,ae)}}ei(e,b,E,R,q,J,h,d);return;case"select":Q=b=E=H=null;for(h in r)if(R=r[h],r.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(h)||ut(e,n,h,null,l,R)}for(d in l)if(h=l[d],R=r[d],l.hasOwnProperty(d)&&(h!=null||R!=null))switch(d){case"value":H=h;break;case"defaultValue":E=h;break;case"multiple":b=h;default:h!==R&&ut(e,n,d,h,l,R)}n=E,r=b,l=Q,H!=null?xs(e,!!r,H,!1):!!l!=!!r&&(n!=null?xs(e,!!r,n,!0):xs(e,!!r,r?[]:"",!1));return;case"textarea":Q=H=null;for(E in r)if(d=r[E],r.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(e,n,E,null,l,d)}for(b in l)if(d=l[b],h=r[b],l.hasOwnProperty(b)&&(d!=null||h!=null))switch(b){case"value":H=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ut(e,n,b,d,l,h)}Xo(e,H,Q);return;case"option":for(var ge in r)if(H=r[ge],r.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:ut(e,n,ge,null,l,H)}for(R in l)if(H=l[R],Q=r[R],l.hasOwnProperty(R)&&H!==Q&&(H!=null||Q!=null))switch(R){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ut(e,n,R,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)H=r[we],r.hasOwnProperty(we)&&H!=null&&!l.hasOwnProperty(we)&&ut(e,n,we,null,l,H);for(q in l)if(H=l[q],Q=r[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:ut(e,n,q,H,l,Q)}return;default:if(ti(n)){for(var ct in r)H=r[ct],r.hasOwnProperty(ct)&&H!==void 0&&!l.hasOwnProperty(ct)&&Qh(e,n,ct,void 0,l,H);for(J in l)H=l[J],Q=r[J],!l.hasOwnProperty(J)||H===Q||H===void 0&&Q===void 0||Qh(e,n,J,H,l,Q);return}}for(var L in r)H=r[L],r.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&ut(e,n,L,null,l,H);for(ae in l)H=l[ae],Q=r[ae],!l.hasOwnProperty(ae)||H===Q||H==null&&Q==null||ut(e,n,ae,H,l,Q)}function Lp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],h=d.transferSize,b=d.initiatorType,E=d.duration;if(h&&E&&Lp(b)){for(b=0,E=d.responseEnd,l+=1;l<r.length;l++){var R=r[l],q=R.startTime;if(q>E)break;var J=R.transferSize,ae=R.initiatorType;J&&Lp(ae)&&(R=R.responseEnd,b+=J*(R<E?1:(E-q)/(R-q)))}if(--l,n+=8*(h+b)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yh=null,Kh=null;function Ju(e){return e.nodeType===9?e:e.ownerDocument}function Up(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $h=null;function a_(){var e=window.event;return e&&e.type==="popstate"?e===$h?!1:($h=e,!0):($h=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(e){return qp.resolve(null).then(e).catch(i_)}:Bp;function i_(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function Hp(e,n){var r=n,l=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(d),Oi(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Zl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Zl(r);for(var h=r.firstChild;h;){var b=h.nextSibling,E=h.nodeName;h[xa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=b}}else r==="body"&&Zl(e.ownerDocument.body);r=d}while(r);Oi(n)}function Gp(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Zh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zh(r),Jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function l_(e,n,r,l){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function o_(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function Fp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Jh(e){return e.data==="$?"||e.data==="$~"}function Wh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u_(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ef=null;function Qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Yp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Kp(e,n,r){switch(n=Ju(r),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Zl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Kn=new Map,Xp=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var us=le.d;le.d={f:c_,r:d_,D:h_,C:f_,L:m_,m:g_,X:y_,S:p_,M:v_};function c_(){var e=us.f(),n=Gu();return e||n}function d_(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?hg(n):us.r(e)}var ji=typeof document>"u"?null:document;function $p(e,n,r){var l=ji;if(l&&typeof n=="string"&&n){var d=hn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Xp.has(d)||(Xp.add(d),e={rel:e,crossOrigin:r,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),en(n,"link",e),It(n),l.head.appendChild(n)))}}function h_(e){us.D(e),$p("dns-prefetch",e,null)}function f_(e,n){us.C(e,n),$p("preconnect",e,n)}function m_(e,n,r){us.L(e,n,r);var l=ji;if(l&&e&&n){var d='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+hn(r.imageSizes)+'"]')):d+='[href="'+hn(e)+'"]';var h=d;switch(n){case"style":h=Mi(e);break;case"script":h=Vi(e)}Kn.has(h)||(e=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kn.set(h,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(Jl(h))||n==="script"&&l.querySelector(Wl(h))||(n=l.createElement("link"),en(n,"link",e),It(n),l.head.appendChild(n)))}}function g_(e,n){us.m(e,n);var r=ji;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Vi(e)}if(!Kn.has(h)&&(e=T({rel:"modulepreload",href:e},n),Kn.set(h,e),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wl(h)))return}l=r.createElement("link"),en(l,"link",e),It(l),r.head.appendChild(l)}}}function p_(e,n,r){us.S(e,n,r);var l=ji;if(l&&e){var d=Ea(l).hoistableStyles,h=Mi(e);n=n||"default";var b=d.get(h);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(Jl(h)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kn.get(h))&&tf(e,r);var R=b=l.createElement("link");It(R),en(R,"link",e),R._p=new Promise(function(q,J){R.onload=q,R.onerror=J}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(h,b)}}}function y_(e,n){us.X(e,n);var r=ji;if(r&&e){var l=Ea(r).hoistableScripts,d=Vi(e),h=l.get(d);h||(h=r.querySelector(Wl(d)),h||(e=T({src:e,async:!0},n),(n=Kn.get(d))&&nf(e,n),h=r.createElement("script"),It(h),en(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function v_(e,n){us.M(e,n);var r=ji;if(r&&e){var l=Ea(r).hoistableScripts,d=Vi(e),h=l.get(d);h||(h=r.querySelector(Wl(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=Kn.get(d))&&nf(e,n),h=r.createElement("script"),It(h),en(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function Zp(e,n,r,l){var d=(d=Ne.current)?Wu(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Mi(r.href),r=Ea(d).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Mi(r.href);var h=Ea(d).hoistableStyles,b=h.get(e);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=d.querySelector(Jl(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(e,r),h||b_(d,e,r,b.state))),n&&l===null)throw Error(i(528,""));return b}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vi(r),r=Ea(d).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Mi(e){return'href="'+hn(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function Jp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function b_(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",r),It(n),e.head.appendChild(n))}function Vi(e){return'[src="'+hn(e)+'"]'}function Wl(e){return"script[async]"+e}function Wp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,It(l),l;var d=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),It(l),en(l,"style",d),ec(l,r.precedence,e),n.instance=l;case"stylesheet":d=Mi(r.href);var h=e.querySelector(Jl(d));if(h)return n.state.loading|=4,n.instance=h,It(h),h;l=Jp(r),(d=Kn.get(d))&&tf(l,d),h=(e.ownerDocument||e).createElement("link"),It(h);var b=h;return b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),en(h,"link",l),n.state.loading|=4,ec(h,r.precedence,e),n.instance=h;case"script":return h=Vi(r.src),(d=e.querySelector(Wl(h)))?(n.instance=d,It(d),d):(l=r,(d=Kn.get(h))&&(l=T({},r),nf(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),It(d),en(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ec(l,r.precedence,e));return n.instance}function ec(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===n)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function tf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var tc=null;function ey(e,n,r){if(tc===null){var l=new Map,d=tc=new Map;d.set(r,l)}else d=tc,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var h=r[d];if(!(h[xa]||h[Dt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var E=l.get(b);E?E.push(h):l.set(b,[h])}}return l}function ty(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function x_(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function __(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Mi(l.href),h=n.querySelector(Jl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=nc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=h,It(h);return}h=n.ownerDocument||n,l=Jp(l),(d=Kn.get(d))&&tf(l,d),h=h.createElement("link"),It(h);var b=h;b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),en(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=nc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var af=0;function E_(e,n){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&af===0&&(af=62500*n_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>af?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,n.forEach(T_,e),ac=null,nc.call(e))}function T_(e,n){if(!(n.state.loading&4)){var r=ac.get(e);if(r)var l=r.get(null);else{r=new Map,ac.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var b=d[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),l=b)}l&&r.set(null,l)}d=n.instance,b=d.getAttribute("data-precedence"),h=r.get(b)||l,h===l&&r.set(null,d),r.set(b,d),this.count++,l=nc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var eo={$$typeof:te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function w_(e,n,r,l,d,h,b,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ay(e,n,r,l,d,h,b,E,R,q,J,ae){return e=new w_(e,n,r,b,R,q,J,ae,E),n=1,h===!0&&(n|=24),h=An(3,null,null,n),e.current=h,h.stateNode=e,n=Od(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},Pd(h),e}function sy(e){return e?(e=hi,e):hi}function ry(e,n,r,l,d,h){d=sy(d),l.context===null?l.context=d:l.pendingContext=d,l=js(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Ms(e,l,n),r!==null&&(vn(r,e,n),Il(r,e,n))}function iy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function sf(e,n){iy(e,n),(e=e.alternate)&&iy(e,n)}function ly(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&vn(n,e,67108864),sf(e,67108864)}}function oy(e){if(e.tag===13||e.tag===31){var n=Dn();n=pr(n);var r=kr(e,n);r!==null&&vn(r,e,n),sf(e,n)}}var rc=!0;function S_(e,n,r,l){var d=K.T;K.T=null;var h=le.p;try{le.p=2,rf(e,n,r,l)}finally{le.p=h,K.T=d}}function A_(e,n,r,l){var d=K.T;K.T=null;var h=le.p;try{le.p=8,rf(e,n,r,l)}finally{le.p=h,K.T=d}}function rf(e,n,r,l){if(rc){var d=lf(l);if(d===null)Fh(e,n,l,ic,r),cy(e,l);else if(k_(d,e,n,r,l))l.stopPropagation();else if(cy(e,l),n&4&&-1<N_.indexOf(e)){for(;d!==null;){var h=zn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=pa(h.pendingLanes);if(b!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var R=1<<31-St(b);E.entanglements[1]|=R,b&=~R}Va(h),(We&6)===0&&(qu=it()+500,Kl(0))}}break;case 31:case 13:E=kr(h,2),E!==null&&vn(E,h,2),Gu(),sf(h,2)}if(h=lf(l),h===null&&Fh(e,n,l,ic,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else Fh(e,n,l,null,r)}}function lf(e){return e=Ln(e),of(e)}var ic=null;function of(e){if(ic=null,e=_a(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Wn:return 2;case hr:return 8;case Vn:case Kt:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var uf=!1,Fs=null,Qs=null,Ys=null,to=new Map,no=new Map,Ks=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":to.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(n.pointerId)}}function ao(e,n,r,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=zn(n),n!==null&&ly(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function k_(e,n,r,l,d){switch(n){case"focusin":return Fs=ao(Fs,e,n,r,l,d),!0;case"dragenter":return Qs=ao(Qs,e,n,r,l,d),!0;case"mouseover":return Ys=ao(Ys,e,n,r,l,d),!0;case"pointerover":var h=d.pointerId;return to.set(h,ao(to.get(h)||null,e,n,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,no.set(h,ao(no.get(h)||null,e,n,r,l,d)),!0}return!1}function dy(e){var n=_a(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,na(e.priority,function(){oy(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,na(e.priority,function(){oy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=lf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);pl=l,r.target.dispatchEvent(l),pl=null}else return n=zn(r),n!==null&&ly(n),e.blockedOn=r,!1;n.shift()}return!0}function hy(e,n,r){lc(e)&&r.delete(n)}function C_(){uf=!1,Fs!==null&&lc(Fs)&&(Fs=null),Qs!==null&&lc(Qs)&&(Qs=null),Ys!==null&&lc(Ys)&&(Ys=null),to.forEach(hy),no.forEach(hy)}function oc(e,n){e.blockedOn===n&&(e.blockedOn=null,uf||(uf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,C_)))}var uc=null;function fy(e){uc!==e&&(uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(of(l||r)===null)continue;break}var h=zn(r);h!==null&&(e.splice(n,3),n-=3,ih(h,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function Oi(e){function n(R){return oc(R,e)}Fs!==null&&oc(Fs,e),Qs!==null&&oc(Qs,e),Ys!==null&&oc(Ys,e),to.forEach(n),no.forEach(n);for(var r=0;r<Ks.length;r++){var l=Ks[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)dy(r),r.blockedOn===null&&Ks.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],h=r[l+1],b=d[Gt]||null;if(typeof h=="function")b||fy(r);else if(b){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,b=h[Gt]||null)E=b.formAction;else if(of(d)!==null)continue}else E=b.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),fy(r)}}}function my(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cf(e){this._internalRoot=e}cc.prototype.render=cf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,l=Dn();ry(r,l,e,n,null,null)},cc.prototype.unmount=cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ry(e.current,2,null,e,null,null),Gu(),n[ba]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Go();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ks.length&&n!==0&&n<Ks[r].priority;r++);Ks.splice(r,0,e),r===0&&dy(e)}};var gy=t.version;if(gy!=="19.2.1")throw Error(i(527,gy,"19.2.1"));le.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=v(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var R_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{ea=dc.inject(R_),Xt=dc}catch{}}return ro.createRoot=function(e,n){if(!o(e))throw Error(i(299));var r=!1,l="",d=Eg,h=Tg,b=wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=ay(e,1,!1,null,null,r,l,null,d,h,b,my),e[ba]=n.current,Gh(e),new cf(n)},ro.hydrateRoot=function(e,n,r){if(!o(e))throw Error(i(299));var l=!1,d="",h=Eg,b=Tg,E=wg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=ay(e,1,!0,n,r??null,l,d,R,h,b,E,my),n.context=sy(null),r=n.current,l=Dn(),l=pr(l),d=js(l),d.callback=null,Ms(r,d,l),r=l,n.current.lanes=r,mr(n,r),Va(n),e[ba]=n.current,Gh(e),new cc(n)},ro.version="19.2.1",ro}var Sy;function B_(){if(Sy)return ff.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ff.exports=P_(),ff.exports}var q_=B_();const H_=Qv(q_);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ay="popstate";function G_(s={}){function t(o,c){let{pathname:f="/",search:y="",hash:p=""}=Yr(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Df("",{pathname:f,search:y,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){let f=o.document.querySelector("base"),y="";if(f&&f.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");y=v===-1?p:p.slice(0,v)}return y+"#"+(typeof c=="string"?c:vo(c))}function i(o,c){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return Q_(t,a,i,s)}function xt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function $n(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F_(){return Math.random().toString(36).substring(2,10)}function Ny(s,t){return{usr:s.state,key:s.key,idx:t}}function Df(s,t,a=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Yr(t):t,state:a,key:t&&t.key||i||F_()}}function vo({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Yr(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function Q_(s,t,a,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,y="POP",p=null,v=_();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function _(){return(f.state||{idx:null}).idx}function T(){y="POP";let G=_(),Z=G==null?null:G-v;v=G,p&&p({action:y,location:$.location,delta:Z})}function S(G,Z){y="PUSH";let ie=Df($.location,G,Z);a&&a(ie,G),v=_()+1;let te=Ny(ie,v),ve=$.createHref(ie);try{f.pushState(te,"",ve)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ve)}c&&p&&p({action:y,location:$.location,delta:1})}function z(G,Z){y="REPLACE";let ie=Df($.location,G,Z);a&&a(ie,G),v=_();let te=Ny(ie,v),ve=$.createHref(ie);f.replaceState(te,"",ve),c&&p&&p({action:y,location:$.location,delta:0})}function Y(G){return Y_(G)}let $={get action(){return y},get location(){return s(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ay,T),p=G,()=>{o.removeEventListener(Ay,T),p=null}},createHref(G){return t(o,G)},createURL:Y,encodeLocation(G){let Z=Y(G);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:z,go(G){return f.go(G)}};return $}function Y_(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),xt(a,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:vo(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function Yv(s,t,a="/"){return K_(s,t,a,!1)}function K_(s,t,a,i){let o=typeof t=="string"?Yr(t):t,c=fs(o.pathname||"/",a);if(c==null)return null;let f=Kv(s);X_(f);let y=null;for(let p=0;y==null&&p<f.length;++p){let v=i2(c);y=s2(f[p],v,i)}return y}function Kv(s,t=[],a=[],i="",o=!1){let c=(f,y,p=o,v)=>{let _={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&p)return;xt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=hs([i,_.relativePath]),S=a.concat(_);f.children&&f.children.length>0&&(xt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Kv(f.children,t,S,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:n2(T,f.index),routesMeta:S})};return s.forEach((f,y)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))c(f,y);else for(let v of Xv(f.path))c(f,y,!0,v)}),t}function Xv(s){let t=s.split("/");if(t.length===0)return[];let[a,...i]=t,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let f=Xv(i.join("/")),y=[];return y.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&y.push(...f),y.map(p=>s.startsWith("/")&&p===""?"/":p)}function X_(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:a2(t.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var $_=/^:[\w-]+$/,Z_=3,J_=2,W_=1,e2=10,t2=-2,ky=s=>s==="*";function n2(s,t){let a=s.split("/"),i=a.length;return a.some(ky)&&(i+=t2),t&&(i+=J_),a.filter(o=>!ky(o)).reduce((o,c)=>o+($_.test(c)?Z_:c===""?W_:e2),i)}function a2(s,t){return s.length===t.length&&s.slice(0,-1).every((i,o)=>i===t[o])?s[s.length-1]-t[t.length-1]:0}function s2(s,t,a=!1){let{routesMeta:i}=s,o={},c="/",f=[];for(let y=0;y<i.length;++y){let p=i[y],v=y===i.length-1,_=c==="/"?t:t.slice(c.length)||"/",T=Rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},_),S=p.route;if(!T&&v&&a&&!i[i.length-1].route.index&&(T=Rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:hs([c,T.pathname]),pathnameBase:d2(hs([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=hs([c,T.pathnameBase]))}return f}function Rc(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,i]=r2(s.path,s.caseSensitive,s.end),o=t.match(a);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:i.reduce((v,{paramName:_,isOptional:T},S)=>{if(_==="*"){let Y=y[S]||"";f=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const z=y[S];return T&&!z?v[_]=void 0:v[_]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:f,pattern:s}}function r2(s,t=!1,a=!0){$n(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,p)=>(i.push({paramName:y,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function i2(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function fs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,i=s.charAt(a);return i&&i!=="/"?null:s.slice(a)||"/"}var l2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o2=s=>l2.test(s);function u2(s,t="/"){let{pathname:a,search:i="",hash:o=""}=typeof s=="string"?Yr(s):s,c;if(a)if(o2(a))c=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${a}`)}a.startsWith("/")?c=Cy(a.substring(1),"/"):c=Cy(a,t)}else c=t;return{pathname:c,search:h2(i),hash:f2(o)}}function Cy(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function yf(s,t,a,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c2(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function $v(s){let t=c2(s);return t.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase)}function Zv(s,t,a,i=!1){let o;typeof s=="string"?o=Yr(s):(o={...s},xt(!o.pathname||!o.pathname.includes("?"),yf("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),yf("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),yf("#","search","hash",o)));let c=s===""||o.pathname==="",f=c?"/":o.pathname,y;if(f==null)y=a;else{let T=t.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}y=T>=0?t[T]:"/"}let p=u2(o,y),v=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(v||_)&&(p.pathname+="/"),p}var hs=s=>s.join("/").replace(/\/\/+/g,"/"),d2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,f2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function m2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function g2(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jv=["POST","PUT","PATCH","DELETE"];new Set(Jv);var p2=["GET",...Jv];new Set(p2);var Ji=O.createContext(null);Ji.displayName="DataRouter";var $c=O.createContext(null);$c.displayName="DataRouterState";O.createContext(!1);var Wv=O.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var y2=O.createContext(new Map);y2.displayName="Fetchers";var v2=O.createContext(null);v2.displayName="Await";var ma=O.createContext(null);ma.displayName="Navigation";var ko=O.createContext(null);ko.displayName="Location";var Ha=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var im=O.createContext(null);im.displayName="RouteError";function b2(s,{relative:t}={}){xt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=O.useContext(ma),{hash:o,pathname:c,search:f}=Ro(s,{relative:t}),y=c;return a!=="/"&&(y=c==="/"?a:hs([a,c])),i.createHref({pathname:y,search:f,hash:o})}function Co(){return O.useContext(ko)!=null}function vs(){return xt(Co(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ko).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(s){O.useContext(ma).static||O.useLayoutEffect(s)}function nb(){let{isDataRoute:s}=O.useContext(Ha);return s?M2():x2()}function x2(){xt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(Ji),{basename:t,navigator:a}=O.useContext(ma),{matches:i}=O.useContext(Ha),{pathname:o}=vs(),c=JSON.stringify($v(i)),f=O.useRef(!1);return tb(()=>{f.current=!0}),O.useCallback((p,v={})=>{if($n(f.current,eb),!f.current)return;if(typeof p=="number"){a.go(p);return}let _=Zv(p,JSON.parse(c),o,v.relative==="path");s==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:hs([t,_.pathname])),(v.replace?a.replace:a.push)(_,v.state,v)},[t,a,c,o,s])}var _2=O.createContext(null);function E2(s){let t=O.useContext(Ha).outlet;return O.useMemo(()=>t&&O.createElement(_2.Provider,{value:s},t),[t,s])}function Ro(s,{relative:t}={}){let{matches:a}=O.useContext(Ha),{pathname:i}=vs(),o=JSON.stringify($v(a));return O.useMemo(()=>Zv(s,JSON.parse(o),i,t==="path"),[s,o,i,t])}function T2(s,t){return ab(s,t)}function ab(s,t,a,i,o){var ie;xt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(ma),{matches:f}=O.useContext(Ha),y=f[f.length-1],p=y?y.params:{},v=y?y.pathname:"/",_=y?y.pathnameBase:"/",T=y&&y.route;{let te=T&&T.path||"";sb(v,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=vs(),z;if(t){let te=typeof t=="string"?Yr(t):t;xt(_==="/"||((ie=te.pathname)==null?void 0:ie.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${te.pathname}" was given in the \`location\` prop.`),z=te}else z=S;let Y=z.pathname||"/",$=Y;if(_!=="/"){let te=_.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=Yv(s,{pathname:$});$n(T||G!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),$n(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=k2(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:hs([_,c.encodeLocation?c.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:hs([_,c.encodeLocation?c.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,a,i,o);return t&&Z?O.createElement(ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},Z):Z}function w2(){let s=j2(),t=m2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),a?O.createElement("pre",{style:o},a):null,f)}var S2=O.createElement(w2,null),A2=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?O.createElement(Ha.Provider,{value:this.props.routeContext},O.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N2({routeContext:s,match:t,children:a}){let i=O.useContext(Ji);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Ha.Provider,{value:s},a)}function k2(s,t=[],a=null,i=null,o=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let c=s,f=a==null?void 0:a.errors;if(f!=null){let _=c.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);xt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let y=!1,p=-1;if(a)for(let _=0;_<c.length;_++){let T=c[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:S,errors:z}=a,Y=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!z||z[T.route.id]===void 0);if(T.route.lazy||Y){y=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let v=a&&i?(_,T)=>{var S,z;i(_,{location:a.location,params:((z=(S=a.matches)==null?void 0:S[0])==null?void 0:z.params)??{},unstable_pattern:g2(a.matches),errorInfo:T})}:void 0;return c.reduceRight((_,T,S)=>{let z,Y=!1,$=null,G=null;a&&(z=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||S2,y&&(p<0&&S===0?(sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,G=null):p===S&&(Y=!0,G=T.route.hydrateFallbackElement||null)));let Z=t.concat(c.slice(0,S+1)),ie=()=>{let te;return z?te=$:Y?te=G:T.route.Component?te=O.createElement(T.route.Component,null):T.route.element?te=T.route.element:te=_,O.createElement(N2,{match:T,routeContext:{outlet:_,matches:Z,isDataRoute:a!=null},children:te})};return a&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?O.createElement(A2,{location:a.location,revalidation:a.revalidation,component:$,error:z,children:ie(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:v}):ie()},null)}function lm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(s){let t=O.useContext(Ji);return xt(t,lm(s)),t}function R2(s){let t=O.useContext($c);return xt(t,lm(s)),t}function D2(s){let t=O.useContext(Ha);return xt(t,lm(s)),t}function om(s){let t=D2(s),a=t.matches[t.matches.length-1];return xt(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function I2(){return om("useRouteId")}function j2(){var i;let s=O.useContext(im),t=R2("useRouteError"),a=om("useRouteError");return s!==void 0?s:(i=t.errors)==null?void 0:i[a]}function M2(){let{router:s}=C2("useNavigate"),t=om("useNavigate"),a=O.useRef(!1);return tb(()=>{a.current=!0}),O.useCallback(async(o,c={})=>{$n(a.current,eb),a.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var Ry={};function sb(s,t,a){!t&&!Ry[s]&&(Ry[s]=!0,$n(!1,a))}O.memo(V2);function V2({routes:s,future:t,state:a,unstable_onError:i}){return ab(s,void 0,a,i,t)}function O2(s){return E2(s.context)}function cs(s){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z2({basename:s="/",children:t=null,location:a,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){xt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=s.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:y,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[y,o,c,f]);typeof a=="string"&&(a=Yr(a));let{pathname:v="/",search:_="",hash:T="",state:S=null,key:z="default"}=a,Y=O.useMemo(()=>{let $=fs(v,y);return $==null?null:{location:{pathname:$,search:_,hash:T,state:S,key:z},navigationType:i}},[y,v,_,T,S,z,i]);return $n(Y!=null,`<Router basename="${y}"> is not able to match the URL "${v}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:O.createElement(ma.Provider,{value:p},O.createElement(ko.Provider,{children:t,value:Y}))}function L2({children:s,location:t}){return T2(If(s),t)}function If(s,t=[]){let a=[];return O.Children.forEach(s,(i,o)=>{if(!O.isValidElement(i))return;let c=[...t,o];if(i.type===O.Fragment){a.push.apply(a,If(i.props.children,c));return}xt(i.type===cs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=If(i.props.children,c)),a.push(f)}),a}var _c="get",Ec="application/x-www-form-urlencoded";function Zc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function U2(s){return Zc(s)&&s.tagName.toLowerCase()==="button"}function P2(s){return Zc(s)&&s.tagName.toLowerCase()==="form"}function B2(s){return Zc(s)&&s.tagName.toLowerCase()==="input"}function q2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function H2(s,t){return s.button===0&&(!t||t==="_self")&&!q2(s)}var hc=null;function G2(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var F2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vf(s){return s!=null&&!F2.has(s)?($n(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):s}function Q2(s,t){let a,i,o,c,f;if(P2(s)){let y=s.getAttribute("action");i=y?fs(y,t):null,a=s.getAttribute("method")||_c,o=vf(s.getAttribute("enctype"))||Ec,c=new FormData(s)}else if(U2(s)||B2(s)&&(s.type==="submit"||s.type==="image")){let y=s.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||y.getAttribute("action");if(i=p?fs(p,t):null,a=s.getAttribute("formmethod")||y.getAttribute("method")||_c,o=vf(s.getAttribute("formenctype"))||vf(y.getAttribute("enctype"))||Ec,c=new FormData(y,s),!G2()){let{name:v,type:_,value:T}=s;if(_==="image"){let S=v?`${v}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else v&&c.append(v,T)}}else{if(Zc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=_c,i=null,o=Ec,f=s}return c&&o==="text/plain"&&(f=c,c=void 0),{action:i,method:a.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function um(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Y2(s,t,a){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${a}`:t&&fs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function K2(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function $2(s,t,a){let i=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await K2(c,a);return f.links?f.links():[]}return[]}));return eE(i.flat(1).filter(X2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dy(s,t,a,i,o,c){let f=(p,v)=>a[v]?p.route.id!==a[v].route.id:!0,y=(p,v)=>{var _;return a[v].pathname!==p.pathname||((_=a[v].route.path)==null?void 0:_.endsWith("*"))&&a[v].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,v)=>f(p,v)||y(p,v)):c==="data"?t.filter((p,v)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,v)||y(p,v))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=a[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Z2(s,t,{includeHydrateFallback:a}={}){return J2(s.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function J2(s){return[...new Set(s)]}function W2(s){let t={},a=Object.keys(s).sort();for(let i of a)t[i]=s[i];return t}function eE(s,t){let a=new Set;return new Set(t),s.reduce((i,o)=>{let c=JSON.stringify(W2(o));return a.has(c)||(a.add(c),i.push({key:c,link:o})),i},[])}function rb(){let s=O.useContext(Ji);return um(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function tE(){let s=O.useContext($c);return um(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var cm=O.createContext(void 0);cm.displayName="FrameworkContext";function ib(){let s=O.useContext(cm);return um(s,"You must render this element inside a <HydratedRouter> element"),s}function nE(s,t){let a=O.useContext(cm),[i,o]=O.useState(!1),[c,f]=O.useState(!1),{onFocus:y,onBlur:p,onMouseEnter:v,onMouseLeave:_,onTouchStart:T}=t,S=O.useRef(null);O.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let $=Z=>{Z.forEach(ie=>{f(ie.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[s]),O.useEffect(()=>{if(i){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[i]);let z=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return a?s!=="intent"?[c,S,{}]:[c,S,{onFocus:io(y,z),onBlur:io(p,Y),onMouseEnter:io(v,z),onMouseLeave:io(_,Y),onTouchStart:io(T,z)}]:[!1,S,{}]}function io(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function aE({page:s,...t}){let{router:a}=rb(),i=O.useMemo(()=>Yv(a.routes,s,a.basename),[a.routes,s,a.basename]);return i?O.createElement(rE,{page:s,matches:i,...t}):null}function sE(s){let{manifest:t,routeModules:a}=ib(),[i,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return $2(s,t,a).then(f=>{c||o(f)}),()=>{c=!0}},[s,t,a]),i}function rE({page:s,matches:t,...a}){let i=vs(),{manifest:o,routeModules:c}=ib(),{basename:f}=rb(),{loaderData:y,matches:p}=tE(),v=O.useMemo(()=>Dy(s,t,p,o,i,"data"),[s,t,p,o,i]),_=O.useMemo(()=>Dy(s,t,p,o,i,"assets"),[s,t,p,o,i]),T=O.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let Y=new Set,$=!1;if(t.forEach(Z=>{var te;let ie=o.routes[Z.route.id];!ie||!ie.hasLoader||(!v.some(ve=>ve.route.id===Z.route.id)&&Z.route.id in y&&((te=c[Z.route.id])!=null&&te.shouldRevalidate)||ie.hasClientLoader?$=!0:Y.add(Z.route.id))}),Y.size===0)return[];let G=Y2(s,f,"data");return $&&Y.size>0&&G.searchParams.set("_routes",t.filter(Z=>Y.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[G.pathname+G.search]},[f,y,i,o,v,t,s,c]),S=O.useMemo(()=>Z2(_,o),[_,o]),z=sE(_);return O.createElement(O.Fragment,null,T.map(Y=>O.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...a})),S.map(Y=>O.createElement("link",{key:Y,rel:"modulepreload",href:Y,...a})),z.map(({key:Y,link:$})=>O.createElement("link",{key:Y,nonce:a.nonce,...$})))}function iE(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lb&&(window.__reactRouterVersion="7.10.1")}catch{}function lE({basename:s,children:t,unstable_useTransitions:a,window:i}){let o=O.useRef();o.current==null&&(o.current=G_({window:i,v5Compat:!0}));let c=o.current,[f,y]=O.useState({action:c.action,location:c.location}),p=O.useCallback(v=>{a===!1?y(v):O.startTransition(()=>y(v))},[a]);return O.useLayoutEffect(()=>c.listen(p),[c,p]),O.createElement(z2,{basename:s,children:t,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:a===!0})}var ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,co=O.forwardRef(function({onClick:t,discover:a="render",prefetch:i="none",relative:o,reloadDocument:c,replace:f,state:y,target:p,to:v,preventScrollReset:_,viewTransition:T,...S},z){let{basename:Y,unstable_useTransitions:$}=O.useContext(ma),G=typeof v=="string"&&ob.test(v),Z,ie=!1;if(typeof v=="string"&&G&&(Z=v,lb))try{let D=new URL(window.location.href),I=v.startsWith("//")?new URL(D.protocol+v):new URL(v),V=fs(I.pathname,Y);I.origin===D.origin&&V!=null?v=V+I.search+I.hash:ie=!0}catch{$n(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=b2(v,{relative:o}),[ve,ce,be]=nE(i,S),N=cE(v,{replace:f,state:y,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_useTransitions:$});function A(D){t&&t(D),D.defaultPrevented||N(D)}let k=O.createElement("a",{...S,...be,href:Z||te,onClick:ie||c?t:A,ref:iE(z,ce),target:p,"data-discover":!G&&a==="render"?"true":void 0});return ve&&!G?O.createElement(O.Fragment,null,k,O.createElement(aE,{page:te})):k});co.displayName="Link";var ub=O.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:i="",end:o=!1,style:c,to:f,viewTransition:y,children:p,...v},_){let T=Ro(f,{relative:v.relative}),S=vs(),z=O.useContext($c),{navigator:Y,basename:$}=O.useContext(ma),G=z!=null&&gE(T)&&y===!0,Z=Y.encodeLocation?Y.encodeLocation(T).pathname:T.pathname,ie=S.pathname,te=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;a||(ie=ie.toLowerCase(),te=te?te.toLowerCase():null,Z=Z.toLowerCase()),te&&$&&(te=fs(te,$)||te);const ve=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ce=ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(ve)==="/",be=te!=null&&(te===Z||!o&&te.startsWith(Z)&&te.charAt(Z.length)==="/"),N={isActive:ce,isPending:be,isTransitioning:G},A=ce?t:void 0,k;typeof i=="function"?k=i(N):k=[i,ce?"active":null,be?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(N):c;return O.createElement(co,{...v,"aria-current":A,className:k,ref:_,style:D,to:f,viewTransition:y},typeof p=="function"?p(N):p)});ub.displayName="NavLink";var oE=O.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:i,replace:o,state:c,method:f=_c,action:y,onSubmit:p,relative:v,preventScrollReset:_,viewTransition:T,...S},z)=>{let{unstable_useTransitions:Y}=O.useContext(ma),$=fE(),G=mE(y,{relative:v}),Z=f.toLowerCase()==="get"?"get":"post",ie=typeof y=="string"&&ob.test(y),te=ve=>{if(p&&p(ve),ve.defaultPrevented)return;ve.preventDefault();let ce=ve.nativeEvent.submitter,be=(ce==null?void 0:ce.getAttribute("formmethod"))||f,N=()=>$(ce||ve.currentTarget,{fetcherKey:t,method:be,navigate:a,replace:o,state:c,relative:v,preventScrollReset:_,viewTransition:T});Y&&a!==!1?O.startTransition(()=>N()):N()};return O.createElement("form",{ref:z,method:Z,action:G,onSubmit:i?p:te,...S,"data-discover":!ie&&s==="render"?"true":void 0})});oE.displayName="Form";function uE(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(s){let t=O.useContext(Ji);return xt(t,uE(s)),t}function cE(s,{target:t,replace:a,state:i,preventScrollReset:o,relative:c,viewTransition:f,unstable_useTransitions:y}={}){let p=nb(),v=vs(),_=Ro(s,{relative:c});return O.useCallback(T=>{if(H2(T,t)){T.preventDefault();let S=a!==void 0?a:vo(v)===vo(_),z=()=>p(s,{replace:S,state:i,preventScrollReset:o,relative:c,viewTransition:f});y?O.startTransition(()=>z()):z()}},[v,p,_,a,i,t,s,o,c,f,y])}var dE=0,hE=()=>`__${String(++dE)}__`;function fE(){let{router:s}=cb("useSubmit"),{basename:t}=O.useContext(ma),a=I2(),i=s.fetch,o=s.navigate;return O.useCallback(async(c,f={})=>{let{action:y,method:p,encType:v,formData:_,body:T}=Q2(c,t);if(f.navigate===!1){let S=f.fetcherKey||hE();await i(S,a,f.action||y,{preventScrollReset:f.preventScrollReset,formData:_,body:T,formMethod:f.method||p,formEncType:f.encType||v,flushSync:f.flushSync})}else await o(f.action||y,{preventScrollReset:f.preventScrollReset,formData:_,body:T,formMethod:f.method||p,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,o,t,a])}function mE(s,{relative:t}={}){let{basename:a}=O.useContext(ma),i=O.useContext(Ha);xt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Ro(s||".",{relative:t})},f=vs();if(s==null){c.search=f.search;let y=new URLSearchParams(c.search),p=y.getAll("index");if(p.some(_=>_==="")){y.delete("index"),p.filter(T=>T).forEach(T=>y.append("index",T));let _=y.toString();c.search=_?`?${_}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:hs([a,c.pathname])),vo(c)}function gE(s,{relative:t}={}){let a=O.useContext(Wv);xt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cb("useViewTransitionState"),o=Ro(s,{relative:t});if(!a.isTransitioning)return!1;let c=fs(a.currentLocation.pathname,i)||a.currentLocation.pathname,f=fs(a.nextLocation.pathname,i)||a.nextLocation.pathname;return Rc(o.pathname,f)!=null||Rc(o.pathname,c)!=null}const pE={eu:{sidebar:{dashboard:"Arbela",students:"Ikasleak",classes:"Gelak",notes:"Oharrak",resources:"Baliabideak",calendar:"Egutegia",settings:"Ezarpenak",devMode:"Garapen Modua",session:"Saioa aktibo honela:"},dashboard:{hello:"Kaixo, Irakasle",summary:"Hemen duzu gaurko laburpena.",stats:{students:"Ikasleak Guztira",pending:"Esku-hartzeak Egiteke",notes:"Ohar Aktiboak"},pendingTitle:"Ebazteko zain",viewStudents:"Ikasleak ikusi",allClear:"Dena egunean!",quickActions:{title:"Ekintza Azkarrak",desc:"Kudeatu zure egunerokoa eraginkortasunez.",newIntervention:"Esku-hartze Berria",createNote:"Oharra Sortu"},dateFormat:"yyyy/MM/dd"},students:{title:"Ikasleak",searchPlaceholder:"Bilatu izena edo taldea...",newStudent:"Ikasle Berria",editStudent:"Ikaslea Editatu",back:"Zerrendara itzuli",history:"Esku-hartzeen Historia",grades:"Kalifikazioak",noRecords:"Oraindik ez dago erregistrorik.",selectPrompt:"Aukeratu ikasle bat bere fitxa ikusteko",addIntervention:"Esku-hartze Berria",addGrade:"Nota Gehitu",editGrade:"Nota Editatu",addFollowUp:"Sarrera Berria",tabs:{interventions:"Esku-hartzeak",grades:"Notak",followup:"Jarraipena"},forms:{firstName:"Izena",lastName:"Abizenak",group:"Gelak aukeratu",contact:"Gurasoen Emaila/Tel",tags:"Behar Bereziak",addTag:"Beste bat gehitu...",saveStudent:"Ikaslea Gorde",updateStudent:"Aldaketak Gorde",type:"Mota",description:"Deskribapena",descPlaceholder:"Gorabeheraren xehetasunak...",saveRecord:"Erregistroa Gorde",examTitle:"Azterketa / Lana",gradeValue:"Nota (0-10)",gradeType:"Mota (Azterketa, Lana...)",followUpTitle:"Izenburua (Bilera, Txostena...)",followUpContent:"Idatzi hemen edukia..."},specialNeedsOptions:{adhd:"TDAH",dyslexia:"Dislexia",asd:"TEA",highAbilities:"Gaitasun Handiak",reinforcement:"Errefortzua",language:"Hizkuntza",hearing:"Entzumena",visual:"Ikusmena"},status:{pending:"Egiteke",resolved:"Ebaztuta",markResolved:"Ebaztuta bezala markatu",markPending:"Egiteke bezala markatu"},types:{Conducta:"Jarrera",Acadmico:"Akademikoa",Familia:"Familia",Positivo:"Positiboa"}},classes:{title:"Nire Gelak",addClass:"Gela Sortu",noClasses:"Ez duzu gelarik sortu oraindik.",studentsInClass:"Gela honetako ikasleak",addStudentToClass:"Gehitu ikaslea gela honetara",forms:{name:"Gela Izena (adib: 3. DBH B)",subject:"Ikasgaia",save:"Gela Gorde"}},notes:{title:"Ohar Azkarrak",newNote:"Ohar Berria",placeholder:"Idatzi zure oharra hemen...",save:"Gorde"},resources:{title:"Baliabide Liburutegia",searchPlaceholder:"Bilatu baliabideak...",add:"Gehitu",table:{resource:"Baliabidea",tags:"Etiketak",action:"Ekintza"},noResources:"Ez da baliabiderik aurkitu.",forms:{title:"Izenburua",url:"URL (https://...)",tags:"Etiketak (pdf, azterketa...)",category:"Kategoria",save:"Gorde"}},calendar:{title:"Eskola Egutegia",dragInstruction:"Arrastatu ohar bat egun batera ekitaldi bihurtzeko.",unscheduledNotes:"Planifikatu gabeko Oharrak",newEvent:"Ekitaldi Berria",todayEvents:"Gaurko Ekitaldiak",noEvents:"Ez dago ekitaldirik egun honetarako.",types:{general:"Orokorra",exam:"Azterketa",meeting:"Bilera"},add:"Gehitu",time:"Ordua",actions:{move:"Mugitu data",delete:"Ezabatu",save:"Gorde",cancel:"Utzi"}},settings:{title:"Firebase Konfigurazioa",subtitle:"Konektatu zure datu-base erreala gailu arteko sinkronizaziorako.",status:{label:"Egoera:",connected:"Konektatuta (Firebase)",mock:"Simulazio Modua (Tokiko Datuak)"},form:{apiKey:"API Key",authDomain:"Auth Domain",projectId:"Project ID",save:"Gorde eta Freskatu",clear:"Garbitu Konfigurazioa"},warning:"Aldaketak gordetzean orria freskatuko da."}},es:{sidebar:{dashboard:"Dashboard",students:"Mis Alumnos",classes:"Clases",notes:"Notas",resources:"Recursos",calendar:"Calendario",settings:"Configuracin",devMode:"Modo Dev",session:"Sesin activa como:"},dashboard:{hello:"Hola, Profesor",summary:"Aqu tienes el resumen de hoy.",stats:{students:"Total Alumnos",pending:"Intervenciones Pendientes",notes:"Notas Activas"},pendingTitle:"Pendientes de resolver",viewStudents:"Ver alumnos",allClear:"Todo al da!",quickActions:{title:"Acciones Rpidas",desc:"Gestiona tu da a da de forma eficiente.",newIntervention:"Nueva Intervencin",createNote:"Crear Nota"},dateFormat:"dd/MM/yyyy"},students:{title:"Alumnos",searchPlaceholder:"Buscar por nombre o grupo...",newStudent:"Nuevo Alumno",editStudent:"Editar Alumno",back:"Volver a lista",history:"Historial de Intervenciones",grades:"Calificaciones",noRecords:"No hay registros an.",selectPrompt:"Selecciona un alumno para ver su ficha",addIntervention:"Nueva Intervencin",addGrade:"Aadir Nota",editGrade:"Editar Nota",addFollowUp:"Nueva Entrada",tabs:{interventions:"Intervenciones",grades:"Notas",followup:"Seguimiento"},forms:{firstName:"Nombre",lastName:"Apellidos",group:"Seleccin de Clases",contact:"Email/Telfono padres",tags:"Necesidades Especiales",addTag:"Aadir otra...",saveStudent:"Guardar Alumno",updateStudent:"Actualizar Alumno",type:"Tipo",description:"Descripcin",descPlaceholder:"Detalles de la incidencia...",saveRecord:"Guardar Registro",examTitle:"Examen / Trabajo",gradeValue:"Nota (0-10)",gradeType:"Tipo (Examen, Trabajo...)",followUpTitle:"Ttulo (Reunin, Informe...)",followUpContent:"Escribe aqu el contenido..."},specialNeedsOptions:{adhd:"TDAH",dyslexia:"Dislexia",asd:"TEA",highAbilities:"Altas Capacidades",reinforcement:"Refuerzo",language:"Lenguaje",hearing:"Auditiva",visual:"Visual"},status:{pending:"Pendiente",resolved:"Resuelto",markResolved:"Marcar como Resuelto",markPending:"Marcar como Pendiente"},types:{Conducta:"Conducta",Acadmico:"Acadmico",Familia:"Familia",Positivo:"Positivo"}},classes:{title:"Mis Clases",addClass:"Crear Clase",noClasses:"No has creado ninguna clase todava.",studentsInClass:"Alumnos en esta clase",addStudentToClass:"Aadir alumno a esta clase",forms:{name:"Nombre Clase (ej: 3 ESO B)",subject:"Asignatura",save:"Guardar Clase"}},notes:{title:"Notas Rpidas",newNote:"Nueva Nota",placeholder:"Escribe tu nota aqu...",save:"Guardar"},resources:{title:"Biblioteca de Recursos",searchPlaceholder:"Buscar recursos...",add:"Aadir",table:{resource:"Recurso",tags:"Tags",action:"Accin"},noResources:"No se encontraron recursos.",forms:{title:"Ttulo",url:"URL (https://...)",tags:"Tags (pdf, examen...)",category:"Categora",save:"Guardar"}},calendar:{title:"Calendario Escolar",dragInstruction:"Arrastra una nota a un da para convertirla en evento.",unscheduledNotes:"Notas sin planificar",newEvent:"Nuevo Evento",todayEvents:"Eventos del da",noEvents:"No hay eventos para este da.",types:{general:"General",exam:"Examen",meeting:"Reunin"},add:"Aadir",time:"Hora",actions:{move:"Mover fecha",delete:"Eliminar",save:"Guardar",cancel:"Cancelar"}},settings:{title:"Configuracin Firebase",subtitle:"Conecta tu base de datos real para sincronizacin entre dispositivos.",status:{label:"Estado:",connected:"Conectado (Firebase)",mock:"Modo Simulacin (Datos Locales)"},form:{apiKey:"API Key",authDomain:"Auth Domain",projectId:"Project ID",save:"Guardar y Recargar",clear:"Borrar Configuracin"},warning:"Al guardar los cambios la pgina se recargar."}}},db=O.createContext(void 0),yE=({children:s})=>{const[t,a]=O.useState("eu"),o={language:t,toggleLanguage:()=>{a(c=>c==="eu"?"es":"eu")},t:pE[t]};return m.jsx(db.Provider,{value:o,children:s})},ur=()=>{const s=O.useContext(db);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s},hb=O.createContext(void 0),vE=({children:s})=>{const[t,a]=O.useState(()=>{const o=localStorage.getItem("teacher_mate_theme");return o==="dark"||o==="light"?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});O.useEffect(()=>{const o=window.document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("teacher_mate_theme",t)},[t]);const i=()=>{a(o=>o==="light"?"dark":"light")};return m.jsx(hb.Provider,{value:{theme:t,toggleTheme:i},children:s})},bE=()=>{const s=O.useContext(hb);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_E=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,i)=>i?i.toUpperCase():a.toLowerCase()),Iy=s=>{const t=_E(s);return t.charAt(0).toUpperCase()+t.slice(1)},fb=(...s)=>s.filter((t,a,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===a).join(" ").trim(),EE=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=O.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...y},p)=>O.createElement("svg",{ref:p,...TE,width:t,height:t,stroke:s,strokeWidth:i?Number(a)*24/Number(t):a,className:fb("lucide",o),...!c&&!EE(y)&&{"aria-hidden":"true"},...y},[...f.map(([v,_])=>O.createElement(v,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(s,t)=>{const a=O.forwardRef(({className:i,...o},c)=>O.createElement(wE,{ref:c,iconNode:t,className:fb(`lucide-${xE(Iy(s))}`,`lucide-${s}`,i),...o}));return a.displayName=Iy(s),a};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mb=Ce("arrow-right",SE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tc=Ce("book-open",AE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],kE=Ce("brain-circuit",NE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RE=Ce("calendar-days",CE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IE=Ce("calendar",DE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dc=Ce("check",jE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],VE=Ce("chevron-right",ME);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zE=Ce("chevron-left",OE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ho=Ce("circle-alert",LE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PE=Ce("circle-check",UE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qE=Ce("clock",BE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],GE=Ce("cloud",HE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],QE=Ce("copy",FE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],KE=Ce("database",YE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$E=Ce("external-link",XE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JE=Ce("file-text",ZE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],dm=Ce("graduation-cap",WE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],tT=Ce("grip-horizontal",eT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aT=Ce("history",nT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],rT=Ce("languages",sT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lT=Ce("layout-dashboard",iT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],uT=Ce("layout-grid",oT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],dT=Ce("library",cT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fT=Ce("menu",hT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gT=Ce("moon",mT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ic=Ce("pen",pT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vT=Ce("phone",yT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],xT=Ce("pin",bT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$s=Ce("plus",_T);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]],TT=Ce("rows-2",ET);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gb=Ce("save",wT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],AT=Ce("school",ST);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pb=Ce("search",NT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CT=Ce("settings",kT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jf=Ce("sparkles",RT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],jc=Ce("sticky-note",DT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jT=Ce("sun",IT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],VT=Ce("tag",MT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bo=Ce("trash-2",OT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yb=Ce("triangle-alert",zT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],UT=Ce("undo-2",LT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BT=Ce("user-plus",PT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HT=Ce("user",qT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hm=Ce("users",GT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],za=Ce("x",FT),Br=({to:s,icon:t,label:a,onClick:i})=>m.jsxs(ub,{to:s,onClick:i,className:({isActive:o})=>`flex items-center space-x-3 px-4 py-3 rounded-2xl transition-all duration-300 group ${o?"bg-gradient-to-r from-purple-100 to-blue-100 dark:from-indigo-900/50 dark:to-purple-900/50 text-slate-800 dark:text-slate-100 font-bold shadow-sm scale-105":"text-slate-500 dark:text-slate-400 hover:bg-white/50 dark:hover:bg-slate-700/50 hover:text-slate-700 dark:hover:text-slate-200 hover:pl-6"}`,children:[m.jsx(t,{size:20,className:"transition-transform group-hover:rotate-6"}),m.jsx("span",{className:"font-medium",children:a})]}),QT=()=>{const[s,t]=O.useState(!1),{t:a,language:i,toggleLanguage:o}=ur(),{theme:c,toggleTheme:f}=bE(),y=vs(),p=()=>{switch(y.pathname){case"/":return a.sidebar.dashboard;case"/students":return a.sidebar.students;case"/classes":return a.sidebar.classes;case"/notes":return a.sidebar.notes;case"/resources":return a.sidebar.resources;case"/calendar":return a.sidebar.calendar;case"/settings":return a.sidebar.settings;default:return"TeacherMate"}};return m.jsxs("div",{className:"flex h-screen overflow-hidden bg-transparent",children:[s&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/10 backdrop-blur-sm z-20 lg:hidden",onClick:()=>t(!1)}),m.jsx("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-30 w-72 glass transform transition-transform duration-500 ease-out
          lg:m-4 lg:rounded-3xl border-none shadow-xl lg:shadow-slate-200/50 dark:lg:shadow-black/20
          ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:m.jsxs("div",{className:"h-full flex flex-col p-2",children:[m.jsxs("div",{className:"p-6 mb-2 flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-watercolor-blue rounded-2xl flex items-center justify-center text-white shadow-lg shadow-blue-200 dark:shadow-none rotate-3",children:m.jsx(dm,{size:28,className:"drop-shadow-sm"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-slate-700 to-slate-500 dark:from-slate-200 dark:to-slate-400 font-sans tracking-tight",children:"TeacherMate"}),m.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 font-hand text-lg -mt-1",children:a.sidebar.devMode})]})]}),m.jsxs("nav",{className:"flex-1 px-3 space-y-2 overflow-y-auto custom-scrollbar",children:[m.jsx(Br,{to:"/",icon:lT,label:a.sidebar.dashboard,onClick:()=>t(!1)}),m.jsx(Br,{to:"/calendar",icon:RE,label:a.sidebar.calendar,onClick:()=>t(!1)}),m.jsx(Br,{to:"/classes",icon:Tc,label:a.sidebar.classes,onClick:()=>t(!1)}),m.jsx(Br,{to:"/students",icon:hm,label:a.sidebar.students,onClick:()=>t(!1)}),m.jsx(Br,{to:"/notes",icon:jc,label:a.sidebar.notes,onClick:()=>t(!1)}),m.jsx(Br,{to:"/resources",icon:dT,label:a.sidebar.resources,onClick:()=>t(!1)}),m.jsx(Br,{to:"/settings",icon:CT,label:a.sidebar.settings,onClick:()=>t(!1)})]}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:o,className:"flex items-center justify-center px-4 py-3 bg-white/60 dark:bg-slate-800/50 hover:bg-white/90 dark:hover:bg-slate-700 rounded-2xl transition-all shadow-sm text-sm font-medium text-slate-600 dark:text-slate-300",title:"Change Language",children:[m.jsx(rT,{size:18,className:"mr-2"}),m.jsx("span",{className:"font-bold",children:i.toUpperCase()})]}),m.jsxs("button",{onClick:f,className:"flex items-center justify-center px-4 py-3 bg-white/60 dark:bg-slate-800/50 hover:bg-white/90 dark:hover:bg-slate-700 rounded-2xl transition-all shadow-sm text-sm font-medium text-slate-600 dark:text-slate-300",title:"Toggle Dark Mode",children:[c==="light"?m.jsx(gT,{size:18,className:"mr-2 text-indigo-400"}):m.jsx(jT,{size:18,className:"mr-2 text-amber-400"}),m.jsx("span",{className:"font-bold",children:c==="light"?"Dark":"Light"})]})]}),m.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 p-4 rounded-2xl border border-white/50 dark:border-white/10 text-center",children:[m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-hand text-lg",children:a.sidebar.session}),m.jsx("div",{className:"mt-1 w-8 h-8 bg-gradient-to-tr from-pink-300 to-purple-300 rounded-full mx-auto shadow-sm border-2 border-white dark:border-slate-700"})]})]})]})}),m.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-purple-200/30 dark:bg-purple-900/20 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-70 dark:opacity-20 animate-blob pointer-events-none"}),m.jsx("div",{className:"absolute top-[-10%] left-[10%] w-96 h-96 bg-blue-200/30 dark:bg-blue-900/20 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-70 dark:opacity-20 animate-blob animation-delay-2000 pointer-events-none"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[20%] w-96 h-96 bg-pink-200/30 dark:bg-indigo-900/20 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-70 dark:opacity-20 animate-blob animation-delay-4000 pointer-events-none"}),m.jsxs("header",{className:"lg:hidden px-6 py-4 flex items-center justify-between glass m-4 rounded-2xl z-10 dark:text-slate-200",children:[m.jsx("button",{onClick:()=>t(!0),className:"p-2 text-slate-600 dark:text-slate-300 hover:bg-purple-50 dark:hover:bg-slate-700 rounded-xl transition",children:m.jsx(fT,{size:24})}),m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 font-sans",children:p()}),m.jsx("div",{className:"w-10"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth z-10",children:m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsx(O2,{})})})]})]})},YT=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(s){const t=[];let a=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},KT=function(s){const t=[];let a=0,i=0;for(;a<s.length;){const o=s[a++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[a++];t[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[a++],f=s[a++],y=s[a++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const c=s[a++],f=s[a++];t[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,y=f?s[o+1]:0,p=o+2<s.length,v=p?s[o+2]:0,_=c>>2,T=(c&3)<<4|y>>4;let S=(y&15)<<2|v>>6,z=v&63;p||(z=64,f||(S=64)),i.push(a[_],a[T],a[S],a[z])}return i.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(vb(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):KT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const c=a[s.charAt(o++)],y=o<s.length?a[s.charAt(o)]:0;++o;const v=o<s.length?a[s.charAt(o)]:64;++o;const T=o<s.length?a[s.charAt(o)]:64;if(++o,c==null||y==null||v==null||T==null)throw new XT;const S=c<<2|y>>4;if(i.push(S),v!==64){const z=y<<4&240|v>>2;if(i.push(z),T!==64){const Y=v<<6&192|T;i.push(Y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(s){const t=vb(s);return bb.encodeByteArray(t,!0)},Mc=function(s){return $T(s).replace(/\./g,"")},ZT=function(s){try{return bb.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=()=>JT().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof jy>"u")return;const s=jy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ZT(s[1]);return t&&JSON.parse(t)},fm=()=>{try{return YT()||WT()||ew()||tw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nw=s=>{var t,a;return(a=(t=fm())==null?void 0:t.emulatorHosts)==null?void 0:a[s]},aw=s=>{const t=nw(s);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),i]:[t.substring(0,a),i]},xb=()=>{var s;return(s=fm())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,i)=>{a?this.reject(a):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rw(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},i=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mc(JSON.stringify(a)),Mc(JSON.stringify(f)),""].join(".")}const fo={};function lw(){const s={prod:[],emulator:[]};for(const t of Object.keys(fo))fo[t]?s.emulator.push(t):s.prod.push(t);return s}function ow(s){let t=document.getElementById(s),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),a=!0),{created:a,element:t}}let My=!1;function uw(s,t){if(typeof window>"u"||typeof document>"u"||!mm(window.location.host)||fo[s]===t||fo[s]||My)return;fo[s]=t;function a(S){return`__firebase__banner__${S}`}const i="__firebase__banner",c=lw().prod.length>0;function f(){const S=document.getElementById(i);S&&S.remove()}function y(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{My=!0,f()},S}function _(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=ow(i),z=a("text"),Y=document.getElementById(z)||document.createElement("span"),$=a("learnmore"),G=document.getElementById($)||document.createElement("a"),Z=a("preprendIcon"),ie=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;y(te),_(G,$);const ve=v();p(ie,Z),te.append(ie,Y,G,ve),document.body.appendChild(te)}c?(Y.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dw(){var t;const s=(t=fm())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fw(){try{return typeof indexedDB=="object"}catch{return!1}}function mw(){return new Promise((s,t)=>{try{let a=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var c;t(((c=o.error)==null?void 0:c.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="FirebaseError";class Wi extends Error{constructor(t,a,i){super(a),this.code=t,this.customData=i,this.name=gw,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_b.prototype.create)}}class _b{constructor(t,a,i){this.service=t,this.serviceName=a,this.errors=i}create(t,...a){const i=a[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?pw(c,i):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new Wi(o,y,i)}}function pw(s,t){return s.replace(yw,(a,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const yw=/\{\$([^}]+)}/g;function Vc(s,t){if(s===t)return!0;const a=Object.keys(s),i=Object.keys(t);for(const o of a){if(!i.includes(o))return!1;const c=s[o],f=t[o];if(Vy(c)&&Vy(f)){if(!Vc(c,f))return!1}else if(c!==f)return!1}for(const o of i)if(!a.includes(o))return!1;return!0}function Vy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(s){return s&&s._delegate?s._delegate:s}class xo{constructor(t,a,i){this.name=t,this.instanceFactory=a,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const i=new sw;if(this.instancesDeferred.set(a,i),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xw(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[a,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:a});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);i===y&&f.resolve(o)}return o}onInit(t,a){const i=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(i)??new Set;o.add(t),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&t(c,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const i=this.onInitCallbacks.get(a);if(i)for(const o of i)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bw(t),options:a}),this.instances.set(t,i),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(s){return s===qr?void 0:s}function xw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new vw(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const Ew={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Tw=Ke.INFO,ww={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Sw=(s,t,...a)=>{if(t<s.logLevel)return;const i=new Date().toISOString(),o=ww[t];if(o)console[o](`[${i}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Eb{constructor(t){this.name=t,this._logLevel=Tw,this._logHandler=Sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ew[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}const Aw=(s,t)=>t.some(a=>s instanceof a);let Oy,zy;function Nw(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kw(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,Mf=new WeakMap,wb=new WeakMap,bf=new WeakMap,gm=new WeakMap;function Cw(s){const t=new Promise((a,i)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{a(Js(s.result)),o()},f=()=>{i(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return t.then(a=>{a instanceof IDBCursor&&Tb.set(a,s)}).catch(()=>{}),gm.set(t,s),t}function Rw(s){if(Mf.has(s))return;const t=new Promise((a,i)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{a(),o()},f=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Mf.set(s,t)}let Vf={get(s,t,a){if(s instanceof IDBTransaction){if(t==="done")return Mf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||wb.get(s);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Js(s[t])},set(s,t,a){return s[t]=a,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Dw(s){Vf=s(Vf)}function Iw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const i=s.call(xf(this),t,...a);return wb.set(i,t.sort?t.sort():[t]),Js(i)}:kw().includes(s)?function(...t){return s.apply(xf(this),t),Js(Tb.get(this))}:function(...t){return Js(s.apply(xf(this),t))}}function jw(s){return typeof s=="function"?Iw(s):(s instanceof IDBTransaction&&Rw(s),Aw(s,Nw())?new Proxy(s,Vf):s)}function Js(s){if(s instanceof IDBRequest)return Cw(s);if(bf.has(s))return bf.get(s);const t=jw(s);return t!==s&&(bf.set(s,t),gm.set(t,s)),t}const xf=s=>gm.get(s);function Mw(s,t,{blocked:a,upgrade:i,blocking:o,terminated:c}={}){const f=indexedDB.open(s,t),y=Js(f);return i&&f.addEventListener("upgradeneeded",p=>{i(Js(f.result),p.oldVersion,p.newVersion,Js(f.transaction),p)}),a&&f.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const Vw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],_f=new Map;function Ly(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(_f.get(t))return _f.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,o=Ow.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Vw.includes(a)))return;const c=async function(f,...y){const p=this.transaction(f,o?"readwrite":"readonly");let v=p.store;return i&&(v=v.index(y.shift())),(await Promise.all([v[a](...y),o&&p.done]))[0]};return _f.set(t,c),c}Dw(s=>({...s,get:(t,a,i)=>Ly(t,a)||s.get(t,a,i),has:(t,a)=>!!Ly(t,a)||s.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Lw(a)){const i=a.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(a=>a).join(" ")}}function Lw(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Of="@firebase/app",Uy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Eb("@firebase/app"),Uw="@firebase/app-compat",Pw="@firebase/analytics-compat",Bw="@firebase/analytics",qw="@firebase/app-check-compat",Hw="@firebase/app-check",Gw="@firebase/auth",Fw="@firebase/auth-compat",Qw="@firebase/database",Yw="@firebase/data-connect",Kw="@firebase/database-compat",Xw="@firebase/functions",$w="@firebase/functions-compat",Zw="@firebase/installations",Jw="@firebase/installations-compat",Ww="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",aS="@firebase/remote-config",sS="@firebase/remote-config-compat",rS="@firebase/storage",iS="@firebase/storage-compat",lS="@firebase/firestore",oS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",dS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",hS={[Of]:"fire-core",[Uw]:"fire-core-compat",[Bw]:"fire-analytics",[Pw]:"fire-analytics-compat",[Hw]:"fire-app-check",[qw]:"fire-app-check-compat",[Gw]:"fire-auth",[Fw]:"fire-auth-compat",[Qw]:"fire-rtdb",[Yw]:"fire-data-connect",[Kw]:"fire-rtdb-compat",[Xw]:"fire-fn",[$w]:"fire-fn-compat",[Zw]:"fire-iid",[Jw]:"fire-iid-compat",[Ww]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[aS]:"fire-rc",[sS]:"fire-rc-compat",[rS]:"fire-gcs",[iS]:"fire-gcs-compat",[lS]:"fire-fst",[uS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,fS=new Map,Lf=new Map;function Py(s,t){try{s.container.addComponent(t)}catch(a){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,a)}}function zc(s){const t=s.name;if(Lf.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;Lf.set(t,s);for(const a of Oc.values())Py(a,s);for(const a of fS.values())Py(a,s);return!0}function mS(s,t){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(t)}function gS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new _b("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,a,i){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=dS;function Sb(s,t={}){let a=s;typeof t!="object"&&(t={name:t});const i={name:zf,automaticDataCollectionEnabled:!0,...t},o=i.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(a||(a=xb()),!a)throw Ws.create("no-options");const c=Oc.get(o);if(c){if(Vc(a,c.options)&&Vc(i,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const f=new _w(o);for(const p of Lf.values())f.addComponent(p);const y=new yS(a,i,f);return Oc.set(o,y),y}function bS(s=zf){const t=Oc.get(s);if(!t&&s===zf&&xb())return Sb();if(!t)throw Ws.create("no-app",{appName:s});return t}function qi(s,t,a){let i=hS[s]??s;a&&(i+=`-${a}`);const o=i.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${i}" with version "${t}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(f.join(" "));return}zc(new xo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebase-heartbeat-database",_S=1,_o="firebase-heartbeat-store";let Ef=null;function Ab(){return Ef||(Ef=Mw(xS,_S,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(_o)}catch(a){console.warn(a)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),Ef}async function ES(s){try{const a=(await Ab()).transaction(_o),i=await a.objectStore(_o).get(Nb(s));return await a.done,i}catch(t){if(t instanceof Wi)gs.warn(t.message);else{const a=Ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gs.warn(a.message)}}}async function By(s,t){try{const i=(await Ab()).transaction(_o,"readwrite");await i.objectStore(_o).put(t,Nb(s)),await i.done}catch(a){if(a instanceof Wi)gs.warn(a.message);else{const i=Ws.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});gs.warn(i.message)}}}function Nb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=1024,wS=30;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new NS(a),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=qy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>wS){const f=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=qy(),{heartbeatsToSend:i,unsentEntries:o}=AS(this._heartbeatsCache.heartbeats),c=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(a){return gs.warn(a),""}}}function qy(){return new Date().toISOString().substring(0,10)}function AS(s,t=TS){const a=[];let i=s.slice();for(const o of s){const c=a.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Hy(a)>t){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),Hy(a)>t){a.pop();break}i=i.slice(1)}return{heartbeatsToSend:a,unsentEntries:i}}class NS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fw()?mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await ES(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return By(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return By(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Hy(s){return Mc(JSON.stringify({version:2,heartbeats:s})).length}function kS(s){if(s.length===0)return-1;let t=0,a=s[0].date;for(let i=1;i<s.length;i++)s[i].date<a&&(a=s[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(s){zc(new xo("platform-logger",t=>new zw(t),"PRIVATE")),zc(new xo("heartbeat",t=>new SS(t),"PRIVATE")),qi(Of,Uy,s),qi(Of,Uy,"esm2020"),qi("fire-js","")}CS("");var RS="firebase",DS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(RS,DS,"app");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var er,kb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,A){function k(){}k.prototype=A.prototype,N.F=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(D,I,V){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return A.prototype[I].apply(D,C)}}function a(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,a),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,k){k||(k=0);const D=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)D[I]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(I=0;I<16;++I)D[I]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],I=N.g[2];let V=N.g[3],C;C=A+(V^k&(I^V))+D[0]+3614090360&4294967295,A=k+(C<<7&4294967295|C>>>25),C=V+(I^A&(k^I))+D[1]+3905402710&4294967295,V=A+(C<<12&4294967295|C>>>20),C=I+(k^V&(A^k))+D[2]+606105819&4294967295,I=V+(C<<17&4294967295|C>>>15),C=k+(A^I&(V^A))+D[3]+3250441966&4294967295,k=I+(C<<22&4294967295|C>>>10),C=A+(V^k&(I^V))+D[4]+4118548399&4294967295,A=k+(C<<7&4294967295|C>>>25),C=V+(I^A&(k^I))+D[5]+1200080426&4294967295,V=A+(C<<12&4294967295|C>>>20),C=I+(k^V&(A^k))+D[6]+2821735955&4294967295,I=V+(C<<17&4294967295|C>>>15),C=k+(A^I&(V^A))+D[7]+4249261313&4294967295,k=I+(C<<22&4294967295|C>>>10),C=A+(V^k&(I^V))+D[8]+1770035416&4294967295,A=k+(C<<7&4294967295|C>>>25),C=V+(I^A&(k^I))+D[9]+2336552879&4294967295,V=A+(C<<12&4294967295|C>>>20),C=I+(k^V&(A^k))+D[10]+4294925233&4294967295,I=V+(C<<17&4294967295|C>>>15),C=k+(A^I&(V^A))+D[11]+2304563134&4294967295,k=I+(C<<22&4294967295|C>>>10),C=A+(V^k&(I^V))+D[12]+1804603682&4294967295,A=k+(C<<7&4294967295|C>>>25),C=V+(I^A&(k^I))+D[13]+4254626195&4294967295,V=A+(C<<12&4294967295|C>>>20),C=I+(k^V&(A^k))+D[14]+2792965006&4294967295,I=V+(C<<17&4294967295|C>>>15),C=k+(A^I&(V^A))+D[15]+1236535329&4294967295,k=I+(C<<22&4294967295|C>>>10),C=A+(I^V&(k^I))+D[1]+4129170786&4294967295,A=k+(C<<5&4294967295|C>>>27),C=V+(k^I&(A^k))+D[6]+3225465664&4294967295,V=A+(C<<9&4294967295|C>>>23),C=I+(A^k&(V^A))+D[11]+643717713&4294967295,I=V+(C<<14&4294967295|C>>>18),C=k+(V^A&(I^V))+D[0]+3921069994&4294967295,k=I+(C<<20&4294967295|C>>>12),C=A+(I^V&(k^I))+D[5]+3593408605&4294967295,A=k+(C<<5&4294967295|C>>>27),C=V+(k^I&(A^k))+D[10]+38016083&4294967295,V=A+(C<<9&4294967295|C>>>23),C=I+(A^k&(V^A))+D[15]+3634488961&4294967295,I=V+(C<<14&4294967295|C>>>18),C=k+(V^A&(I^V))+D[4]+3889429448&4294967295,k=I+(C<<20&4294967295|C>>>12),C=A+(I^V&(k^I))+D[9]+568446438&4294967295,A=k+(C<<5&4294967295|C>>>27),C=V+(k^I&(A^k))+D[14]+3275163606&4294967295,V=A+(C<<9&4294967295|C>>>23),C=I+(A^k&(V^A))+D[3]+4107603335&4294967295,I=V+(C<<14&4294967295|C>>>18),C=k+(V^A&(I^V))+D[8]+1163531501&4294967295,k=I+(C<<20&4294967295|C>>>12),C=A+(I^V&(k^I))+D[13]+2850285829&4294967295,A=k+(C<<5&4294967295|C>>>27),C=V+(k^I&(A^k))+D[2]+4243563512&4294967295,V=A+(C<<9&4294967295|C>>>23),C=I+(A^k&(V^A))+D[7]+1735328473&4294967295,I=V+(C<<14&4294967295|C>>>18),C=k+(V^A&(I^V))+D[12]+2368359562&4294967295,k=I+(C<<20&4294967295|C>>>12),C=A+(k^I^V)+D[5]+4294588738&4294967295,A=k+(C<<4&4294967295|C>>>28),C=V+(A^k^I)+D[8]+2272392833&4294967295,V=A+(C<<11&4294967295|C>>>21),C=I+(V^A^k)+D[11]+1839030562&4294967295,I=V+(C<<16&4294967295|C>>>16),C=k+(I^V^A)+D[14]+4259657740&4294967295,k=I+(C<<23&4294967295|C>>>9),C=A+(k^I^V)+D[1]+2763975236&4294967295,A=k+(C<<4&4294967295|C>>>28),C=V+(A^k^I)+D[4]+1272893353&4294967295,V=A+(C<<11&4294967295|C>>>21),C=I+(V^A^k)+D[7]+4139469664&4294967295,I=V+(C<<16&4294967295|C>>>16),C=k+(I^V^A)+D[10]+3200236656&4294967295,k=I+(C<<23&4294967295|C>>>9),C=A+(k^I^V)+D[13]+681279174&4294967295,A=k+(C<<4&4294967295|C>>>28),C=V+(A^k^I)+D[0]+3936430074&4294967295,V=A+(C<<11&4294967295|C>>>21),C=I+(V^A^k)+D[3]+3572445317&4294967295,I=V+(C<<16&4294967295|C>>>16),C=k+(I^V^A)+D[6]+76029189&4294967295,k=I+(C<<23&4294967295|C>>>9),C=A+(k^I^V)+D[9]+3654602809&4294967295,A=k+(C<<4&4294967295|C>>>28),C=V+(A^k^I)+D[12]+3873151461&4294967295,V=A+(C<<11&4294967295|C>>>21),C=I+(V^A^k)+D[15]+530742520&4294967295,I=V+(C<<16&4294967295|C>>>16),C=k+(I^V^A)+D[2]+3299628645&4294967295,k=I+(C<<23&4294967295|C>>>9),C=A+(I^(k|~V))+D[0]+4096336452&4294967295,A=k+(C<<6&4294967295|C>>>26),C=V+(k^(A|~I))+D[7]+1126891415&4294967295,V=A+(C<<10&4294967295|C>>>22),C=I+(A^(V|~k))+D[14]+2878612391&4294967295,I=V+(C<<15&4294967295|C>>>17),C=k+(V^(I|~A))+D[5]+4237533241&4294967295,k=I+(C<<21&4294967295|C>>>11),C=A+(I^(k|~V))+D[12]+1700485571&4294967295,A=k+(C<<6&4294967295|C>>>26),C=V+(k^(A|~I))+D[3]+2399980690&4294967295,V=A+(C<<10&4294967295|C>>>22),C=I+(A^(V|~k))+D[10]+4293915773&4294967295,I=V+(C<<15&4294967295|C>>>17),C=k+(V^(I|~A))+D[1]+2240044497&4294967295,k=I+(C<<21&4294967295|C>>>11),C=A+(I^(k|~V))+D[8]+1873313359&4294967295,A=k+(C<<6&4294967295|C>>>26),C=V+(k^(A|~I))+D[15]+4264355552&4294967295,V=A+(C<<10&4294967295|C>>>22),C=I+(A^(V|~k))+D[6]+2734768916&4294967295,I=V+(C<<15&4294967295|C>>>17),C=k+(V^(I|~A))+D[13]+1309151649&4294967295,k=I+(C<<21&4294967295|C>>>11),C=A+(I^(k|~V))+D[4]+4149444226&4294967295,A=k+(C<<6&4294967295|C>>>26),C=V+(k^(A|~I))+D[11]+3174756917&4294967295,V=A+(C<<10&4294967295|C>>>22),C=I+(A^(V|~k))+D[2]+718787259&4294967295,I=V+(C<<15&4294967295|C>>>17),C=k+(V^(I|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+V&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const k=A-this.blockSize,D=this.C;let I=this.h,V=0;for(;V<A;){if(I==0)for(;V<=k;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<A;)if(D[I++]=N.charCodeAt(V++),I==this.blockSize){o(this,D),I=0;break}}else for(;V<A;)if(D[I++]=N[V++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)N[A++]=this.g[k]>>>D&255;return N};function c(N,A){var k=y;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function f(N,A){this.h=A;const k=[];let D=!0;for(let I=N.length-1;I>=0;I--){const V=N[I]|0;D&&V==A||(k[I]=V,D=!1)}this.g=k}var y={};function p(N){return-128<=N&&N<128?c(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return G(v(-N));const A=[];let k=1;for(let D=0;N>=k;D++)A[D]=N/k|0,k*=4294967296;return new f(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return G(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(A,8));let D=T;for(let V=0;V<N.length;V+=8){var I=Math.min(8,N.length-V);const C=parseInt(N.substring(V,V+I),A);I<8?(I=v(Math.pow(A,I)),D=D.j(I).add(v(C))):(D=D.j(k),D=D.add(v(C)))}return D}var T=p(0),S=p(1),z=p(16777216);s=f.prototype,s.m=function(){if($(this))return-G(this).m();let N=0,A=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);N+=(D>=0?D:4294967296+D)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if($(this))return"-"+G(this).toString(N);const A=v(Math.pow(N,6));var k=this;let D="";for(;;){const I=ve(k,A).g;k=Z(k,I.j(A));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=I,Y(k))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function $(N){return N.h==-1}s.l=function(N){return N=Z(this,N),$(N)?-1:Y(N)?0:1};function G(N){const A=N.g.length,k=[];for(let D=0;D<A;D++)k[D]=~N.g[D];return new f(k,~N.h).add(S)}s.abs=function(){return $(this)?G(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),k=[];let D=0;for(let I=0;I<=A;I++){let V=D+(this.i(I)&65535)+(N.i(I)&65535),C=(V>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);D=C>>>16,V&=65535,C&=65535,k[I]=C<<16|V}return new f(k,k[k.length-1]&-2147483648?-1:0)};function Z(N,A){return N.add(G(A))}s.j=function(N){if(Y(this)||Y(N))return T;if($(this))return $(N)?G(this).j(G(N)):G(G(this).j(N));if($(N))return G(this.j(G(N)));if(this.l(z)<0&&N.l(z)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,k=[];for(var D=0;D<2*A;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<N.g.length;I++){const V=this.i(D)>>>16,C=this.i(D)&65535,tt=N.i(I)>>>16,dt=N.i(I)&65535;k[2*D+2*I]+=C*dt,ie(k,2*D+2*I),k[2*D+2*I+1]+=V*dt,ie(k,2*D+2*I+1),k[2*D+2*I+1]+=C*tt,ie(k,2*D+2*I+1),k[2*D+2*I+2]+=V*tt,ie(k,2*D+2*I+2)}for(N=0;N<A;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=A;N<2*A;N++)k[N]=0;return new f(k,0)};function ie(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function te(N,A){this.g=N,this.h=A}function ve(N,A){if(Y(A))throw Error("division by zero");if(Y(N))return new te(T,T);if($(N))return A=ve(G(N),A),new te(G(A.g),G(A.h));if($(A))return A=ve(N,G(A)),new te(G(A.g),A.h);if(N.g.length>30){if($(N)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var k=S,D=A;D.l(N)<=0;)k=ce(k),D=ce(D);var I=be(k,1),V=be(D,1);for(D=be(D,2),k=be(k,2);!Y(D);){var C=V.add(D);C.l(N)<=0&&(I=I.add(k),V=C),D=be(D,1),k=be(k,1)}return A=Z(N,I.j(A)),new te(I,A)}for(I=T;N.l(A)>=0;){for(k=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=v(k),C=V.j(A);$(C)||C.l(N)>0;)k-=D,V=v(k),C=V.j(A);Y(V)&&(V=S),I=I.add(V),N=Z(N,C)}return new te(I,N)}s.B=function(N){return ve(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<A;D++)k[D]=this.i(D)&N.i(D);return new f(k,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<A;D++)k[D]=this.i(D)|N.i(D);return new f(k,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<A;D++)k[D]=this.i(D)^N.i(D);return new f(k,this.h^N.h)};function ce(N){const A=N.g.length+1,k=[];for(let D=0;D<A;D++)k[D]=N.i(D)<<1|N.i(D-1)>>>31;return new f(k,N.h)}function be(N,A){const k=A>>5;A%=32;const D=N.g.length-k,I=[];for(let V=0;V<D;V++)I[V]=A>0?N.i(V+k)>>>A|N.i(V+k+1)<<32-A:N.i(V+k);return new f(I,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,kb=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=_,er=f}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,lo,Rb,wc,Uf,Db,Ib,jb;(function(){var s,t=Object.defineProperty;function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=a(this);function o(u,g){if(g)e:{var x=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var P=u[w];if(!(P in x))break e;x=x[P]}u=u[u.length-1],w=x[u],g=g(w),g!=w&&g!=null&&t(x,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var x=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&x.push([w,g[w]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,x){return u.call.apply(u.bind,arguments)}function v(u,g,x){return v=p,v.apply(null,arguments)}function _(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var w=x.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,g){function x(){}x.prototype=g.prototype,u.Z=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(w,P,F){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return g.prototype[P].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const g=u.length;if(g>0){const x=Array(g);for(let w=0;w<g;w++)x[w]=u[w];return x}return[]}function Y(u,g){for(let w=1;w<arguments.length;w++){const P=arguments[w];var x=typeof P;if(x=x!="object"?x:P?Array.isArray(P)?"array":x:"null",x=="array"||x=="object"&&typeof P.length=="number"){x=u.length||0;const F=P.length||0;u.length=x+F;for(let oe=0;oe<F;oe++)u[x+oe]=P[oe]}else u.push(P)}}class ${constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(u){f.setTimeout(()=>{throw u},0)}function Z(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,x){const w=te.get();w.set(g,x),this.h?this.h.next=w:this.g=w,this.h=w}}var te=new $(()=>new ve,u=>u.reset());class ve{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,be=!1,N=new ie,A=()=>{const u=Promise.resolve(void 0);ce=()=>{u.then(k)}};function k(){for(var u;u=Z();){try{u.h.call(u.g)}catch(x){G(x)}var g=te;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}be=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,g),f.removeEventListener("test",x,g)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function tt(u,g){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}T(tt,I),tt.prototype.init=function(u,g){const x=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(u,g,x,w,P){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!w,this.ha=P,this.key=++K,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,g,x){for(const w in u)g.call(x,u[w],w,u)}function Ge(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function j(u){const g={};for(const x in u)g[x]=u[x];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,g){let x,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(x in w)u[x]=w[x];for(let F=0;F<W.length;F++)x=W[F],Object.prototype.hasOwnProperty.call(w,x)&&(u[x]=w[x])}}function de(u){this.src=u,this.g={},this.h=0}de.prototype.add=function(u,g,x,w,P){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const oe=Ne(u,g,w,P);return oe>-1?(g=u[oe],x||(g.fa=!1)):(g=new le(g,this.src,F,!!w,P),g.fa=x,u.push(g)),g};function Te(u,g){const x=g.type;if(x in u.g){var w=u.g[x],P=Array.prototype.indexOf.call(w,g,void 0),F;(F=P>=0)&&Array.prototype.splice.call(w,P,1),F&&(ye(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ne(u,g,x,w){for(let P=0;P<u.length;++P){const F=u[P];if(!F.da&&F.listener==g&&F.capture==!!x&&F.ha==w)return P}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),bt={};function rt(u,g,x,w,P){if(Array.isArray(g)){for(let F=0;F<g.length;F++)rt(u,g[F],x,w,P);return null}return x=xe(x),u&&u[dt]?u.J(g,x,y(w)?!!w.capture:!1,P):Zn(u,g,x,!1,w,P)}function Zn(u,g,x,w,P,F){if(!g)throw Error("Invalid event type");const oe=y(P)?!!P.capture:!!P;let Ie=U(u);if(Ie||(u[ze]=Ie=new de(u)),x=Ie.add(g,x,w,oe,F),x.proxy)return x;if(w=Jn(),x.proxy=w,w.src=u,w.listener=x,u.addEventListener)V||(P=oe),P===void 0&&(P=!1),u.addEventListener(g.toString(),w,P);else if(u.attachEvent)u.attachEvent(dn(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Jn(){function u(x){return g.call(u.src,u.listener,x)}const g=X;return u}function jn(u,g,x,w,P){if(Array.isArray(g))for(var F=0;F<g.length;F++)jn(u,g[F],x,w,P);else w=y(w)?!!w.capture:!!w,x=xe(x),u&&u[dt]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],x=Ne(g,x,w,P),x>-1&&(ye(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=U(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ne(g,x,w,P)),(x=u>-1?g[u]:null)&&Mn(x))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[dt])Te(g.i,u);else{var x=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(x,w,u.capture):g.detachEvent?g.detachEvent(dn(x),w):g.addListener&&g.removeListener&&g.removeListener(w),(x=U(g))?(Te(x,u),x.h==0&&(x.src=null,g[ze]=null)):ye(u)}}}function dn(u){return u in bt?bt[u]:bt[u]="on"+u}function X(u,g){if(u.da)u=!0;else{g=new tt(g,this);const x=u.listener,w=u.ha||u.src;u.fa&&Mn(u),u=x.call(w,g)}return u}function U(u){return u=u[ze],u instanceof de?u:null}var ne="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(u){return typeof u=="function"?u:(u[ne]||(u[ne]=function(g){return u.handleEvent(g)}),u[ne])}function me(){D.call(this),this.i=new de(this),this.M=this,this.G=null}T(me,D),me.prototype[dt]=!0,me.prototype.removeEventListener=function(u,g,x,w){jn(this,u,g,x,w)};function Ae(u,g){var x,w=u.G;if(w)for(x=[];w;w=w.G)x.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new I(g,u);else if(g instanceof I)g.target=g.target||u;else{var P=g;g=new I(w,u),ue(g,P)}P=!0;let F,oe;if(x)for(oe=x.length-1;oe>=0;oe--)F=g.g=x[oe],P=Xe(F,w,!0,g)&&P;if(F=g.g=u,P=Xe(F,w,!0,g)&&P,P=Xe(F,w,!1,g)&&P,x)for(oe=0;oe<x.length;oe++)F=g.g=x[oe],P=Xe(F,w,!1,g)&&P}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const x=u.g[g];for(let w=0;w<x.length;w++)ye(x[w]);delete u.g[g],u.h--}}this.G=null},me.prototype.J=function(u,g,x,w){return this.i.add(String(u),g,!1,x,w)},me.prototype.K=function(u,g,x,w){return this.i.add(String(u),g,!0,x,w)};function Xe(u,g,x,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let F=0;F<g.length;++F){const oe=g[F];if(oe&&!oe.da&&oe.capture==x){const Ie=oe.listener,At=oe.ha||oe.src;oe.fa&&Te(u.i,oe),P=Ie.call(At,w)!==!1&&P}}return P&&!w.defaultPrevented}function Ve(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(u,g||0)}function En(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,En(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class it extends D{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(u){D.call(this),this.h=u,this.g={}}T(Et,D);var Wn=[];function hr(u){Oe(u.g,function(g,x){this.g.hasOwnProperty(x)&&Mn(g)},u),u.g={}}Et.prototype.N=function(){Et.Z.N.call(this),hr(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=f.JSON.stringify,Kt=f.JSON.parse,Ga=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Uo(){}function Po(){}var ea={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){I.call(this,"d")}T(Xt,I);function On(){I.call(this,"c")}T(On,I);var St={},Bo=null;function $r(){return Bo=Bo||new me}St.Ia="serverreachability";function qo(u){I.call(this,St.Ia,u)}T(qo,I);function ga(u){const g=$r();Ae(g,new qo(g))}St.STAT_EVENT="statevent";function fr(u,g){I.call(this,St.STAT_EVENT,u),this.stat=g}T(fr,I);function Rt(u){const g=$r();Ae(g,new fr(g,u))}St.Ja="timingevent";function pa(u,g){I.call(this,St.Ja,u),this.size=g}T(pa,I);function ya(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function ta(){this.g=!0}ta.prototype.ua=function(){this.g=!1};function md(u,g,x,w,P,F){u.info(function(){if(u.g)if(F){var oe="",Ie=F.split("&");for(let Je=0;Je<Ie.length;Je++){var At=Ie[Je].split("=");if(At.length>1){const yt=At[0];At=At[1];const Pn=yt.split("_");oe=Pn.length>=2&&Pn[1]=="type"?oe+(yt+"="+At+"&"):oe+(yt+"=redacted&")}}}else oe=null;else oe=F;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+g+`
`+x+`
`+oe})}function Ho(u,g,x,w,P,F,oe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+g+`
`+x+`
`+F+" "+oe})}function va(u,g,x,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+gd(u,x)+(w?" "+w:"")})}function mr(u,g){u.info(function(){return"TIMEOUT: "+g})}ta.prototype.info=function(){};function gd(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var x=F[u];if(!(x.length<2)){var w=x[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return Vn(F)}catch{return g}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function pr(){}T(pr,Uo),pr.prototype.g=function(){return new XMLHttpRequest},il=new pr;function Fa(u){return encodeURIComponent(String(u))}function Go(u){var g=1;u=u.split(":");const x=[];for(;g>0&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function na(u,g,x,w){this.j=u,this.i=g,this.l=x,this.S=w||1,this.V=new Et(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new aa}function aa(){this.i=null,this.g="",this.h=!1}var Dt={},Gt={};function ba(u,g,x){u.M=1,u.A=yr(jt(g)),u.u=x,u.R=!0,Zr(u,null)}function Zr(u,g){u.F=Date.now(),xa(u),u.B=jt(u.A);var x=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ti(x.i,"t",w),u.C=0,x=u.j.L,u.h=new aa,u.g=ru(u.j,x?g:null,!u.u),u.P>0&&(u.O=new it(v(u.Y,u,u.g),u.P)),g=u.V,x=u.g,w=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Wn[0]=P.toString()),P=Wn);for(let F=0;F<P.length;F++){const oe=rt(x,P[F],w||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ga(),md(u.i,u.v,u.B,u.l,u.S,u.u)}na.prototype.ba=function(u){u=u.target;const g=this.O;g&&ia(u)==3?g.j():this.Y(u)},na.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ia(this.g),At=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||At==7||(At==8||Je<=0?ga(3):ga(2)),_a(this);var g=this.g.ca();this.X=g;var x=pd(this);if(this.o=g==200,Ho(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var F=w;break t}}F=null}if(u=F)va(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ea(this,u);else{this.o=!1,this.m=3,Rt(12),Tn(this),zn(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<x.length;)if(yt=Qo(this,x),yt==Gt){Ie==4&&(this.m=4,Rt(14),u=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Dt){this.m=4,Rt(15),va(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else va(this.i,this.l,yt,null),Ea(this,yt);if(Fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||x.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)va(this.i,this.l,x,"[Invalid Chunked Response]"),Tn(this),zn(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),_l(oe),oe.P=!0,Rt(11))}}else va(this.i,this.l,x,null),Ea(this,x);Ie==4&&Tn(this),this.o&&!this.K&&(Ie==4?tu(this.j,this):(this.o=!1,xa(this)))}else Ya(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Tn(this),zn(this)}}}catch{}finally{}};function pd(u){if(!Fo(u))return u.g.la();const g=$t(u.g);if(g==="")return"";let x="";const w=g.length,P=ia(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),zn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<w;F++)u.h.h=!0,x+=u.h.i.decode(g[F],{stream:!(P&&F==w-1)});return g.length=0,u.h.g+=x,u.C=0,u.h.g}function Fo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qo(u,g){var x=u.C,w=g.indexOf(`
`,x);return w==-1?Gt:(x=Number(g.substring(x,w)),isNaN(x)?Dt:(w+=1,w+x>g.length?Gt:(g=g.slice(w,w+x),u.C=w+x,g)))}na.prototype.cancel=function(){this.K=!0,Tn(this)};function xa(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ya(v(u.aa,u),g)}function _a(u){u.D&&(f.clearTimeout(u.D),u.D=null)}na.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ga(),Rt(17)),Tn(this),this.m=2,zn(this)):Jr(this,this.T-u)};function zn(u){u.j.I==0||u.K||tu(u.j,u)}function Tn(u){_a(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,hr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Ea(u,g){try{var x=u.j;if(x.I!=0&&(x.g==u||wa(x.h,u))){if(!u.L&&wa(x.h,u)&&x.I==3){try{var w=x.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)ii(x),As(x);else break e;wr(x),Rt(18)}}else x.xa=P[1],0<x.xa-x.K&&P[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ya(v(x.Va,x),6e3));Ta(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ra(x,11)}else if((u.L||x.g==u)&&ii(x),!C(g))for(P=x.Ba.g.parse(g),g=0;g<P.length;g++){let Je=P[g];const yt=Je[0];if(!(yt<=x.K))if(x.K=yt,Je=Je[1],x.I==2)if(Je[0]=="c"){x.M=Je[1],x.ba=Je[2];const Pn=Je[3];Pn!=null&&(x.ka=Pn,x.j.info("VER="+x.ka));const Da=Je[4];Da!=null&&(x.za=Da,x.j.info("SVER="+x.za));const la=Je[5];la!=null&&typeof la=="number"&&la>0&&(w=1.5*la,x.O=w,x.j.info("backChannelRequestTimeoutMs_="+w)),w=x;const oa=u.g;if(oa){const Sr=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var F=w.h;F.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ul(F,F.h),F.h=null))}if(w.G){const li=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;li&&(w.wa=li,nt(w.J,w.G,li))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),w=x;var oe=u;if(w.na=su(w,w.L?w.ba:null,w.W),oe.L){cl(w.h,oe);var Ie=oe,At=w.O;At&&(Ie.H=At),Ie.D&&(_a(Ie),xa(Ie)),w.g=oe}else Wo(w);x.i.length>0&&Ca(x)}else Je[0]!="stop"&&Je[0]!="close"||Ra(x,7);else x.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ra(x,7):bl(x):Je[0]!="noop"&&x.l&&x.l.qa(Je),x.A=0)}}ga(4)}catch{}}var It=class{constructor(u,g){this.g=u,this.map=g}};function ll(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ta(u){return u.h?1:u.g?u.g.size:0}function wa(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ul(u,g){u.g?u.g.add(g):u.h=g}function cl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.G);return g}return z(u.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,g){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const w=u[x].indexOf("=");let P,F=null;w>=0?(P=u[x].substring(0,w),F=u[x].substring(w+1)):P=u[x],g(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof wn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,hl(this,Zo(u.i)),this.m=u.m):u&&(g=String(u).match(Yo))?(this.l=!1,Ft(this,g[1]||"",!0),this.o=Sa(g[2]||""),this.g=Sa(g[3]||"",!0),bs(this,g[4]),this.h=Sa(g[5]||"",!0),hl(this,g[6]||"",!0),this.m=Sa(g[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}wn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(vr(g,ei,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(vr(g,ei,!0),"@"),u.push(Fa(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(vr(x,x.charAt(0)=="/"?fl:Ko,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",vr(x,Xo)),u.join("")},wn.prototype.resolve=function(u){const g=jt(this);let x=!!u.j;x?Ft(g,u.j):x=!!u.o,x?g.o=u.o:x=!!u.g,x?g.g=u.g:x=u.u!=null;var w=u.h;if(x)bs(g,u.u);else if(x=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=g.h.lastIndexOf("/");P!=-1&&(w=g.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let oe=0;oe<P.length;){const Ie=P[oe++];Ie=="."?w&&oe==P.length&&F.push(""):Ie==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&oe==P.length&&F.push("")):(F.push(Ie),w=!0)}w=F.join("/")}else w=P}return x?g.h=w:x=u.i.toString()!=="",x?hl(g,Zo(u.i)):x=!!u.m,x&&(g.m=u.m),g};function jt(u){return new wn(u)}function Ft(u,g,x){u.j=x?Sa(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function hl(u,g,x){g instanceof _s?(u.i=g,ni(u.i,u.l)):(x||(g=vr(g,xs)),u.i=new _s(g,u.l))}function nt(u,g,x){u.i.set(g,x)}function yr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Sa(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,hn),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ei=/[#\/\?@]/g,Ko=/[#\?:]/g,fl=/[#\?]/g,xs=/[#\?@]/g,Xo=/#/g;function _s(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}s=_s.prototype,s.add=function(u,g){fn(this),this.i=null,u=Es(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function $o(u,g){fn(u),g=Es(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ml(u,g){return fn(u),g=Es(u,g),u.g.has(g)}s.forEach=function(u,g){fn(this),this.g.forEach(function(x,w){x.forEach(function(P){u.call(g,P,w,this)},this)},this)};function gl(u,g){fn(u);let x=[];if(typeof g=="string")ml(u,g)&&(x=x.concat(u.g.get(Es(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)x=x.concat(u[g]);return x}s.set=function(u,g){return fn(this),this.i=null,u=Es(this,u),ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=gl(this,u),u.length>0?String(u[0]):g):g};function ti(u,g,x){$o(u,g),x.length>0&&(u.i=null,u.g.set(Es(u,g),z(x)),u.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var x=g[w];const P=Fa(x);x=gl(this,x);for(let F=0;F<x.length;F++){let oe=P;x[F]!==""&&(oe+="="+Fa(x[F])),u.push(oe)}}return this.i=u.join("&")};function Zo(u){const g=new _s;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Es(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ni(u,g){g&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(x,w){const P=w.toLowerCase();w!=P&&($o(this,w),ti(this,P,x))},u)),u.j=g}function sa(u,g){const x=new ta;if(f.Image){const w=new Image;w.onload=_(Ln,x,"TestLoadImage: loaded",!0,g,w),w.onerror=_(Ln,x,"TestLoadImage: error",!1,g,w),w.onabort=_(Ln,x,"TestLoadImage: abort",!1,g,w),w.ontimeout=_(Ln,x,"TestLoadImage: timeout",!1,g,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function pl(u,g){const x=new ta,w=new AbortController,P=setTimeout(()=>{w.abort(),Ln(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(P),F.ok?Ln(x,"TestPingServer: ok",!0,g):Ln(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Ln(x,"TestPingServer: error",!1,g)})}function Ln(u,g,x,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(x)}catch{}}function Ts(){this.g=new Ga}function Aa(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Aa,Uo),Aa.prototype.g=function(){return new br(this.i,this.h)};function br(u,g){me.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(br,me),s=br.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,ra(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ai(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ai(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ws(this):ra(this),this.readyState==3&&ai(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ra(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function ra(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let g="";return Oe(u,function(x,w){g+=w,g+=":",g+=x,g+=`\r
`}),g}function xr(u,g,x){e:{for(w in x){var w=!1;break e}w=!0}w||(x=Un(x),typeof u=="string"?x!=null&&Fa(x):nt(u,g,x))}function lt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(lt,me);var Na=/^https?$/i,yl=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,x,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=S(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){_r(this,F);return}if(u=x||"",x=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)x.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())x.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(x.keys()).find(F=>F.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(yl,g,void 0)>=0)||w||P||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,oe]of x)this.g.setRequestHeader(F,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){_r(this,F)}};function _r(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,vl(u),Qa(u)}function vl(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ae(this,"complete"),Ae(this,"abort"),Qa(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&ia(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ae(u,"readystatechange"),ia(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var w;if(w=F===0){let oe=String(u.D).match(Yo)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),w=!Na.test(oe?oe.toLowerCase():"")}x=w}if(x)Ae(u,"complete"),Ae(u,"success");else{u.o=6;try{var P=ia(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",vl(u)}}finally{Qa(u)}}}}function Qa(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,g||Ae(u,"ready");try{x.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ia(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ia(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Kt(g)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(u){const g={};u=(u.g&&ia(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(C(u[w]))continue;var x=Go(u[w]);const P=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const F=g[P]||[];g[P]=F,F.push(x)}Ge(g,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function Ss(u){this.za=0,this.i=[],this.j=new ta,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,u),this.Za=ka("retryDelaySeedMs",1e4,u),this.Ta=ka("forwardChannelMaxRetries",2,u),this.va=ka("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,g,x,w){Rt(0),this.W=u,this.H=g||{},x&&w!==void 0&&(this.H.OSID=x,this.H.OAID=w),this.F=this.X,this.J=su(this,null,this.W),Ca(this)};function bl(u){if(si(u),u.I==3){var g=u.V++,x=jt(u.J);if(nt(x,"SID",u.M),nt(x,"RID",g),nt(x,"TYPE","terminate"),Tr(u,x),g=new na(u,u.j,g),g.M=2,g.A=yr(jt(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=g.A,x=!0),x||(g.g=ru(g.j,null),g.g.ea(g.A)),g.F=Date.now(),xa(g)}au(u)}function As(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function si(u){As(u),u.v&&(f.clearTimeout(u.v),u.v=null),ii(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ca(u){if(!ol(u.h)&&!u.m){u.m=!0;var g=u.Ea;ce||A(),be||(ce(),be=!0),N.add(g,u),u.D=0}}function ri(u,g){return Ta(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ya(v(u.Ea,u,g),nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new na(this,this.j,u);let F=this.o;if(this.U&&(F?(F=j(F),ue(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var w=this.i[x];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=Jo(this,P,g),x=jt(this.J),nt(x,"RID",u),nt(x,"CVER",22),this.G&&nt(x,"X-HTTP-Session-Id",this.G),Tr(this,x),F&&(this.R?g="headers="+Fa(Un(F))+"&"+g:this.u&&xr(x,this.u,F)),ul(this.h,P),this.Ra&&nt(x,"TYPE","init"),this.S?(nt(x,"$req",g),nt(x,"SID","null"),P.U=!0,ba(P,x,null)):ba(P,x,g),this.I=2}}else this.I==3&&(u?xl(this,u):this.i.length==0||ol(this.h)||xl(this))};function xl(u,g){var x;g?x=g.l:x=u.V++;const w=jt(u.J);nt(w,"SID",u.M),nt(w,"RID",x),nt(w,"AID",u.K),Tr(u,w),u.u&&u.o&&xr(w,u.u,u.o),x=new na(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Jo(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ul(u.h,x),ba(x,w,g)}function Tr(u,g){u.H&&Oe(u.H,function(x,w){nt(g,w,x)}),u.l&&Oe({},function(x,w){nt(g,w,x)})}function Jo(u,g,x){x=Math.min(u.i.length,x);const w=u.l?v(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ie=-1;for(;;){const At=["count="+x];Ie==-1?x>0?(Ie=P[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Je=!0;for(let yt=0;yt<x;yt++){var F=P[yt].g;const Pn=P[yt].map;if(F-=Ie,F<0)Ie=Math.max(0,P[yt].g-100),Je=!1;else try{F="req"+F+"_"||"";try{var oe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Da,la]of oe){let oa=la;y(la)&&(oa=Vn(la)),At.push(F+Da+"="+encodeURIComponent(oa))}}catch(Da){throw At.push(F+"type="+encodeURIComponent("_badmap")),Da}}catch{w&&w(Pn)}}if(Je){oe=At.join("&");break e}}oe=void 0}return u=u.i.splice(0,x),g.G=u,oe}function Wo(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;ce||A(),be||(ce(),be=!0),N.add(g,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ya(v(u.Da,u),nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ya(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),As(this),eu(this))};function _l(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function eu(u){u.g=new na(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=jt(u.na);nt(g,"RID","rpc"),nt(g,"SID",u.M),nt(g,"AID",u.K),nt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(g,"TO",u.ia),nt(g,"TYPE","xmlhttp"),Tr(u,g),u.u&&u.o&&xr(g,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=yr(jt(g)),x.u=null,x.R=!0,Zr(x,u)}s.Va=function(){this.C!=null&&(this.C=null,As(this),wr(this),Rt(19))};function ii(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function tu(u,g){var x=null;if(u.g==g){ii(u),_l(u),u.g=null;var w=2}else if(wa(u.h,g))x=g.G,cl(u.h,g),w=1;else return;if(u.I!=0){if(g.o)if(w==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var P=u.D;w=$r(),Ae(w,new pa(w,x)),Ca(u)}else Wo(u);else if(P=g.m,P==3||P==0&&g.X>0||!(w==1&&ri(u,g)||w==2&&wr(u)))switch(x&&x.length>0&&(g=u.h,g.i=g.i.concat(x)),P){case 1:Ra(u,5);break;case 4:Ra(u,10);break;case 3:Ra(u,6);break;default:Ra(u,2)}}}function nu(u,g){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*g}function Ra(u,g){if(u.j.info("Error code "+g),g==2){var x=v(u.bb,u),w=u.Ua;const P=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ft(w,"https"),yr(w),P?sa(w.toString(),x):pl(w.toString(),x)}else Rt(2);u.I=0,u.l&&u.l.pa(g),au(u),si(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function au(u){if(u.I=0,u.ja=[],u.l){const g=dl(u.h);(g.length!=0||u.i.length!=0)&&(Y(u.ja,g),Y(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function su(u,g,x){var w=x instanceof wn?jt(x):new wn(x);if(w.g!="")g&&(w.g=g+"."+w.g),bs(w,w.u);else{var P=f.location;w=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const F=new wn(null);w&&Ft(F,w),g&&(F.g=g),P&&bs(F,P),x&&(F.h=x),w=F}return x=u.G,g=u.wa,x&&g&&nt(w,x,g),nt(w,"VER",u.ka),Tr(u,w),w}function ru(u,g,x){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new lt(new Aa({ab:x})):new lt(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}s=iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,g){return new un(u,g)};function un(u,g){me.call(this),this.g=new Ss(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!C(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ka(this)}T(un,me),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){bl(this.g)},un.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Vn(u),u=x);g.i.push(new It(g.Ya++,u)),g.I==3&&Ca(g)},un.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,un.Z.N.call(this)};function lu(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(lu,Xt);function ou(){On.call(this),this.status=1}T(ou,On);function Ka(u){this.g=u}T(Ka,iu),Ka.prototype.ra=function(){Ae(this.g,"a")},Ka.prototype.qa=function(u){Ae(this.g,new lu(u))},Ka.prototype.pa=function(u){Ae(this.g,new ou)},Ka.prototype.oa=function(){Ae(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,jb=function(){return new Ns},Ib=function(){return $r()},Db=St,Uf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,wc=gr,rl.COMPLETE="complete",Rb=rl,Po.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",me.prototype.listen=me.prototype.J,lo=Po,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Cb=lt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Qy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Eb("@firebase/firestore");function zi(){return Gr.logLevel}function fe(s,...t){if(Gr.logLevel<=Ke.DEBUG){const a=t.map(pm);Gr.debug(`Firestore (${el}): ${s}`,...a)}}function ps(s,...t){if(Gr.logLevel<=Ke.ERROR){const a=t.map(pm);Gr.error(`Firestore (${el}): ${s}`,...a)}}function Qi(s,...t){if(Gr.logLevel<=Ke.WARN){const a=t.map(pm);Gr.warn(`Firestore (${el}): ${s}`,...a)}}function pm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,Mb(s,i,a)}function Mb(s,t,a){let i=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(a!==void 0)try{i+=" CONTEXT: "+JSON.stringify(a)}catch{i+=" CONTEXT: "+a}throw ps(i),new Error(i)}function et(s,t,a,i){let o="Unexpected state";typeof a=="string"?o=a:i=a,s||Mb(t,o,i)}function De(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Wi{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(ln.UNAUTHENTICATED)))}shutdown(){}}class jS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class MS{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){et(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,a(p)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),f()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((i=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new Vb(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return et(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class VS{constructor(t,a,i){this.P=t,this.T=a,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OS{constructor(t,a,i){this.P=t,this.T=a,this.I=i}getToken(){return Promise.resolve(new VS(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zS{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){et(this.o===void 0,3512);const i=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?a(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>i(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(et(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Yy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let i=0;i<s;i++)a[i]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=LS(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<a&&(i+=t.charAt(o[c]%62))}return i}}function qe(s,t){return s<t?-1:s>t?1:0}function Pf(s,t){const a=Math.min(s.length,t.length);for(let i=0;i<a;i++){const o=s.charAt(i),c=t.charAt(i);if(o!==c)return Tf(o)===Tf(c)?qe(o,c):Tf(o)?1:-1}return qe(s.length,t.length)}const US=55296,PS=57343;function Tf(s){const t=s.charCodeAt(0);return t>=US&&t<=PS}function Yi(s,t,a){return s.length===t.length&&s.every(((i,o)=>a(i,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class Oa{constructor(t,a,i){a===void 0?a=0:a>t.length&&Se(637,{offset:a,range:t.length}),i===void 0?i=t.length-a:i>t.length-a&&Se(1746,{length:i,range:t.length-a}),this.segments=t,this.offset=a,this.len=i}get length(){return this.len}isEqual(t){return Oa.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Oa?t.forEach((i=>{a.push(i)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,i=this.limit();a<i;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const i=Math.min(t.length,a.length);for(let o=0;o<i;o++){const c=Oa.compareSegments(t.get(o),a.get(o));if(c!==0)return c}return qe(t.length,a.length)}static compareSegments(t,a){const i=Oa.isNumericId(t),o=Oa.isNumericId(a);return i&&!o?-1:!i&&o?1:i&&o?Oa.extractNumericId(t).compare(Oa.extractNumericId(a)):Pf(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class ft extends Oa{construct(t,a,i){return new ft(t,a,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const i of t){if(i.indexOf("//")>=0)throw new he(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);a.push(...i.split("/").filter((o=>o.length>0)))}return new ft(a)}static emptyPath(){return new ft([])}}const BS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Oa{construct(t,a,i){return new nn(t,a,i)}static isValidIdentifier(t){return BS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new nn([Ky])}static fromServerFormat(t){const a=[];let i="",o=0;const c=()=>{if(i.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(i),i=""};let f=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new he(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(i+=y,o++):(c(),o++)}if(c(),f)throw new he(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(a)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(ft.fromString(t))}static fromName(t){return new Ee(ft.fromString(t).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ft.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return ft.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new ft(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,t,a){if(!a)throw new he(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qS(s,t,a,i){if(t===!0&&i===!0)throw new he(se.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function Xy(s){if(!Ee.isDocumentKey(s))throw new he(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $y(s){if(Ee.isDocumentKey(s))throw new he(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function zb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function Fr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new he(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Jc(s);throw new he(se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(s,t){const a={typeString:s};return t&&(a.value=t),a}function Do(s,t){if(!zb(s))throw new he(se.INVALID_ARGUMENT,"JSON must be an object");let a;for(const i in t)if(t[i]){const o=t[i].typeString,c="value"in t[i]?{value:t[i].value}:void 0;if(!(i in s)){a=`JSON missing required field: '${i}'`;break}const f=s[i];if(o&&typeof f!==o){a=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){a=`Expected '${i}' field to equal '${c.value}'`;break}}if(a)throw new he(se.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,Jy=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(t){return pt.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),i=Math.floor((t-1e3*a)*Jy);return new pt(a,i)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<Zy)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Do(t,pt._jsonSchema))return new pt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Pt("string",pt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(t){return new ke(t)}static min(){return new ke(new pt(0,0))}static max(){return new ke(new pt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=-1;function HS(s,t){const a=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new pt(a+1,0):new pt(a,i));return new ar(o,Ee.empty(),t)}function GS(s){return new ar(s.readTime,s.key,Eo)}class ar{constructor(t,a,i){this.readTime=t,this.documentKey=a,this.largestBatchId=i}static min(){return new ar(ke.min(),Ee.empty(),Eo)}static max(){return new ar(ke.max(),Ee.empty(),Eo)}}function FS(s,t){let a=s.readTime.compareTo(t.readTime);return a!==0?a:(a=Ee.comparator(s.documentKey,t.documentKey),a!==0?a:qe(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==QS)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new re(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(a,c).next(i,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof re?a:re.resolve(a)}catch(a){return re.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):re.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):re.reject(a)}static resolve(t){return new re(((a,i)=>{a(t)}))}static reject(t){return new re(((a,i)=>{i(t)}))}static waitFor(t){return new re(((a,i)=>{let o=0,c=0,f=!1;t.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&a()}),(p=>i(p)))})),f=!0,c===o&&a()}))}static or(t){let a=re.resolve(!1);for(const i of t)a=a.next((o=>o?re.resolve(o):i()));return a}static forEach(t,a){const i=[];return t.forEach(((o,c)=>{i.push(a.call(this,o,c))})),this.waitFor(i)}static mapArray(t,a){return new re(((i,o)=>{const c=t.length,f=new Array(c);let y=0;for(let p=0;p<c;p++){const v=p;a(t[v]).next((_=>{f[v]=_,++y,y===c&&i(f)}),(_=>o(_)))}}))}static doWhile(t,a){return new re(((i,o)=>{const c=()=>{t()===!0?a().next((()=>{c()}),o):i()};c()}))}}function KS(s){const t=s.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function nl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>a.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Wc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function ed(s){return s==null}function Lc(s){return s===0&&1/s==-1/0}function XS(s){return typeof s=="number"&&Number.isInteger(s)&&!Lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="";function $S(s){let t="";for(let a=0;a<s.length;a++)t.length>0&&(t=Wy(t)),t=ZS(s.get(a),t);return Wy(t)}function ZS(s,t){let a=t;const i=s.length;for(let o=0;o<i;o++){const c=s.charAt(o);switch(c){case"\0":a+="";break;case Lb:a+="";break;default:a+=c}}return a}function Wy(s){return s+Lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){let t=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&t++;return t}function cr(s,t){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&t(a,s[a])}function Ub(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t,a){this.comparator=t,this.root=a||tn.EMPTY}insert(t,a){return new _t(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new _t(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const i=this.comparator(t,a.key);if(i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}indexOf(t){let a=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return a+i.left.size;o<0?i=i.left:(a+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,i)=>(t(a,i),!1)))}toString(){const t=[];return this.inorderTraversal(((a,i)=>(t.push(`${a}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mc(this.root,t,this.comparator,!0)}}class mc{constructor(t,a,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=a?i(t.key,a):1,a&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,a,i,o,c){this.key=t,this.value=a,this.color=i??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,i,o,c){return new tn(t??this.key,a??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,i){let o=this;const c=i(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,a,i),null):c===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let i,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Se(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,a,i,o,c){return this}insert(t,a,i){return new tn(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new _t(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,i)=>(t(a),!1)))}forEachInRange(t,a){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let i;for(i=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(t){return new tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((i=>{a=a.add(i)})),a}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const a=this.data.getIterator(),i=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Ht(this.comparator);return a.data=t,a}}class tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new In([])}unionWith(t){let a=new Ht(nn.comparator);for(const i of this.fields)a=a.add(i);for(const i of t)a=a.add(i);return new In(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Yi(this.fields,t.fields,((a,i)=>a.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Pb("Invalid base64 string: "+c):c}})(t);return new an(a)}static fromUint8Array(t){const a=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(t);return new an(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const i=new Uint8Array(a.length);for(let o=0;o<a.length;o++)i[o]=a.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const JS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(et(!!s,39018),typeof s=="string"){let t=0;const a=JS.exec(s);if(et(!!a,46558,{timestamp:s}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="server_timestamp",qb="__type__",Hb="__previous_value__",Gb="__local_write_time__";function bm(s){var a,i;return((i=(((a=s==null?void 0:s.mapValue)==null?void 0:a.fields)||{})[qb])==null?void 0:i.stringValue)===Bb}function td(s){const t=s.mapValue.fields[Hb];return bm(t)?td(t):t}function To(s){const t=sr(s.mapValue.fields[Gb].timestampValue);return new pt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,a,i,o,c,f,y,p,v,_){this.databaseId=t,this.appId=a,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=_}}const Uc="(default)";class wo{constructor(t,a){this.projectId=t,this.database=a||Uc}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(t){return t instanceof wo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="__type__",eA="__max__",gc={mapValue:{}},Qb="__vector__",Pc="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?bm(s)?4:nA(s)?9007199254740991:tA(s)?10:11:Se(28295,{value:s})}function qa(s,t){if(s===t)return!0;const a=ir(s);if(a!==ir(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return To(s).isEqual(To(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=sr(o.timestampValue),y=sr(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return rr(o.bytesValue).isEqual(rr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ct(o.doubleValue),y=Ct(c.doubleValue);return f===y?Lc(f)===Lc(y):isNaN(f)&&isNaN(y)}return!1})(s,t);case 9:return Yi(s.arrayValue.values||[],t.arrayValue.values||[],qa);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(ev(f)!==ev(y))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(y[p]===void 0||!qa(f[p],y[p])))return!1;return!0})(s,t);default:return Se(52216,{left:s})}}function So(s,t){return(s.values||[]).find((a=>qa(a,t)))!==void 0}function Ki(s,t){if(s===t)return 0;const a=ir(s),i=ir(t);if(a!==i)return qe(a,i);switch(a){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,t.booleanValue);case 2:return(function(c,f){const y=Ct(c.integerValue||c.doubleValue),p=Ct(f.integerValue||f.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,t);case 3:return nv(s.timestampValue,t.timestampValue);case 4:return nv(To(s),To(t));case 5:return Pf(s.stringValue,t.stringValue);case 6:return(function(c,f){const y=rr(c),p=rr(f);return y.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,f){const y=c.split("/"),p=f.split("/");for(let v=0;v<y.length&&v<p.length;v++){const _=qe(y[v],p[v]);if(_!==0)return _}return qe(y.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,f){const y=qe(Ct(c.latitude),Ct(f.latitude));return y!==0?y:qe(Ct(c.longitude),Ct(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return av(s.arrayValue,t.arrayValue);case 10:return(function(c,f){var S,z,Y,$;const y=c.fields||{},p=f.fields||{},v=(S=y[Pc])==null?void 0:S.arrayValue,_=(z=p[Pc])==null?void 0:z.arrayValue,T=qe(((Y=v==null?void 0:v.values)==null?void 0:Y.length)||0,(($=_==null?void 0:_.values)==null?void 0:$.length)||0);return T!==0?T:av(v,_)})(s.mapValue,t.mapValue);case 11:return(function(c,f){if(c===gc.mapValue&&f===gc.mapValue)return 0;if(c===gc.mapValue)return 1;if(f===gc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),v=f.fields||{},_=Object.keys(v);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=Pf(p[T],_[T]);if(S!==0)return S;const z=Ki(y[p[T]],v[_[T]]);if(z!==0)return z}return qe(p.length,_.length)})(s.mapValue,t.mapValue);default:throw Se(23264,{he:a})}}function nv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qe(s,t);const a=sr(s),i=sr(t),o=qe(a.seconds,i.seconds);return o!==0?o:qe(a.nanos,i.nanos)}function av(s,t){const a=s.values||[],i=t.values||[];for(let o=0;o<a.length&&o<i.length;++o){const c=Ki(a[o],i[o]);if(c)return c}return qe(a.length,i.length)}function Xi(s){return Bf(s)}function Bf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const i=sr(a);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return rr(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return Ee.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let i="[",o=!0;for(const c of a.values||[])o?o=!1:i+=",",i+=Bf(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(a){const i=Object.keys(a.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${Bf(a.fields[f])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function Sc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=td(s);return t?16+Sc(t):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Sc(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let o=0;return cr(i.fields,((c,f)=>{o+=c.length+Sc(f)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function sv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function qf(s){return!!s&&"integerValue"in s}function xm(s){return!!s&&"arrayValue"in s}function rv(s){return!!s&&"nullValue"in s}function iv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ac(s){return!!s&&"mapValue"in s}function tA(s){var a,i;return((i=(((a=s==null?void 0:s.mapValue)==null?void 0:a.fields)||{})[Fb])==null?void 0:i.stringValue)===Qb}function mo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((a,i)=>t.mapValue.fields[a]=mo(i))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=mo(s.arrayValue.values[a]);return t}return{...s}}function nA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let i=0;i<t.length-1;++i)if(a=(a.mapValue.fields||{})[t.get(i)],!Ac(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(a)}setAll(t){let a=nn.emptyPath(),i={},o=[];t.forEach(((f,y)=>{if(!a.isImmediateParentOf(y)){const p=this.getFieldsMap(a);this.applyChanges(p,i,o),i={},o=[],a=y.popLast()}f?i[y.lastSegment()]=mo(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(a);this.applyChanges(c,i,o)}delete(t){const a=this.field(t.popLast());Ac(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return qa(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=a.mapValue.fields[t.get(i)];Ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(i)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,i){cr(a,((o,c)=>t[o]=c));for(const o of i)delete t[o]}clone(){return new _n(mo(this.value))}}function Yb(s){const t=[];return cr(s.fields,((a,i)=>{const o=new nn([a]);if(Ac(i)){const c=Yb(i.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,a,i,o,c,f,y){this.key=t,this.documentType=a,this.version=i,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(t){return new on(t,0,ke.min(),ke.min(),ke.min(),_n.empty(),0)}static newFoundDocument(t,a,i,o){return new on(t,1,a,ke.min(),i,o,0)}static newNoDocument(t,a){return new on(t,2,a,ke.min(),ke.min(),_n.empty(),0)}static newUnknownDocument(t,a){return new on(t,3,a,ke.min(),ke.min(),_n.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,a){this.position=t,this.inclusive=a}}function lv(s,t,a){let i=0;for(let o=0;o<s.position.length;o++){const c=t[o],f=s.position[o];if(c.field.isKeyField()?i=Ee.comparator(Ee.fromName(f.referenceValue),a.key):i=Ki(f,a.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function ov(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!qa(s.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,a="asc"){this.field=t,this.dir=a}}function aA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Ut extends Kb{constructor(t,a,i){super(),this.field=t,this.op=a,this.value=i}static create(t,a,i){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,i):new rA(t,a,i):a==="array-contains"?new oA(t,i):a==="in"?new uA(t,i):a==="not-in"?new cA(t,i):a==="array-contains-any"?new dA(t,i):new Ut(t,a,i)}static createKeyFieldInFilter(t,a,i){return a==="in"?new iA(t,i):new lA(t,i)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Ki(a,this.value)):a!==null&&ir(this.value)===ir(a)&&this.matchesComparison(Ki(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends Kb{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new fa(t,a)}matches(t){return Xb(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xb(s){return s.op==="and"}function $b(s){return sA(s)&&Xb(s)}function sA(s){for(const t of s.filters)if(t instanceof fa)return!1;return!0}function Hf(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+Xi(s.value);if($b(s))return s.filters.map((t=>Hf(t))).join(",");{const t=s.filters.map((a=>Hf(a))).join(",");return`${s.op}(${t})`}}function Zb(s,t){return s instanceof Ut?(function(i,o){return o instanceof Ut&&i.op===o.op&&i.field.isEqual(o.field)&&qa(i.value,o.value)})(s,t):s instanceof fa?(function(i,o){return o instanceof fa&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,f,y)=>c&&Zb(f,o.filters[y])),!0):!1})(s,t):void Se(19439)}function Jb(s){return s instanceof Ut?(function(a){return`${a.field.canonicalString()} ${a.op} ${Xi(a.value)}`})(s):s instanceof fa?(function(a){return a.op.toString()+" {"+a.getFilters().map(Jb).join(" ,")+"}"})(s):"Filter"}class rA extends Ut{constructor(t,a,i){super(t,a,i),this.key=Ee.fromName(i.referenceValue)}matches(t){const a=Ee.comparator(t.key,this.key);return this.matchesComparison(a)}}class iA extends Ut{constructor(t,a){super(t,"in",a),this.keys=Wb("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class lA extends Ut{constructor(t,a){super(t,"not-in",a),this.keys=Wb("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function Wb(s,t){var a;return(((a=t.arrayValue)==null?void 0:a.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class oA extends Ut{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return xm(a)&&So(a.arrayValue,this.value)}}class uA extends Ut{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&So(this.value.arrayValue,a)}}class cA extends Ut{constructor(t,a){super(t,"not-in",a)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!So(this.value.arrayValue,a)}}class dA extends Ut{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!xm(a)||!a.arrayValue.values)&&a.arrayValue.values.some((i=>So(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,a=null,i=[],o=[],c=null,f=null,y=null){this.path=t,this.collectionGroup=a,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function uv(s,t=null,a=[],i=[],o=null,c=null,f=null){return new hA(s,t,a,i,o,c,f)}function _m(s){const t=De(s);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((i=>Hf(i))).join(","),a+="|ob:",a+=t.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),ed(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((i=>Xi(i))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((i=>Xi(i))).join(",")),t.Te=a}return t.Te}function Em(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!aA(s.orderBy[a],t.orderBy[a]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!Zb(s.filters[a],t.filters[a]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!ov(s.startAt,t.startAt)&&ov(s.endAt,t.endAt)}function Gf(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,a=null,i=[],o=[],c=null,f="F",y=null,p=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fA(s,t,a,i,o,c,f,y){return new Io(s,t,a,i,o,c,f,y)}function e1(s){return new Io(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function t1(s){return s.collectionGroup!==null}function go(s){const t=De(s);if(t.Ie===null){t.Ie=[];const a=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),a.add(c.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new Ht(nn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(t).forEach((c=>{a.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new qc(c,i))})),a.has(nn.keyField().canonicalString())||t.Ie.push(new qc(nn.keyField(),i))}return t.Ie}function La(s){const t=De(s);return t.Ee||(t.Ee=mA(t,go(s))),t.Ee}function mA(s,t){if(s.limitType==="F")return uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new qc(o.field,c)}));const a=s.endAt?new Bc(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Bc(s.startAt.position,s.startAt.inclusive):null;return uv(s.path,s.collectionGroup,t,s.filters,s.limit,a,i)}}function Ff(s,t){const a=s.filters.concat([t]);return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),a,s.limit,s.limitType,s.startAt,s.endAt)}function Qf(s,t,a){return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,a,s.startAt,s.endAt)}function nd(s,t){return Em(La(s),La(t))&&s.limitType===t.limitType}function n1(s){return`${_m(La(s))}|lt:${s.limitType}`}function Li(s){return`Query(target=${(function(a){let i=a.path.canonicalString();return a.collectionGroup!==null&&(i+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(i+=`, filters: [${a.filters.map((o=>Jb(o))).join(", ")}]`),ed(a.limit)||(i+=", limit: "+a.limit),a.orderBy.length>0&&(i+=`, orderBy: [${a.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),a.startAt&&(i+=", startAt: ",i+=a.startAt.inclusive?"b:":"a:",i+=a.startAt.position.map((o=>Xi(o))).join(",")),a.endAt&&(i+=", endAt: ",i+=a.endAt.inclusive?"a:":"b:",i+=a.endAt.position.map((o=>Xi(o))).join(",")),`Target(${i})`})(La(s))}; limitType=${s.limitType})`}function ad(s,t){return t.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ee.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,t)&&(function(i,o){for(const c of go(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(i,o){return!(i.startAt&&!(function(f,y,p){const v=lv(f,y,p);return f.inclusive?v<=0:v<0})(i.startAt,go(i),o)||i.endAt&&!(function(f,y,p){const v=lv(f,y,p);return f.inclusive?v>=0:v>0})(i.endAt,go(i),o))})(s,t)}function gA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function a1(s){return(t,a)=>{let i=!1;for(const o of go(s)){const c=pA(o,t,a);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function pA(s,t,a){const i=s.field.isKeyField()?Ee.comparator(t.key,a.key):(function(c,f,y){const p=f.data.field(c),v=y.data.field(c);return p!==null&&v!==null?Ki(p,v):Se(42886)})(s.field,t,a);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),i=this.inner[a];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,a){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,a]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),i=this.inner[a];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[a]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((a,i)=>{for(const[o,c]of i)t(o,c)}))}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new _t(Ee.comparator);function ys(){return yA}const s1=new _t(Ee.comparator);function oo(...s){let t=s1;for(const a of s)t=t.insert(a.key,a);return t}function r1(s){let t=s1;return s.forEach(((a,i)=>t=t.insert(a,i.overlayedDocument))),t}function Hr(){return po()}function i1(){return po()}function po(){return new Kr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const vA=new _t(Ee.comparator),bA=new Ht(Ee.comparator);function He(...s){let t=bA;for(const a of s)t=t.add(a);return t}const xA=new Ht(qe);function _A(){return xA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function l1(s){return{integerValue:""+s}}function EA(s,t){return XS(t)?l1(t):Tm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function TA(s,t,a){return s instanceof Hc?(function(o,c){const f={fields:{[qb]:{stringValue:Bb},[Gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&bm(c)&&(c=td(c)),c&&(f.fields[Hb]=c),{mapValue:f}})(a,t):s instanceof Ao?u1(s,t):s instanceof No?c1(s,t):(function(o,c){const f=o1(o,c),y=dv(f)+dv(o.Ae);return qf(f)&&qf(o.Ae)?l1(y):Tm(o.serializer,y)})(s,t)}function wA(s,t,a){return s instanceof Ao?u1(s,t):s instanceof No?c1(s,t):a}function o1(s,t){return s instanceof Gc?(function(i){return qf(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(t)?t:{integerValue:0}:null}class Hc extends sd{}class Ao extends sd{constructor(t){super(),this.elements=t}}function u1(s,t){const a=d1(t);for(const i of s.elements)a.some((o=>qa(o,i)))||a.push(i);return{arrayValue:{values:a}}}class No extends sd{constructor(t){super(),this.elements=t}}function c1(s,t){let a=d1(t);for(const i of s.elements)a=a.filter((o=>!qa(o,i)));return{arrayValue:{values:a}}}class Gc extends sd{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function dv(s){return Ct(s.integerValue||s.doubleValue)}function d1(s){return xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SA(s,t){return s.field.isEqual(t.field)&&(function(i,o){return i instanceof Ao&&o instanceof Ao||i instanceof No&&o instanceof No?Yi(i.elements,o.elements,qa):i instanceof Gc&&o instanceof Gc?qa(i.Ae,o.Ae):i instanceof Hc&&o instanceof Hc})(s.transform,t.transform)}class AA{constructor(t,a){this.version=t,this.transformResults=a}}class ha{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new ha}static exists(t){return new ha(void 0,t)}static updateTime(t){return new ha(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class rd{}function h1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new wm(s.key,ha.none()):new jo(s.key,s.data,ha.none());{const a=s.data,i=_n.empty();let o=new Ht(nn.comparator);for(let c of t.fields)if(!o.has(c)){let f=a.field(c);f===null&&c.length>1&&(c=c.popLast(),f=a.field(c)),f===null?i.delete(c):i.set(c,f),o=o.add(c)}return new dr(s.key,i,new In(o.toArray()),ha.none())}}function NA(s,t,a){s instanceof jo?(function(o,c,f){const y=o.value.clone(),p=fv(o.fieldTransforms,c,f.transformResults);y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,a):s instanceof dr?(function(o,c,f){if(!Nc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=fv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(f1(o)),p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,a):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,a)}function yo(s,t,a,i){return s instanceof jo?(function(c,f,y,p){if(!Nc(c.precondition,f))return y;const v=c.value.clone(),_=mv(c.fieldTransforms,p,f);return v.setAll(_),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(s,t,a,i):s instanceof dr?(function(c,f,y,p){if(!Nc(c.precondition,f))return y;const v=mv(c.fieldTransforms,p,f),_=f.data;return _.setAll(f1(c)),_.setAll(v),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(s,t,a,i):(function(c,f,y){return Nc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(s,t,a)}function kA(s,t){let a=null;for(const i of s.fieldTransforms){const o=t.data.field(i.field),c=o1(i.transform,o||null);c!=null&&(a===null&&(a=_n.empty()),a.set(i.field,c))}return a||null}function hv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Yi(i,o,((c,f)=>SA(c,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class jo extends rd{constructor(t,a,i,o=[]){super(),this.key=t,this.value=a,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends rd{constructor(t,a,i,o,c=[]){super(),this.key=t,this.data=a,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function f1(s){const t=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const i=s.data.field(a);t.set(a,i)}})),t}function fv(s,t,a){const i=new Map;et(s.length===a.length,32656,{Re:a.length,Ve:s.length});for(let o=0;o<a.length;o++){const c=s[o],f=c.transform,y=t.data.field(c.field);i.set(c.field,wA(f,y,a[o]))}return i}function mv(s,t,a){const i=new Map;for(const o of s){const c=o.transform,f=a.data.field(o.field);i.set(o.field,TA(c,f,t))}return i}class wm extends rd{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends rd{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,a,i,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,a){const i=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&NA(c,t,i[o])}}applyToLocalView(t,a){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(a=yo(i,t,a,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(a=yo(i,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const i=i1();return this.mutations.forEach((o=>{const c=t.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=a.has(o.key)?null:y;const p=h1(f,y);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),He())}isEqual(t){return this.batchId===t.batchId&&Yi(this.mutations,t.mutations,((a,i)=>hv(a,i)))&&Yi(this.baseMutations,t.baseMutations,((a,i)=>hv(a,i)))}}class Sm{constructor(t,a,i,o){this.batch=t,this.commitVersion=a,this.mutationResults=i,this.docVersions=o}static from(t,a,i){et(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let o=(function(){return vA})();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,i[f].version);return new Sm(t,a,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Qe;function jA(s){switch(s){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function m1(s){if(s===void 0)return ps("GRPC error has no .code"),se.UNKNOWN;switch(s){case Lt.OK:return se.OK;case Lt.CANCELLED:return se.CANCELLED;case Lt.UNKNOWN:return se.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return se.INTERNAL;case Lt.UNAVAILABLE:return se.UNAVAILABLE;case Lt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Lt.NOT_FOUND:return se.NOT_FOUND;case Lt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Lt.ABORTED:return se.ABORTED;case Lt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Lt.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:s})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new er([4294967295,4294967295],0);function gv(s){const t=MA().encode(s),a=new kb;return a.update(t),new Uint8Array(a.digest())}function pv(s){const t=new DataView(s.buffer),a=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([a,i],0),new er([o,c],0)]}class Am{constructor(t,a,i){if(this.bitmap=t,this.padding=a,this.hashCount=i,a<0||a>=8)throw new uo(`Invalid padding: ${a}`);if(i<0)throw new uo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${i}`);if(t.length===0&&a!==0)throw new uo(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=er.fromNumber(this.ge)}ye(t,a,i){let o=t.add(a.multiply(er.fromNumber(i)));return o.compare(VA)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=gv(t),[i,o]=pv(a);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);if(!this.we(f))return!1}return!0}static create(t,a,i){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Am(c,o,a);return i.forEach((y=>f.insert(y))),f}insert(t){if(this.ge===0)return;const a=gv(t),[i,o]=pv(a);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);this.Se(f)}}Se(t){const a=Math.floor(t/8),i=t%8;this.bitmap[a]|=1<<i}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,a,i,o,c){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,a,i){const o=new Map;return o.set(t,Mo.createSynthesizedTargetChangeForCurrentChange(t,a,i)),new id(ke.min(),o,new _t(qe),ys(),He())}}class Mo{constructor(t,a,i,o,c){this.resumeToken=t,this.current=a,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,a,i){return new Mo(i,a,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,a,i,o){this.be=t,this.removedTargetIds=a,this.key=i,this.De=o}}class g1{constructor(t,a){this.targetId=t,this.Ce=a}}class p1{constructor(t,a,i=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=i,this.cause=o}}class yv{constructor(){this.ve=0,this.Fe=vv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=He(),a=He(),i=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:c})}})),new Mo(this.Me,this.xe,t,a,i)}qe(){this.Oe=!1,this.Fe=vv()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OA{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=pc(),this.He=pc(),this.Ye=new _t(qe)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const i=this.nt(a);switch(t.state){case 0:this.rt(a)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),i.Le(t.resumeToken));break;default:Se(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((i,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,i=t.Ce.count,o=this.ot(a);if(o){const c=o.target;if(Gf(c))if(i===0){const f=new Ee(c.path);this.et(a,f,on.newNoDocument(f,ke.min()))}else et(i===1,20013,{expectedCount:i});else{const f=this._t(a);if(f!==i){const y=this.ut(t),p=y?this.ct(y,t,f):1;if(p!==0){this.it(a);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,v)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=a;let f,y;try{f=rr(i).toUint8Array()}catch(p){if(p instanceof Pb)return Qi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Am(f,o,c)}catch(p){return Qi(p instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(t,a,i){return a.Ce.count===i-this.Pt(t,a.targetId)?0:2}Pt(t,a){const i=this.Ge.getRemoteKeysForTarget(a);let o=0;return i.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(a,c,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Gf(y.target)){const p=new Ee(y.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,on.newNoDocument(p,t))}c.Be&&(a.set(f,c.ke()),c.qe())}}));let i=He();this.He.forEach(((c,f)=>{let y=!0;f.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(i=i.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const o=new id(t,a,this.Ye,this.je,i);return this.je=ys(),this.Je=pc(),this.He=pc(),this.Ye=new _t(qe),o}Xe(t,a){if(!this.rt(t))return;const i=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,i),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,i){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),i&&(this.je=this.je.insert(a,i))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new yv,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Ht(qe),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Ht(qe),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||fe("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yv),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function pc(){return new _t(Ee.comparator)}function vv(){return new _t(Ee.comparator)}const zA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UA={and:"AND",or:"OR"};class PA{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Yf(s,t){return s.useProto3Json||ed(t)?t:{value:t}}function Fc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function y1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function BA(s,t){return Fc(s,t.toTimestamp())}function Ua(s){return et(!!s,49232),ke.fromTimestamp((function(a){const i=sr(a);return new pt(i.seconds,i.nanos)})(s))}function Nm(s,t){return Kf(s,t).canonicalString()}function Kf(s,t){const a=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?a:a.child(t)}function v1(s){const t=ft.fromString(s);return et(T1(t),10190,{key:t.toString()}),t}function Xf(s,t){return Nm(s.databaseId,t.path)}function wf(s,t){const a=v1(t);if(a.get(1)!==s.databaseId.projectId)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+s.databaseId.projectId);if(a.get(3)!==s.databaseId.database)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+s.databaseId.database);return new Ee(x1(a))}function b1(s,t){return Nm(s.databaseId,t)}function qA(s){const t=v1(s);return t.length===4?ft.emptyPath():x1(t)}function $f(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function x1(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function bv(s,t,a){return{name:Xf(s,t),fields:a.value.mapValue.fields}}function HA(s,t){let a;if("targetChange"in t){t.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,_){return v.useProto3Json?(et(_===void 0||typeof _=="string",58123),an.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),an.fromUint8Array(_||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,y=f&&(function(v){const _=v.code===void 0?se.UNKNOWN:m1(v.code);return new he(_,v.message||"")})(f);a=new p1(i,o,c,y||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=wf(s,i.document.name),c=Ua(i.document.updateTime),f=i.document.createTime?Ua(i.document.createTime):ke.min(),y=new _n({mapValue:{fields:i.document.fields}}),p=on.newFoundDocument(o,c,f,y),v=i.targetIds||[],_=i.removedTargetIds||[];a=new kc(v,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=wf(s,i.document),c=i.readTime?Ua(i.readTime):ke.min(),f=on.newNoDocument(o,c),y=i.removedTargetIds||[];a=new kc([],y,f.key,f)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=wf(s,i.document),c=i.removedTargetIds||[];a=new kc([],c,o,null)}else{if(!("filter"in t))return Se(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,f=new IA(o,c),y=i.targetId;a=new g1(y,f)}}return a}function GA(s,t){let a;if(t instanceof jo)a={update:bv(s,t.key,t.value)};else if(t instanceof wm)a={delete:Xf(s,t.key)};else if(t instanceof dr)a={update:bv(s,t.key,t.data),updateMask:WA(t.fieldMask)};else{if(!(t instanceof CA))return Se(16599,{Vt:t.type});a={verify:Xf(s,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((i=>(function(c,f){const y=f.transform;if(y instanceof Hc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof No)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Gc)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Se(20930,{transform:f.transform})})(0,i)))),t.precondition.isNone||(a.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,t.precondition)),a}function FA(s,t){return s&&s.length>0?(et(t!==void 0,14353),s.map((a=>(function(o,c){let f=o.updateTime?Ua(o.updateTime):Ua(c);return f.isEqual(ke.min())&&(f=Ua(c)),new AA(f,o.transformResults||[])})(a,t)))):[]}function QA(s,t){return{documents:[b1(s,t.path)]}}function YA(s,t){const a={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),a.structuredQuery.from=[{collectionId:i.lastSegment()}]),a.parent=b1(s,o);const c=(function(v){if(v.length!==0)return E1(fa.create(v,"and"))})(t.filters);c&&(a.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((_=>(function(S){return{field:Ui(S.field),direction:$A(S.dir)}})(_)))})(t.orderBy);f&&(a.structuredQuery.orderBy=f);const y=Yf(s,t.limit);return y!==null&&(a.structuredQuery.limit=y),t.startAt&&(a.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:a,parent:o}}function KA(s){let t=qA(s.parent);const a=s.structuredQuery,i=a.from?a.from.length:0;let o=null;if(i>0){et(i===1,65062);const _=a.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let c=[];a.where&&(c=(function(T){const S=_1(T);return S instanceof fa&&$b(S)?S.getFilters():[S]})(a.where));let f=[];a.orderBy&&(f=(function(T){return T.map((S=>(function(Y){return new qc(Pi(Y.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(S)))})(a.orderBy));let y=null;a.limit&&(y=(function(T){let S;return S=typeof T=="object"?T.value:T,ed(S)?null:S})(a.limit));let p=null;a.startAt&&(p=(function(T){const S=!!T.before,z=T.values||[];return new Bc(z,S)})(a.startAt));let v=null;return a.endAt&&(v=(function(T){const S=!T.before,z=T.values||[];return new Bc(z,S)})(a.endAt)),fA(t,o,f,c,y,"F",p,v)}function XA(s,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function _1(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const i=Pi(a.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Pi(a.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pi(a.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Pi(a.unaryFilter.field);return Ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(a){return Ut.create(Pi(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return fa.create(a.compositeFilter.filters.map((i=>_1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(a.compositeFilter.op))})(s):Se(30097,{filter:s})}function $A(s){return zA[s]}function ZA(s){return LA[s]}function JA(s){return UA[s]}function Ui(s){return{fieldPath:s.canonicalString()}}function Pi(s){return nn.fromServerFormat(s.fieldPath)}function E1(s){return s instanceof Ut?(function(a){if(a.op==="=="){if(iv(a.value))return{unaryFilter:{field:Ui(a.field),op:"IS_NAN"}};if(rv(a.value))return{unaryFilter:{field:Ui(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(iv(a.value))return{unaryFilter:{field:Ui(a.field),op:"IS_NOT_NAN"}};if(rv(a.value))return{unaryFilter:{field:Ui(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(a.field),op:ZA(a.op),value:a.value}}})(s):s instanceof fa?(function(a){const i=a.getFilters().map((o=>E1(o)));return i.length===1?i[0]:{compositeFilter:{op:JA(a.op),filters:i}}})(s):Se(54877,{filter:s})}function WA(s){const t=[];return s.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function T1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,a,i,o,c=ke.min(),f=ke.min(),y=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=a,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.yt=t}}function tN(s){const t=KA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Cn=new aN}addToCollectionParentIndex(t,a){return this.Cn.add(a),re.resolve()}getCollectionParents(t,a){return re.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return re.resolve()}deleteFieldIndex(t,a){return re.resolve()}deleteAllFieldIndexes(t){return re.resolve()}createTargetIndexes(t,a){return re.resolve()}getDocumentsMatchingTarget(t,a){return re.resolve(null)}getIndexType(t,a){return re.resolve(0)}getFieldIndexes(t,a){return re.resolve([])}getNextCollectionGroupToUpdate(t){return re.resolve(null)}getMinOffset(t,a){return re.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,a){return re.resolve(ar.min())}updateCollectionGroup(t,a,i){return re.resolve()}updateIndexEntries(t,a){return re.resolve()}}class aN{constructor(){this.index={}}add(t){const a=t.lastSegment(),i=t.popLast(),o=this.index[a]||new Ht(ft.comparator),c=!o.has(i);return this.index[a]=o.add(i),c}has(t){const a=t.lastSegment(),i=t.popLast(),o=this.index[a];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Ht(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(w1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $i(0)}static cr(){return new $i(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",sN=1048576;function Ev([s,t],[a,i]){const o=qe(s,a);return o===0?qe(t,i):o}class rN{constructor(t){this.Ir=t,this.buffer=new Ht(Ev),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const i=this.buffer.last();Ev(a,i)<0&&(this.buffer=this.buffer.delete(i).add(a))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(t,a,i){this.garbageCollector=t,this.asyncQueue=a,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){fe(_v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){nl(a)?fe(_v,"Ignoring IndexedDB error during garbage collection: ",a):await tl(a)}await this.Vr(3e5)}))}}class lN{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((i=>Math.floor(a/100*i)))}nthSequenceNumber(t,a){if(a===0)return re.resolve(Wc.ce);const i=new rN(a);return this.mr.forEachTarget(t,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(t,a,i){return this.mr.removeTargets(t,a,i)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(xv)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let i,o,c,f,y,p,v;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(i=T,y=Date.now(),this.removeTargets(t,i,a)))).next((T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((T=>(v=Date.now(),zi()<=Ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function oN(s,t){return new lN(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.changes=new Kr((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const i=this.changes.get(a);return i!==void 0?re.resolve(i):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,a,i,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,a){let i=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(i=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(i!==null&&yo(i.mutation,o,In.empty(),pt.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((i=>this.getLocalViewOfDocuments(t,i,He()).next((()=>i))))}getLocalViewOfDocuments(t,a,i=He()){const o=Hr();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,i).next((c=>{let f=oo();return c.forEach(((y,p)=>{f=f.insert(y,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,a){const i=Hr();return this.populateOverlays(t,i,a).next((()=>this.computeViews(t,a,i,He())))}populateOverlays(t,a,i){const o=[];return i.forEach((c=>{a.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((f,y)=>{a.set(f,y)}))}))}computeViews(t,a,i,o){let c=ys();const f=po(),y=(function(){return po()})();return a.forEach(((p,v)=>{const _=i.get(v.key);o.has(v.key)&&(_===void 0||_.mutation instanceof dr)?c=c.insert(v.key,v):_!==void 0?(f.set(v.key,_.mutation.getFieldMask()),yo(_.mutation,v,_.mutation.getFieldMask(),pt.now())):f.set(v.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((v,_)=>f.set(v,_))),a.forEach(((v,_)=>y.set(v,new cN(_,f.get(v)??null)))),y)))}recalculateAndSaveOverlays(t,a){const i=po();let o=new _t(((f,y)=>f-y)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((f=>{for(const y of f)y.keys().forEach((p=>{const v=a.get(p);if(v===null)return;let _=i.get(p)||In.empty();_=y.applyToLocalView(v,_),i.set(p,_);const T=(o.get(y.batchId)||He()).add(p);o=o.insert(y.batchId,T)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),v=p.key,_=p.value,T=i1();_.forEach((S=>{if(!c.has(S)){const z=h1(a.get(S),i.get(S));z!==null&&T.set(S,z),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,T))}return re.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,a,i,o){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):t1(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,i,o):this.getDocumentsMatchingCollectionQuery(t,a,i,o)}getNextDocuments(t,a,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,i,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,i.largestBatchId,o-c.size):re.resolve(Hr());let y=Eo,p=c;return f.next((v=>re.forEach(v,((_,T)=>(y<T.largestBatchId&&(y=T.largestBatchId),c.get(_)?re.resolve():this.remoteDocumentCache.getEntry(t,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,p,v,He()))).next((_=>({batchId:y,changes:r1(_)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new Ee(a)).next((i=>{let o=oo();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,i,o){const c=a.collectionGroup;let f=oo();return this.indexManager.getCollectionParents(t,c).next((y=>re.forEach(y,(p=>{const v=(function(T,S){return new Io(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(a,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,i,o).next((_=>{_.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,a,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,i.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,i,c,o)))).next((f=>{c.forEach(((p,v)=>{const _=v.getKey();f.get(_)===null&&(f=f.insert(_,on.newInvalidDocument(_)))}));let y=oo();return f.forEach(((p,v)=>{const _=c.get(p);_!==void 0&&yo(_.mutation,v,In.empty(),pt.now()),ad(a,v)&&(y=y.insert(p,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return re.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:Ua(o.createTime)}})(a)),re.resolve()}getNamedQuery(t,a){return re.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:tN(o.bundledQuery),readTime:Ua(o.readTime)}})(a)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(t,a){return re.resolve(this.overlays.get(a))}getOverlays(t,a){const i=Hr();return re.forEach(a,(o=>this.getOverlay(t,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(t,a,i){return i.forEach(((o,c)=>{this.St(t,a,c)})),re.resolve()}removeOverlaysForBatchId(t,a,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(t,a,i){const o=Hr(),c=a.length+1,f=new Ee(a.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const p=y.getNext().value,v=p.getKey();if(!a.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(t,a,i,o){let c=new _t(((v,_)=>v-_));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===a&&v.largestBatchId>i){let _=c.get(v.largestBatchId);_===null&&(_=Hr(),c=c.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const y=Hr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,_)=>y.set(v,_))),!(y.size()>=o)););return re.resolve(y)}St(t,a,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new DA(a,i));let c=this.qr.get(a);c===void 0&&(c=He(),this.qr.set(a,c)),this.qr.set(a,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return re.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const i=new Yt(t,a);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,a){t.forEach((i=>this.addReference(i,a)))}removeReference(t,a){this.Gr(new Yt(t,a))}zr(t,a){t.forEach((i=>this.removeReference(i,a)))}jr(t){const a=new Ee(new ft([])),i=new Yt(a,t),o=new Yt(a,t+1),c=[];return this.Ur.forEachInRange([i,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new Ee(new ft([])),i=new Yt(a,t),o=new Yt(a,t+1);let c=He();return this.Ur.forEachInRange([i,o],(f=>{c=c.add(f.key)})),c}containsKey(t){const a=new Yt(t,0),i=this.Qr.firstAfterOrEqual(a);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return Ee.comparator(t.key,a.key)||qe(t.Yr,a.Yr)}static Kr(t,a){return qe(t.Yr,a.Yr)||Ee.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(t){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RA(c,a,i,o);this.mutationQueue.push(f);for(const y of o)this.Zr=this.Zr.add(new Yt(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return re.resolve(f)}lookupMutationBatch(t,a){return re.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const i=a+1,o=this.ei(i),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?vm:this.tr-1)}getAllMutationBatches(t){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const i=new Yt(a,0),o=new Yt(a,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(f=>{const y=this.Xr(f.Yr);c.push(y)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,a){let i=new Ht(qe);return a.forEach((o=>{const c=new Yt(o,0),f=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(y=>{i=i.add(y.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,a){const i=a.path,o=i.length+1;let c=i;Ee.isDocumentKey(c)||(c=c.child(""));const f=new Yt(new Ee(c),0);let y=new Ht(qe);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(y=y.add(p.Yr)),!0)}),f),re.resolve(this.ti(y))}ti(t){const a=[];return t.forEach((i=>{const o=this.Xr(i);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){et(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(a.mutations,(o=>{const c=new Yt(o.key,a.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,a){const i=new Yt(a,0),o=this.Zr.firstAfterOrEqual(i);return re.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,re.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.ri=t,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const i=a.key,o=this.docs.get(i),c=o?o.size:0,f=this.ri(a);return this.docs=this.docs.insert(i,{document:a.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const i=this.docs.get(a);return re.resolve(i?i.document.mutableCopy():on.newInvalidDocument(a))}getEntries(t,a){let i=ys();return a.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),re.resolve(i)}getDocumentsMatchingQuery(t,a,i,o){let c=ys();const f=a.path,y=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:v,value:{document:_}}=p.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||FS(GS(_),i)<=0||(o.has(_.key)||ad(a,_))&&(c=c.insert(_.key,_.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(t,a,i,o){Se(9500)}ii(t,a){return re.forEach(this.docs,(i=>a(i)))}newChangeBuffer(t){return new yN(this)}getSize(t){return re.resolve(this.size)}}class yN extends uN{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(i)})),re.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t){this.persistence=t,this.si=new Kr((a=>_m(a)),Em),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=$i.ur()}forEachTarget(t,a){return this.si.forEach(((i,o)=>a(o))),re.resolve()}getLastRemoteSnapshotVersion(t){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return re.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(t,a,i){return i&&(this.lastRemoteSnapshotVersion=i),a>this.oi&&(this.oi=a),re.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new $i(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,re.resolve()}updateTargetData(t,a){return this.Pr(a),re.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,re.resolve()}removeTargets(t,a,i){let o=0;const c=[];return this.si.forEach(((f,y)=>{y.sequenceNumber<=a&&i.get(y.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(t){return re.resolve(this.targetCount)}getTargetData(t,a){const i=this.si.get(a)||null;return re.resolve(i)}addMatchingKeys(t,a,i){return this._i.Wr(a,i),re.resolve()}removeMatchingKeys(t,a,i){this._i.zr(a,i);const o=this.persistence.referenceDelegate,c=[];return o&&a.forEach((f=>{c.push(o.markPotentiallyOrphaned(t,f))})),re.waitFor(c)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),re.resolve()}getMatchingKeysForTargetId(t,a){const i=this._i.Hr(a);return re.resolve(i)}containsKey(t,a){return re.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,a){this.ui={},this.overlays={},this.ci=new Wc(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=t(this),this.Pi=new vN(this),this.indexManager=new nN,this.remoteDocumentCache=(function(o){return new pN(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new eN(a),this.Ii=new hN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new fN,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let i=this.ui[t.toKey()];return i||(i=new gN(a,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,i){fe("MemoryPersistence","Starting transaction:",t);const o=new bN(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,a){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,a))))}}class bN extends YS{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ri=new km,this.Vi=null}static mi(t){return new Cm(t)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(t,a,i){return this.Ri.addReference(i,a),this.fi.delete(i.toString()),re.resolve()}removeReference(t,a,i){return this.Ri.removeReference(i,a),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),re.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const o=Ee.fromPath(i);return this.gi(t,o).next((c=>{c||a.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((i=>{i?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return re.or([()=>re.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class Qc{constructor(t,a){this.persistence=t,this.pi=new Kr((i=>$S(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=oN(this,a)}static mi(t,a){return new Qc(t,a)}Ei(){}di(t){return re.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>a.next((o=>i+o))))}wr(t){let a=0;return this.pr(t,(i=>{a++})).next((()=>a))}pr(t,a){return re.forEach(this.pi,((i,o)=>this.br(t,i,o).next((c=>c?re.resolve():a(o)))))}removeTargets(t,a,i){return this.persistence.getTargetCache().removeTargets(t,a,i)}removeOrphanedDocuments(t,a){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,a).next((y=>{y||(i++,c.removeEntry(f,ke.min()))})))).next((()=>c.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),re.resolve()}removeTarget(t,a){const i=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,a,i){return this.pi.set(i,t.currentSequenceNumber),re.resolve()}removeReference(t,a,i){return this.pi.set(i,t.currentSequenceNumber),re.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),re.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=Sc(t.data.value)),a}br(t,a,i){return re.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,a,i,o){this.targetId=t,this.fromCache=a,this.Es=i,this.ds=o}static As(t,a){let i=He(),o=He();for(const c of a.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Rm(t,a.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hw()?8:KS(cw())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,i,o){const c={result:null};return this.ys(t,a).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,a,o,i).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new xN;return this.Ss(t,a,f).next((y=>{if(c.result=y,this.Vs)return this.bs(t,a,f,y.size)}))})).next((()=>c.result))}bs(t,a,i,o){return i.documentReadCount<this.fs?(zi()<=Ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Li(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(zi()<=Ke.DEBUG&&fe("QueryEngine","Query:",Li(a),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(zi()<=Ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Li(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,La(a))):re.resolve())}ys(t,a){if(cv(a))return re.resolve(null);let i=La(a);return this.indexManager.getIndexType(t,i).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Qf(a,null,"F"),i=La(a)),this.indexManager.getDocumentsMatchingTarget(t,i).next((c=>{const f=He(...c);return this.ps.getDocuments(t,f).next((y=>this.indexManager.getMinOffset(t,i).next((p=>{const v=this.Ds(a,y);return this.Cs(a,v,f,p.readTime)?this.ys(t,Qf(a,null,"F")):this.vs(t,v,a,p)}))))})))))}ws(t,a,i,o){return cv(a)||o.isEqual(ke.min())?re.resolve(null):this.ps.getDocuments(t,i).next((c=>{const f=this.Ds(a,c);return this.Cs(a,f,i,o)?re.resolve(null):(zi()<=Ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Li(a)),this.vs(t,f,a,HS(o,Eo)).next((y=>y)))}))}Ds(t,a){let i=new Ht(a1(t));return a.forEach(((o,c)=>{ad(t,c)&&(i=i.add(c))})),i}Cs(t,a,i,o){if(t.limit===null)return!1;if(i.size!==a.size)return!0;const c=t.limitType==="F"?a.last():a.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,a,i){return zi()<=Ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Li(a)),this.ps.getDocumentsMatchingQuery(t,a,ar.min(),i)}vs(t,a,i,o){return this.ps.getDocumentsMatchingQuery(t,i,o).next((c=>(a.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",EN=3e8;class TN{constructor(t,a,i,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new _t(qe),this.xs=new Kr((c=>_m(c)),Em),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function wN(s,t,a,i){return new TN(s,t,a,i)}async function A1(s,t){const a=De(s);return await a.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return a.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,a.Bs(t),a.mutationQueue.getAllMutationBatches(i)))).next((c=>{const f=[],y=[];let p=He();for(const v of o){f.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}for(const v of c){y.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}return a.localDocuments.getDocuments(i,p).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:y})))}))}))}function SN(s,t){const a=De(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=t.batch.keys(),c=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,p,v,_){const T=v.batch,S=T.keys();let z=re.resolve();return S.forEach((Y=>{z=z.next((()=>_.getEntry(p,Y))).next(($=>{const G=v.docVersions.get(Y);et(G!==null,48541),$.version.compareTo(G)<0&&(T.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),_.addEntry($)))}))})),z.next((()=>y.mutationQueue.removeMutationBatch(p,T)))})(a,i,t,c).next((()=>c.apply(i))).next((()=>a.mutationQueue.performConsistencyCheck(i))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(y){let p=He();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(p=p.add(y.batch.mutations[v].key));return p})(t)))).next((()=>a.localDocuments.getDocuments(i,o)))}))}function N1(s){const t=De(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function AN(s,t){const a=De(s),i=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const y=[];t.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;y.push(a.Pi.removeMatchingKeys(c,_.removedDocuments,T).next((()=>a.Pi.addMatchingKeys(c,_.addedDocuments,T))));let z=S.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(T)!==null?z=z.withResumeToken(an.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(_.resumeToken,i)),o=o.insert(T,z),(function($,G,Z){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=EN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,z,_)&&y.push(a.Pi.updateTargetData(c,z))}));let p=ys(),v=He();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(c,_))})),y.push(NN(c,f,t.documentUpdates).next((_=>{p=_.ks,v=_.qs}))),!i.isEqual(ke.min())){const _=a.Pi.getLastRemoteSnapshotVersion(c).next((T=>a.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));y.push(_)}return re.waitFor(y).next((()=>f.apply(c))).next((()=>a.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(a.Ms=o,c)))}function NN(s,t,a){let i=He(),o=He();return a.forEach((c=>i=i.add(c))),t.getEntries(s,i).next((c=>{let f=ys();return a.forEach(((y,p)=>{const v=c.get(y);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(ke.min())?(t.removeEntry(y,p.readTime),f=f.insert(y,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),f=f.insert(y,p)):fe(Dm,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function kN(s,t){const a=De(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=vm),a.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function CN(s,t){const a=De(s);return a.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return a.Pi.getTargetData(i,t).next((c=>c?(o=c,re.resolve(o)):a.Pi.allocateTargetId(i).next((f=>(o=new Zs(t,f,"TargetPurposeListen",i.currentSequenceNumber),a.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=a.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(i.targetId,i),a.xs.set(t,i.targetId)),i}))}async function Zf(s,t,a){const i=De(s),o=i.Ms.get(t),c=a?"readwrite":"readwrite-primary";try{a||await i.persistence.runTransaction("Release target",c,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!nl(f))throw f;fe(Dm,`Failed to update sequence numbers for target ${t}: ${f}`)}i.Ms=i.Ms.remove(t),i.xs.delete(o.target)}function Tv(s,t,a){const i=De(s);let o=ke.min(),c=He();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,v,_){const T=De(p),S=T.xs.get(_);return S!==void 0?re.resolve(T.Ms.get(S)):T.Pi.getTargetData(v,_)})(i,f,La(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,y.targetId).next((p=>{c=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,t,a?o:ke.min(),a?c:He()))).next((y=>(RN(i,gA(t),y),{documents:y,Qs:c})))))}function RN(s,t,a){let i=s.Os.get(t)||ke.min();a.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Os.set(t,i)}class wv{constructor(){this.activeTargetIds=_A()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DN{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,i){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,i){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(t,a,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){fe(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function Jf(){return yc===null?yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Uc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(t,a,i,o,c){const f=Jf(),y=this.zo(t,a.toUriEncodedString());fe(Sf,`Sending RPC '${t}' ${f}:`,y,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:v}=new URL(y),_=mm(v);return this.Jo(t,y,p,i,_).then((T=>(fe(Sf,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Qi(Sf,`RPC '${t}' ${f} failed with error: `,T,"url: ",y,"request:",i),T}))}Ho(t,a,i,o,c,f){return this.Go(t,a,i,o,c)}jo(t,a,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,c)=>t[c]=o)),i&&i.headers.forEach(((o,c)=>t[c]=o))}zo(t,a){const i=jN[t];return`${this.Uo}/v1/${a}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class ON extends MN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,i,o,c){const f=Jf();return new Promise(((y,p)=>{const v=new Cb;v.setWithCredentials(!0),v.listenOnce(Rb.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case wc.NO_ERROR:const T=v.getResponseJson();fe(rn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),y(T);break;case wc.TIMEOUT:fe(rn,`RPC '${t}' ${f} timed out`),p(new he(se.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const S=v.getStatus();if(fe(rn,`RPC '${t}' ${f} failed with status:`,S,"response text:",v.getResponseText()),S>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const Y=z==null?void 0:z.error;if(Y&&Y.status&&Y.message){const $=(function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ie)>=0?ie:se.UNKNOWN})(Y.status);p(new he($,Y.message))}else p(new he(se.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new he(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{fe(rn,`RPC '${t}' ${f} completed.`)}}));const _=JSON.stringify(o);fe(rn,`RPC '${t}' ${f} sending request:`,o),v.send(a,"POST",_,i,15)}))}T_(t,a,i){const o=Jf(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=jb(),y=Ib(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,a,i),p.encodeInitMessageHeaders=!0;const _=c.join("");fe(rn,`Creating RPC '${t}' stream ${o}: ${_}`,p);const T=f.createWebChannel(_,p);this.I_(T);let S=!1,z=!1;const Y=new VN({Yo:G=>{z?fe(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(S||(fe(rn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),fe(rn,`RPC '${t}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),$=(G,Z,ie)=>{G.listen(Z,(te=>{try{ie(te)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return $(T,lo.EventType.OPEN,(()=>{z||(fe(rn,`RPC '${t}' stream ${o} transport opened.`),Y.o_())})),$(T,lo.EventType.CLOSE,(()=>{z||(z=!0,fe(rn,`RPC '${t}' stream ${o} transport closed`),Y.a_(),this.E_(T))})),$(T,lo.EventType.ERROR,(G=>{z||(z=!0,Qi(rn,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Y.a_(new he(se.UNAVAILABLE,"The operation could not be completed")))})),$(T,lo.EventType.MESSAGE,(G=>{var Z;if(!z){const ie=G.data[0];et(!!ie,16349);const te=ie,ve=(te==null?void 0:te.error)||((Z=te[0])==null?void 0:Z.error);if(ve){fe(rn,`RPC '${t}' stream ${o} received error:`,ve);const ce=ve.status;let be=(function(k){const D=Lt[k];if(D!==void 0)return m1(D)})(ce),N=ve.message;be===void 0&&(be=se.INTERNAL,N="Unknown error status: "+ce+" with message "+ve.message),z=!0,Y.a_(new he(be,N)),T.close()}else fe(rn,`RPC '${t}' stream ${o} received:`,ie),Y.u_(ie)}})),$(y,Db.STAT_EVENT,(G=>{G.stat===Uf.PROXY?fe(rn,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===Uf.NOPROXY&&fe(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(s){return new PA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,a,i=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=a,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class C1{constructor(t,a,i,o,c,f,y,p){this.Mi=t,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k1(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===se.RESOURCE_EXHAUSTED?(ps(a.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===a&&this.G_(i,o)}),(i=>{t((()=>{const o=new he(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(t,a){const i=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return fe(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(fe(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zN extends C1{constructor(t,a,i,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,i,o,f),this.serializer=c}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=HA(this.serializer,t),i=(function(c){if(!("targetChange"in c))return ke.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?Ua(f.readTime):ke.min()})(t);return this.listener.H_(a,i)}Y_(t){const a={};a.database=$f(this.serializer),a.addTarget=(function(c,f){let y;const p=f.target;if(y=Gf(p)?{documents:QA(c,p)}:{query:YA(c,p).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=y1(c,f.resumeToken);const v=Yf(c,f.expectedCount);v!==null&&(y.expectedCount=v)}else if(f.snapshotVersion.compareTo(ke.min())>0){y.readTime=Fc(c,f.snapshotVersion.toTimestamp());const v=Yf(c,f.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,t);const i=XA(this.serializer,t);i&&(a.labels=i),this.q_(a)}Z_(t){const a={};a.database=$f(this.serializer),a.removeTarget=t,this.q_(a)}}class LN extends C1{constructor(t,a,i,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,i,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return et(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,et(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){et(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=FA(t.writeResults,t.commitTime),i=Ua(t.commitTime);return this.listener.na(i,a)}ra(){const t={};t.database=$f(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((i=>GA(this.serializer,i)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{}class PN extends UN{constructor(t,a,i,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,Kf(a,i),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(se.UNKNOWN,c.toString())}))}Ho(t,a,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.Ho(t,Kf(a,i),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(se.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(a),this.aa=!1):fe("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class qN{constructor(t,a,i,o,c){this.localStore=t,this.datastore=a,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{Xr(this)&&(fe(Qr,"Restarting streams for network reachability change."),await(async function(p){const v=De(p);v.Ea.add(4),await Vo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await od(v)})(this))}))})),this.Ra=new BN(i,o)}}async function od(s){if(Xr(s))for(const t of s.da)await t(!0)}async function Vo(s){for(const t of s.da)await t(!1)}function R1(s,t){const a=De(s);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),Vm(a)?Mm(a):al(a).O_()&&jm(a,t))}function Im(s,t){const a=De(s),i=al(a);a.Ia.delete(t),i.O_()&&D1(a,t),a.Ia.size===0&&(i.O_()?i.L_():Xr(a)&&a.Ra.set("Unknown"))}function jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ke.min())>0){const a=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}al(s).Y_(t)}function D1(s,t){s.Va.Ue(t),al(s).Z_(t)}function Mm(s){s.Va=new OA({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),al(s).start(),s.Ra.ua()}function Vm(s){return Xr(s)&&!al(s).x_()&&s.Ia.size>0}function Xr(s){return De(s).Ea.size===0}function I1(s){s.Va=void 0}async function HN(s){s.Ra.set("Online")}async function GN(s){s.Ia.forEach(((t,a)=>{jm(s,t)}))}async function FN(s,t){I1(s),Vm(s)?(s.Ra.ha(t),Mm(s)):s.Ra.set("Unknown")}async function QN(s,t,a){if(s.Ra.set("Online"),t instanceof p1&&t.state===2&&t.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.Va.removeTarget(y))})(s,t)}catch(i){fe(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yc(s,i)}else if(t instanceof kc?s.Va.Ze(t):t instanceof g1?s.Va.st(t):s.Va.tt(t),!a.isEqual(ke.min()))try{const i=await N1(s.localStore);a.compareTo(i)>=0&&await(function(c,f){const y=c.Va.Tt(f);return y.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const _=c.Ia.get(v);_&&c.Ia.set(v,_.withResumeToken(p.resumeToken,f))}})),y.targetMismatches.forEach(((p,v)=>{const _=c.Ia.get(p);if(!_)return;c.Ia.set(p,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),D1(c,p);const T=new Zs(_.target,p,v,_.sequenceNumber);jm(c,T)})),c.remoteSyncer.applyRemoteEvent(y)})(s,a)}catch(i){fe(Qr,"Failed to raise snapshot:",i),await Yc(s,i)}}async function Yc(s,t,a){if(!nl(t))throw t;s.Ea.add(1),await Vo(s),s.Ra.set("Offline"),a||(a=()=>N1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Qr,"Retrying IndexedDB access"),await a(),s.Ea.delete(1),await od(s)}))}function j1(s,t){return t().catch((a=>Yc(s,a,t)))}async function ud(s){const t=De(s),a=lr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vm;for(;YN(t);)try{const o=await kN(t.localStore,i);if(o===null){t.Ta.length===0&&a.L_();break}i=o.batchId,KN(t,o)}catch(o){await Yc(t,o)}M1(t)&&V1(t)}function YN(s){return Xr(s)&&s.Ta.length<10}function KN(s,t){s.Ta.push(t);const a=lr(s);a.O_()&&a.X_&&a.ea(t.mutations)}function M1(s){return Xr(s)&&!lr(s).x_()&&s.Ta.length>0}function V1(s){lr(s).start()}async function XN(s){lr(s).ra()}async function $N(s){const t=lr(s);for(const a of s.Ta)t.ea(a.mutations)}async function ZN(s,t,a){const i=s.Ta.shift(),o=Sm.from(i,t,a);await j1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ud(s)}async function JN(s,t){t&&lr(s).X_&&await(async function(i,o){if((function(f){return jA(f)&&f!==se.ABORTED})(o.code)){const c=i.Ta.shift();lr(i).B_(),await j1(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ud(i)}})(s,t),M1(s)&&V1(s)}async function kv(s,t){const a=De(s);a.asyncQueue.verifyOperationInProgress(),fe(Qr,"RemoteStore received new credentials");const i=Xr(a);a.Ea.add(3),await Vo(a),i&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await od(a)}async function WN(s,t){const a=De(s);t?(a.Ea.delete(2),await od(a)):t||(a.Ea.add(2),await Vo(a),a.Ra.set("Unknown"))}function al(s){return s.ma||(s.ma=(function(a,i,o){const c=De(a);return c.sa(),new zN(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:HN.bind(null,s),t_:GN.bind(null,s),r_:FN.bind(null,s),H_:QN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Vm(s)?Mm(s):s.Ra.set("Unknown")):(await s.ma.stop(),I1(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(a,i,o){const c=De(a);return c.sa(),new LN(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XN.bind(null,s),r_:JN.bind(null,s),ta:$N.bind(null,s),na:ZN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await ud(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,a,i,o,c){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,i,o,c){const f=Date.now()+i,y=new Om(t,a,f,o,c);return y.start(i),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,t){if(ps("AsyncQueue",`${t}: ${s}`),nl(s))return new he(se.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{static emptySet(t){return new Hi(t.comparator)}constructor(t){this.comparator=t?(a,i)=>t(a,i)||Ee.comparator(a.key,i.key):(a,i)=>Ee.comparator(a.key,i.key),this.keyedMap=oo(),this.sortedSet=new _t(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,i)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Hi)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const i=new Hi;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=a,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.ga=new _t(Ee.comparator)}track(t){const a=t.doc.key,i=this.ga.get(a);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(a,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(a,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(a):t.type===1&&i.type===2?this.ga=this.ga.insert(a,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):Se(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,i)=>{t.push(i)})),t}}class Zi{constructor(t,a,i,o,c,f,y,p,v){this.query=t,this.docs=a,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,a,i,o,c){const f=[];return a.forEach((y=>{f.push({type:0,doc:y})})),new Zi(t,a,Hi.emptySet(a),f,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,i=t.docChanges;if(a.length!==i.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==i[o].type||!a[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class t4{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,i){const o=De(a),c=o.queries;o.queries=Rv(),c.forEach(((f,y)=>{for(const p of y.Sa)p.onError(i)}))})(this,new he(se.ABORTED,"Firestore shutting down"))}}function Rv(){return new Kr((s=>n1(s)),nd)}async function n4(s,t){const a=De(s);let i=3;const o=t.query;let c=a.queries.get(o);c?!c.ba()&&t.Da()&&(i=2):(c=new e4,i=t.Da()?0:1);try{switch(i){case 0:c.wa=await a.onListen(o,!0);break;case 1:c.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(f){const y=zm(f,`Initialization of query '${Li(t.query)}' failed`);return void t.onError(y)}a.queries.set(o,c),c.Sa.push(t),t.va(a.onlineState),c.wa&&t.Fa(c.wa)&&Lm(a)}async function a4(s,t){const a=De(s),i=t.query;let o=3;const c=a.queries.get(i);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(i),a.onUnlisten(i,!0);case 1:return a.queries.delete(i),a.onUnlisten(i,!1);case 2:return a.onLastRemoteStoreUnlisten(i);default:return}}function s4(s,t){const a=De(s);let i=!1;for(const o of t){const c=o.query,f=a.queries.get(c);if(f){for(const y of f.Sa)y.Fa(o)&&(i=!0);f.wa=o}}i&&Lm(a)}function r4(s,t,a){const i=De(s),o=i.queries.get(t);if(o)for(const c of o.Sa)c.onError(a);i.queries.delete(t)}function Lm(s){s.Ca.forEach((t=>{t.next()}))}var Wf,Dv;(Dv=Wf||(Wf={})).Ma="default",Dv.Cache="cache";class i4{constructor(t,a,i){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Zi(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const i=a!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Zi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.key=t}}class z1{constructor(t){this.key=t}}class l4{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=a1(t),this.tu=new Hi(this.eu)}get nu(){return this.Ya}ru(t,a){const i=a?a.iu:new Cv,o=a?a.tu:this.tu;let c=a?a.mutatedKeys:this.mutatedKeys,f=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const S=o.get(_),z=ad(this.query,T)?T:null,Y=!!S&&this.mutatedKeys.has(S.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let G=!1;S&&z?S.data.isEqual(z.data)?Y!==$&&(i.track({type:3,doc:z}),G=!0):this.su(S,z)||(i.track({type:2,doc:z}),G=!0,(p&&this.eu(z,p)>0||v&&this.eu(z,v)<0)&&(y=!0)):!S&&z?(i.track({type:0,doc:z}),G=!0):S&&!z&&(i.track({type:1,doc:S}),G=!0,(p||v)&&(y=!0)),G&&(z?(f=f.add(z),c=$?c.add(_):c.delete(_)):(f=f.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:f,iu:i,Cs:y,mutatedKeys:c}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,i,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((_,T)=>(function(z,Y){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:G})}};return $(z)-$(Y)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(i),o=o??!1;const y=a&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,v=p!==this.Za;return this.Za=p,f.length!==0||v?{snapshot:new Zi(this.query,t.tu,c,f,t.mutatedKeys,p===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const a=[];return t.forEach((i=>{this.Xa.has(i)||a.push(new z1(i))})),this.Xa.forEach((i=>{t.has(i)||a.push(new O1(i))})),a}cu(t){this.Ya=t.Qs,this.Xa=He();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Zi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Um="SyncEngine";class o4{constructor(t,a,i){this.query=t,this.targetId=a,this.view=i}}class u4{constructor(t){this.key=t,this.hu=!1}}class c4{constructor(t,a,i,o,c,f){this.localStore=t,this.remoteStore=a,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Kr((y=>n1(y)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=$i.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d4(s,t,a=!0){const i=H1(s);let o;const c=i.Tu.get(t);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await L1(i,t,a,!0),o}async function h4(s,t){const a=H1(s);await L1(a,t,!0,!1)}async function L1(s,t,a,i){const o=await CN(s.localStore,La(t)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,a);let y;return i&&(y=await f4(s,t,c,f==="current",o.resumeToken)),s.isPrimaryClient&&a&&R1(s.remoteStore,o),y}async function f4(s,t,a,i,o){s.pu=(T,S,z)=>(async function($,G,Z,ie){let te=G.view.ru(Z);te.Cs&&(te=await Tv($.localStore,G.query,!1).then((({documents:N})=>G.view.ru(N,te))));const ve=ie&&ie.targetChanges.get(G.targetId),ce=ie&&ie.targetMismatches.get(G.targetId)!=null,be=G.view.applyChanges(te,$.isPrimaryClient,ve,ce);return jv($,G.targetId,be.au),be.snapshot})(s,T,S,z);const c=await Tv(s.localStore,t,!0),f=new l4(t,c.Qs),y=f.ru(c.documents),p=Mo.createSynthesizedTargetChangeForCurrentChange(a,i&&s.onlineState!=="Offline",o),v=f.applyChanges(y,s.isPrimaryClient,p);jv(s,a,v.au);const _=new o4(t,a,f);return s.Tu.set(t,_),s.Iu.has(a)?s.Iu.get(a).push(t):s.Iu.set(a,[t]),v.snapshot}async function m4(s,t,a){const i=De(s),o=i.Tu.get(t),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((f=>!nd(f,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Zf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),a&&Im(i.remoteStore,o.targetId),em(i,o.targetId)})).catch(tl)):(em(i,o.targetId),await Zf(i.localStore,o.targetId,!0))}async function g4(s,t){const a=De(s),i=a.Tu.get(t),o=a.Iu.get(i.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(i.targetId),Im(a.remoteStore,i.targetId))}async function p4(s,t,a){const i=T4(s);try{const o=await(function(f,y){const p=De(f),v=pt.now(),_=y.reduce(((z,Y)=>z.add(Y.key)),He());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Y=ys(),$=He();return p.Ns.getEntries(z,_).next((G=>{Y=G,Y.forEach(((Z,ie)=>{ie.isValidDocument()||($=$.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,Y))).next((G=>{T=G;const Z=[];for(const ie of y){const te=kA(ie,T.get(ie.key).overlayedDocument);te!=null&&Z.push(new dr(ie.key,te,Yb(te.value.mapValue),ha.exists(!0)))}return p.mutationQueue.addMutationBatch(z,v,Z,y)})).next((G=>{S=G;const Z=G.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(z,G.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:r1(T)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),(function(f,y,p){let v=f.Vu[f.currentUser.toKey()];v||(v=new _t(qe)),v=v.insert(y,p),f.Vu[f.currentUser.toKey()]=v})(i,o.batchId,a),await Oo(i,o.changes),await ud(i.remoteStore)}catch(o){const c=zm(o,"Failed to persist write");a.reject(c)}}async function U1(s,t){const a=De(s);try{const i=await AN(a.localStore,t);t.targetChanges.forEach(((o,c)=>{const f=a.Au.get(c);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Oo(a,i,t)}catch(i){await tl(i)}}function Iv(s,t,a){const i=De(s);if(i.isPrimaryClient&&a===0||!i.isPrimaryClient&&a===1){const o=[];i.Tu.forEach(((c,f)=>{const y=f.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const p=De(f);p.onlineState=y;let v=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(y)&&(v=!0)})),v&&Lm(p)})(i.eventManager,t),o.length&&i.Pu.H_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function y4(s,t,a){const i=De(s);i.sharedClientState.updateQueryState(t,"rejected",a);const o=i.Au.get(t),c=o&&o.key;if(c){let f=new _t(Ee.comparator);f=f.insert(c,on.newNoDocument(c,ke.min()));const y=He().add(c),p=new id(ke.min(),new Map,new _t(qe),f,y);await U1(i,p),i.du=i.du.remove(c),i.Au.delete(t),Pm(i)}else await Zf(i.localStore,t,!1).then((()=>em(i,t,a))).catch(tl)}async function v4(s,t){const a=De(s),i=t.batch.batchId;try{const o=await SN(a.localStore,t);B1(a,i,null),P1(a,i),a.sharedClientState.updateMutationState(i,"acknowledged"),await Oo(a,o)}catch(o){await tl(o)}}async function b4(s,t,a){const i=De(s);try{const o=await(function(f,y){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return p.mutationQueue.lookupMutationBatch(v,y).next((T=>(et(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(v,T)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,_,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>p.localDocuments.getDocuments(v,_)))}))})(i.localStore,t);B1(i,t,a),P1(i,t),i.sharedClientState.updateMutationState(t,"rejected",a),await Oo(i,o)}catch(o){await tl(o)}}function P1(s,t){(s.mu.get(t)||[]).forEach((a=>{a.resolve()})),s.mu.delete(t)}function B1(s,t,a){const i=De(s);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(t);c&&(a?c.reject(a):c.resolve(),o=o.remove(t)),i.Vu[i.currentUser.toKey()]=o}}function em(s,t,a=null){s.sharedClientState.removeLocalQueryTarget(t);for(const i of s.Iu.get(t))s.Tu.delete(i),a&&s.Pu.yu(i,a);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((i=>{s.Ru.containsKey(i)||q1(s,i)}))}function q1(s,t){s.Eu.delete(t.path.canonicalString());const a=s.du.get(t);a!==null&&(Im(s.remoteStore,a),s.du=s.du.remove(t),s.Au.delete(a),Pm(s))}function jv(s,t,a){for(const i of a)i instanceof O1?(s.Ru.addReference(i.key,t),x4(s,i)):i instanceof z1?(fe(Um,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,t),s.Ru.containsKey(i.key)||q1(s,i.key)):Se(19791,{wu:i})}function x4(s,t){const a=t.key,i=a.path.canonicalString();s.du.get(a)||s.Eu.has(i)||(fe(Um,"New document in limbo: "+a),s.Eu.add(i),Pm(s))}function Pm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const a=new Ee(ft.fromString(t)),i=s.fu.next();s.Au.set(i,new u4(a)),s.du=s.du.insert(a,i),R1(s.remoteStore,new Zs(La(e1(a.path)),i,"TargetPurposeLimboResolution",Wc.ce))}}async function Oo(s,t,a){const i=De(s),o=[],c=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((y,p)=>{f.push(i.pu(p,t,a).then((v=>{var _;if((v||a)&&i.isPrimaryClient){const T=v?!v.fromCache:(_=a==null?void 0:a.targetChanges.get(p.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Rm.As(p.targetId,v);c.push(T)}})))})),await Promise.all(f),i.Pu.H_(o),await(async function(p,v){const _=De(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(v,(S=>re.forEach(S.Es,(z=>_.persistence.referenceDelegate.addReference(T,S.targetId,z))).next((()=>re.forEach(S.ds,(z=>_.persistence.referenceDelegate.removeReference(T,S.targetId,z)))))))))}catch(T){if(!nl(T))throw T;fe(Dm,"Failed to update sequence numbers: "+T)}for(const T of v){const S=T.targetId;if(!T.fromCache){const z=_.Ms.get(S),Y=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(Y);_.Ms=_.Ms.insert(S,$)}}})(i.localStore,c))}async function _4(s,t){const a=De(s);if(!a.currentUser.isEqual(t)){fe(Um,"User change. New user:",t.toKey());const i=await A1(a.localStore,t);a.currentUser=t,(function(c,f){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new he(se.CANCELLED,f))}))})),c.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Oo(a,i.Ls)}}function E4(s,t){const a=De(s),i=a.Au.get(t);if(i&&i.hu)return He().add(i.key);{let o=He();const c=a.Iu.get(t);if(!c)return o;for(const f of c){const y=a.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function H1(s){const t=De(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y4.bind(null,t),t.Pu.H_=s4.bind(null,t.eventManager),t.Pu.yu=r4.bind(null,t.eventManager),t}function T4(s){const t=De(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=v4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ld(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return wN(this.persistence,new _N,t.initialUser,this.serializer)}Cu(t){return new S1(Cm.mi,this.serializer)}Du(t){return new DN}async terminate(){var t,a;(t=this.gcScheduler)==null||t.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class w4 extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){et(this.persistence.referenceDelegate instanceof Qc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iN(i,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new S1((i=>Qc.mi(i,a)),this.serializer)}}class tm{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Iv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new t4})()}createDatastore(t){const a=ld(t.databaseInfo.databaseId),i=(function(c){return new ON(c)})(t.databaseInfo);return(function(c,f,y,p){return new PN(c,f,y,p)})(t.authCredentials,t.appCheckCredentials,i,a)}createRemoteStore(t){return(function(i,o,c,f,y){return new qN(i,o,c,f,y)})(this.localStore,this.datastore,t.asyncQueue,(a=>Iv(this.syncEngine,a,0)),(function(){return Av.v()?new Av:new IN})())}createSyncEngine(t,a){return(function(o,c,f,y,p,v,_){const T=new c4(o,c,f,y,p,v);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){var t,a;await(async function(o){const c=De(o);fe(Qr,"RemoteStore shutting down."),c.Ea.add(5),await Vo(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(a=this.eventManager)==null||a.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="FirestoreClient";class A4{constructor(t,a,i,o,c){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=i,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async f=>{fe(or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(fe(or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const i=zm(a,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Nf(s,t){s.asyncQueue.verifyOperationInProgress(),fe(or,"Initializing OfflineComponentProvider");const a=s.configuration;await t.initialize(a);let i=a.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await A1(t.localStore,o),i=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Mv(s,t){s.asyncQueue.verifyOperationInProgress();const a=await N4(s);fe(or,"Initializing OnlineComponentProvider"),await t.initialize(a,s.configuration),s.setCredentialChangeListener((i=>kv(t.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>kv(t.remoteStore,o))),s._onlineComponents=t}async function N4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(or,"Using user provided OfflineComponentProvider");try{await Nf(s,s._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;Qi("Error using user provided cache. Falling back to memory cache: "+a),await Nf(s,new Kc)}}else fe(or,"Using default OfflineComponentProvider"),await Nf(s,new w4(void 0));return s._offlineComponents}async function G1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(or,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(fe(or,"Using default OnlineComponentProvider"),await Mv(s,new tm))),s._onlineComponents}function k4(s){return G1(s).then((t=>t.syncEngine))}async function C4(s){const t=await G1(s),a=t.eventManager;return a.onListen=d4.bind(null,t.syncEngine),a.onUnlisten=m4.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=h4.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=g4.bind(null,t.syncEngine),a}function R4(s,t,a={}){const i=new tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,p,v){const _=new S4({next:S=>{_.Nu(),f.enqueueAndForget((()=>a4(c,T))),S.fromCache&&p.source==="server"?v.reject(new he(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),T=new i4(y,_,{includeMetadataChanges:!0,qa:!0});return n4(c,T)})(await C4(s),s.asyncQueue,t,a,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firestore.googleapis.com",Ov=!0;class zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new he(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q1,this.ssl=Ov}else this.host=t.host,this.ssl=t.ssl??Ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sN)throw new he(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cd{constructor(t,a,i,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new IS;switch(i.type){case"firstParty":return new OS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const i=Vv.get(a);i&&(fe("ComponentProvider","Removing Datastore"),Vv.delete(a),i.terminate())})(this),Promise.resolve()}}function D4(s,t,a,i={}){var v;s=Fr(s,cd);const o=mm(t),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${a}`;o&&(rw(`https://${y}`),uw("Firestore",!0)),c.host!==Q1&&c.host!==y&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:o,emulatorOptions:i};if(!Vc(p,f)&&(s._setSettings(p),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=ln.MOCK_USER;else{_=iw(i.mockUserToken,(v=s._app)==null?void 0:v.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new he(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(S)}s._authCredentials=new jS(new Vb(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,a,i){this.converter=a,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new sl(this.firestore,t,this._query)}}class qt{constructor(t,a,i){this.converter=a,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qt(this.firestore,t,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,i){if(Do(a,qt._jsonSchema))return new qt(t,i||null,new Ee(ft.fromString(a.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Pt("string",qt._jsonSchemaVersion),referencePath:Pt("string")};class nr extends sl{constructor(t,a,i){super(t,a,e1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qt(this.firestore,null,new Ee(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function Lv(s,t,...a){if(s=ms(s),Ob("collection","path",t),s instanceof cd){const i=ft.fromString(t,...a);return $y(i),new nr(s,null,i)}{if(!(s instanceof qt||s instanceof nr))throw new he(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ft.fromString(t,...a));return $y(i),new nr(s.firestore,null,i)}}function nm(s,t,...a){if(s=ms(s),arguments.length===1&&(t=ym.newId()),Ob("doc","path",t),s instanceof cd){const i=ft.fromString(t,...a);return Xy(i),new qt(s,null,new Ee(i))}{if(!(s instanceof qt||s instanceof nr))throw new he(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ft.fromString(t,...a));return Xy(i),new qt(s.firestore,s instanceof nr?s.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k1(this,"async_queue_retry"),this._c=()=>{const i=Af();i&&fe(Uv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const a=Af();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Af();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!nl(t))throw t;fe(Uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Bv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=a,a}enqueueAfterDelay(t,a,i){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=Om.createAndSchedule(this,t,a,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,i)=>a.targetTimeMs-i.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function Bv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class zo extends cd{constructor(t,a,i,o){super(t,a,i,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function I4(s,t){const a=typeof s=="object"?s:bS(),i=typeof s=="string"?s:Uc,o=mS(a,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=aw("firestore");c&&D4(o,...c)}return o}function Y1(s){if(s._terminated)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||j4(s),s._firestoreClient}function j4(s){var i,o,c;const t=s._freezeSettings(),a=(function(y,p,v,_){return new WS(y,p,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,F1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(s._databaseId,((i=s._app)==null?void 0:i.options.appId)||"",s._persistenceKey,t);s._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new A4(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(y){const p=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(p),_online:p}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(an.fromBase64String(t))}catch(a){throw new he(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Xn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Do(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Pt("string",Xn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new he(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new he(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new he(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pa._jsonSchemaVersion}}static fromJSON(t){if(Do(t,Pa._jsonSchema))return new Pa(t.latitude,t.longitude)}}Pa._jsonSchemaVersion="firestore/geoPoint/1.0",Pa._jsonSchema={type:Pt("string",Pa._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ba._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Do(t,Ba._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Ba(t.vectorValues);throw new he(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ba._jsonSchemaVersion="firestore/vectorValue/1.0",Ba._jsonSchema={type:Pt("string",Ba._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class V4{constructor(t,a,i){this.data=t,this.fieldMask=a,this.fieldTransforms=i}toMutation(t,a){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,a,this.fieldTransforms):new jo(t,this.data,a,this.fieldTransforms)}}class K1{constructor(t,a,i){this.data=t,this.fieldMask=a,this.fieldTransforms=i}toMutation(t,a){return new dr(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function X1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class qm{constructor(t,a,i,o,c,f){this.settings=t,this.databaseId=a,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),i=this.Vc({path:a,fc:!1});return i.gc(t),i}yc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),i=this.Vc({path:a,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(X1(this.Ac)&&M4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class O4{constructor(t,a,i){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=i||ld(t)}Cc(t,a,i,o=!1){return new qm({Ac:t,methodName:a,Dc:i,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(s){const t=s._freezeSettings(),a=ld(s._databaseId);return new O4(s._databaseId,!!t.ignoreUndefinedProperties,a)}function z4(s,t,a,i,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,t,a,o);Gm("Data must be an object, but it was:",f,i);const y=$1(i,f);let p,v;if(c.merge)p=new In(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const _=[];for(const T of c.mergeFields){const S=am(t,T,a);if(!f.contains(S))throw new he(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);J1(_,S)||_.push(S)}p=new In(_),v=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,v=f.fieldTransforms;return new V4(new _n(y),p,v)}class hd extends Bm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hd}}function L4(s,t,a,i){const o=s.Cc(1,t,a);Gm("Data must be an object, but it was:",o,i);const c=[],f=_n.empty();cr(i,((p,v)=>{const _=Fm(t,p,a);v=ms(v);const T=o.yc(_);if(v instanceof hd)c.push(_);else{const S=Lo(v,T);S!=null&&(c.push(_),f.set(_,S))}}));const y=new In(c);return new K1(f,y,o.fieldTransforms)}function U4(s,t,a,i,o,c){const f=s.Cc(1,t,a),y=[am(t,i,a)],p=[o];if(c.length%2!=0)throw new he(se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)y.push(am(t,c[S])),p.push(c[S+1]);const v=[],_=_n.empty();for(let S=y.length-1;S>=0;--S)if(!J1(v,y[S])){const z=y[S];let Y=p[S];Y=ms(Y);const $=f.yc(z);if(Y instanceof hd)v.push(z);else{const G=Lo(Y,$);G!=null&&(v.push(z),_.set(z,G))}}const T=new In(v);return new K1(_,T,f.fieldTransforms)}function P4(s,t,a,i=!1){return Lo(a,s.Cc(i?4:3,t))}function Lo(s,t){if(Z1(s=ms(s)))return Gm("Unsupported field value:",t,s),$1(s,t);if(s instanceof Bm)return(function(i,o){if(!X1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let f=0;for(const y of i){let p=Lo(y,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(s,t)}return(function(i,o){if((i=ms(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return EA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=pt.fromDate(i);return{timestampValue:Fc(o.serializer,c)}}if(i instanceof pt){const c=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,c)}}if(i instanceof Pa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:y1(o.serializer,i._byteString)};if(i instanceof qt){const c=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ba)return(function(f,y){return{mapValue:{fields:{[Fb]:{stringValue:Qb},[Pc]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Tm(y.serializer,v)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Jc(i)}`)})(s,t)}function $1(s,t){const a={};return Ub(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((i,o)=>{const c=Lo(o,t.mc(i));c!=null&&(a[i]=c)})),{mapValue:{fields:a}}}function Z1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof Pa||s instanceof Xn||s instanceof qt||s instanceof Bm||s instanceof Ba)}function Gm(s,t,a){if(!Z1(a)||!zb(a)){const i=Jc(a);throw i==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+i)}}function am(s,t,a){if((t=ms(t))instanceof dd)return t._internalPath;if(typeof t=="string")return Fm(s,t);throw Xc("Field path arguments must be of type string or ",s,!1,void 0,a)}const B4=new RegExp("[~\\*/\\[\\]]");function Fm(s,t,a){if(t.search(B4)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new dd(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Xc(s,t,a,i,o){const c=i&&!i.isEmpty(),f=o!==void 0;let y=`Function ${t}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new he(se.INVALID_ARGUMENT,y+s+p)}function J1(s,t){return s.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,a,i,o,c){this._firestore=t,this._userDataWriter=a,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(Qm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class q4 extends W1{data(){return super.data()}}function Qm(s,t){return typeof t=="string"?Fm(s,t):t instanceof dd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class G4 extends Ym{}function F4(s,t,...a){let i=[];t instanceof Ym&&i.push(t),i=i.concat(a),(function(c){const f=c.filter((p=>p instanceof Km)).length,y=c.filter((p=>p instanceof fd)).length;if(f>1||f>0&&y>0)throw new he(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)s=o._apply(s);return s}class fd extends G4{constructor(t,a,i){super(),this._field=t,this._op=a,this._value=i,this.type="where"}static _create(t,a,i){return new fd(t,a,i)}_apply(t){const a=this._parse(t);return ex(t._query,a),new sl(t.firestore,t.converter,Ff(t._query,a))}_parse(t){const a=Hm(t.firestore);return(function(c,f,y,p,v,_,T){let S;if(v.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Hv(T,_);const Y=[];for(const $ of T)Y.push(qv(p,c,$));S={arrayValue:{values:Y}}}else S=qv(p,c,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Hv(T,_),S=P4(y,f,T,_==="in"||_==="not-in");return Ut.create(v,_,S)})(t._query,"where",a,t.firestore._databaseId,this._field,this._op,this._value)}}function Q4(s,t,a){const i=t,o=Qm("where",s);return fd._create(o,i,a)}class Km extends Ym{constructor(t,a){super(),this.type=t,this._queryConstraints=a}static _create(t,a){return new Km(t,a)}_parse(t){const a=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return a.length===1?a[0]:fa.create(a,this._getOperator())}_apply(t){const a=this._parse(t);return a.getFilters().length===0?t:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const p of y)ex(f,p),f=Ff(f,p)})(t._query,a),new sl(t.firestore,t.converter,Ff(t._query,a)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(s,t,a){if(typeof(a=ms(a))=="string"){if(a==="")throw new he(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(t)&&a.indexOf("/")!==-1)throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const i=t.path.child(ft.fromString(a));if(!Ee.isDocumentKey(i))throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sv(s,new Ee(i))}if(a instanceof qt)return sv(s,a._key);throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jc(a)}.`)}function Hv(s,t){if(!Array.isArray(s)||s.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ex(s,t){const a=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(a!==null)throw a===t.op?new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${a.toString()}' filters.`)}class Y4{convertValue(t,a="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw Se(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const i={};return cr(t,((o,c)=>{i[o]=this.convertValue(c,a)})),i}convertVectorValue(t){var i,o,c;const a=(c=(o=(i=t.fields)==null?void 0:i[Pc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>Ct(f.doubleValue)));return new Ba(a)}convertGeoPoint(t){return new Pa(Ct(t.latitude),Ct(t.longitude))}convertArray(t,a){return(t.values||[]).map((i=>this.convertValue(i,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const i=td(t);return i==null?null:this.convertValue(i,a);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const a=sr(t);return new pt(a.seconds,a.nanos)}convertDocumentKey(t,a){const i=ft.fromString(t);et(T1(i),9688,{name:t});const o=new wo(i.get(1),i.get(3)),c=new Ee(i.popFirst(5));return o.isEqual(a)||ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(s,t,a){let i;return i=s?s.toFirestore(t):t,i}class vc{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gi extends W1{constructor(t,a,i,o,c,f){super(t,a,i,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const i=this._document.data.field(Qm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Gi._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:Pt("string",Gi._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Cc extends Gi{data(t={}){return super.data(t)}}class Fi{constructor(t,a,i,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new vc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((i=>{t.call(a,new Cc(this._firestore,this._userDataWriter,i.key,i,new vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new he(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const p=new Cc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new vc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Cc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new vc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,_=-1;return y.type!==0&&(v=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),_=f.indexOf(y.doc.key)),{type:X4(y.type),doc:p,oldIndex:v,newIndex:_}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fi._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(a.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function X4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}Fi._jsonSchemaVersion="firestore/querySnapshot/1.0",Fi._jsonSchema={type:Pt("string",Fi._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class $4 extends Y4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new qt(this.firestore,null,a)}}function Z4(s){s=Fr(s,sl);const t=Fr(s.firestore,zo),a=Y1(t),i=new $4(t);return H4(s._query),R4(a,s._query).then((o=>new Fi(t,i,s,o)))}function J4(s,t,a,...i){s=Fr(s,qt);const o=Fr(s.firestore,zo),c=Hm(o);let f;return f=typeof(t=ms(t))=="string"||t instanceof dd?U4(c,"updateDoc",s._key,t,a,i):L4(c,"updateDoc",s._key,t),Xm(o,[f.toMutation(s._key,ha.exists(!0))])}function W4(s){return Xm(Fr(s.firestore,zo),[new wm(s._key,ha.none())])}function ek(s,t){const a=Fr(s.firestore,zo),i=nm(s),o=K4(s.converter,t);return Xm(a,[z4(Hm(s.firestore),"addDoc",i._key,o,s.converter!==null,{}).toMutation(i._key,ha.exists(!1))]).then((()=>i))}function Xm(s,t){return(function(i,o){const c=new tr;return i.asyncQueue.enqueueAndForget((async()=>p4(await k4(i),o,c))),c.promise})(Y1(s),t)}(function(t,a=!0){(function(o){el=o})(vS),zc(new xo("firestore",((i,{instanceIdentifier:o,options:c})=>{const f=i.getProvider("app").getImmediate(),y=new zo(new MS(i.getProvider("auth-internal")),new zS(f,i.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(v.options.projectId,_)})(f,o),f);return c={useFetchStreams:a,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),qi(Fy,Qy,t),qi(Fy,Qy,"esm2020")})();const bn="profe_master_dev",tk=()=>Math.random().toString(36).substr(2,9),sm="teacher_mate_db",nk="teacher_mate_firebase_config",bc=()=>{const s=localStorage.getItem(sm);if(s)return JSON.parse(s);const t={classes:[{id:"c1",ownerId:bn,name:"3 ESO B",subject:"Tutora",createdAt:Date.now()},{id:"c2",ownerId:bn,name:"4 ESO A",subject:"Matemticas",createdAt:Date.now()}],students:[{id:"s1",ownerId:bn,firstName:"Alex",lastName:"Garca",groups:["c1"],specialNeeds:["TDAH"],contactInfo:"madre@test.com",createdAt:Date.now()},{id:"s2",ownerId:bn,firstName:"Mara",lastName:"Lopez",groups:["c1","c2"],specialNeeds:[],contactInfo:"600123456",createdAt:Date.now()}],grades:[{id:"g1",ownerId:bn,studentId:"s2",classGroupId:"c2",title:"Examen T1",grade:8.5,type:"exam",date:Date.now()}],follow_up_notes:[{id:"f1",ownerId:bn,studentId:"s1",title:"Reunin con padres",content:"Se ha acordado revisar la agenda diariamente. La madre comenta que en casa est ms tranquilo.",date:Date.now()-1e8}],interventions:[{id:"i1",ownerId:bn,studentId:"s1",studentName:"Alex Garca",type:"Conducta",description:"Interrupcin constante en clase de Mates.",date:Date.now(),status:"pendiente"},{id:"i2",ownerId:bn,studentId:"s2",studentName:"Mara Lopez",type:"Positivo",description:"Gran mejora en el examen de Historia.",date:Date.now()-864e5,status:"resuelto"}],resources:[{id:"r1",ownerId:bn,title:"Exmenes Past Years",url:"https://google.com",category:"Matemticas",tags:["PDF","Examen"],isFavorite:!0}],quick_notes:[{id:"n1",ownerId:bn,content:"Reunin evaluacin martes 15:00",color:"#fef3c7",isArchived:!1,createdAt:Date.now()}],events:[{id:"e1",ownerId:bn,title:"Claustro Profesores",date:Date.now(),type:"meeting"}]};return localStorage.setItem(sm,JSON.stringify(t)),t},kf=s=>localStorage.setItem(sm,JSON.stringify(s)),ak=()=>{try{const s=localStorage.getItem(nk);return s?JSON.parse(s):null}catch{return null}},sk=ak(),Gv=sk||null;let ds,Bi=!1;if(Gv)try{const s=Sb(Gv);ds=I4(s),Bi=!0,console.log("TeacherMate: Connected to Firebase")}catch(s){console.error("TeacherMate: Firebase initialization error",s)}const rk=()=>Bi?"connected":"mock",xc=s=>new Promise(t=>setTimeout(t,s)),Ye={async getItems(s){if(Bi&&ds)try{const t=F4(Lv(ds,s),Q4("ownerId","==",bn));return(await Z4(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Firestore Error",t),[]}else return await xc(300),(bc()[s]||[]).filter(a=>a.ownerId===bn)},async addItem(s,t){const a={...t,ownerId:bn};if(Bi&&ds)return{id:(await ek(Lv(ds,s),a)).id,...a};{await xc(300);const i=bc(),o={id:tk(),...a};return i[s]||(i[s]=[]),i[s].push(o),kf(i),o}},async updateItem(s,t,a){if(Bi&&ds){const i=nm(ds,s,t);await J4(i,a)}else{await xc(200);const i=bc();if(!i[s])return;const o=i[s].findIndex(c=>c.id===t);o!==-1&&(i[s][o]={...i[s][o],...a},kf(i))}},async deleteItem(s,t){if(Bi&&ds)await W4(nm(ds,s,t));else{await xc(200);const a=bc();if(!a[s])return;a[s]=a[s].filter(i=>i.id!==t),kf(a)}}},Cf=({icon:s,label:t,value:a,gradient:i,delay:o})=>m.jsxs("div",{className:"glass-panel p-6 rounded-3xl border-none shadow-sm flex items-center space-x-5 transition-transform hover:-translate-y-1 hover:shadow-lg duration-300 animate-in fade-in slide-in-from-bottom-4 dark:shadow-black/20",style:{animationDelay:o},children:[m.jsx("div",{className:`p-4 rounded-2xl shadow-inner text-white bg-${i} dark:opacity-90`,children:m.jsx(s,{className:"w-7 h-7 drop-shadow-sm"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wide opacity-70",children:t}),m.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 font-sans",children:a})]})]}),ik=()=>{const{t:s}=ur(),[t,a]=O.useState({students:0,pending:0,notes:0}),[i,o]=O.useState([]),[c,f]=O.useState(!0),[y,p]=O.useState("");return O.useEffect(()=>{const v=new Date().getHours();v<12?p("Egun on"):v<18?p("Arratsalde on"):p("Gabon"),(async()=>{try{const[T,S,z]=await Promise.all([Ye.getItems("students"),Ye.getItems("interventions"),Ye.getItems("quick_notes")]),Y=S.filter($=>$.status==="pendiente");a({students:T.length,pending:Y.length,notes:z.filter($=>!$.isArchived).length}),o(Y.sort(($,G)=>G.date-$.date).slice(0,5))}finally{f(!1)}})()},[]),c?m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx("div",{className:"animate-bounce p-4 bg-white/50 dark:bg-slate-800/50 rounded-full shadow-lg",children:m.jsx(jf,{className:"text-purple-400 w-8 h-8 animate-spin-slow"})})}):m.jsxs("div",{className:"space-y-8 pb-10",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("h2",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 font-sans tracking-tight mb-2 flex items-center",children:[s.dashboard.hello," ",m.jsx("span",{className:"text-3xl ml-2 animate-wave",children:""})]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-hand",children:s.dashboard.summary})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Cf,{icon:hm,label:s.dashboard.stats.students,value:t.students,gradient:"watercolor-blue",delay:"0ms"}),m.jsx(Cf,{icon:ho,label:s.dashboard.stats.pending,value:t.pending,gradient:"watercolor-peach",delay:"100ms"}),m.jsx(Cf,{icon:jc,label:s.dashboard.stats.notes,value:t.notes,gradient:"watercolor-green",delay:"200ms"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"glass-panel rounded-3xl flex flex-col overflow-hidden relative group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-orange-100 to-white dark:from-orange-900/30 dark:to-slate-800 rounded-bl-full opacity-50 transition-opacity group-hover:opacity-80"}),m.jsxs("div",{className:"p-6 border-b border-slate-100/50 dark:border-slate-700/50 flex justify-between items-center bg-white/30 dark:bg-slate-800/30 backdrop-blur-sm",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 flex items-center",children:[m.jsx(ho,{size:18,className:"mr-2 text-orange-400"}),s.dashboard.pendingTitle]}),m.jsxs(co,{to:"/students",className:"text-slate-500 dark:text-slate-300 text-sm hover:text-purple-600 dark:hover:text-purple-300 font-medium flex items-center transition-colors bg-white/50 dark:bg-slate-700/50 px-3 py-1 rounded-full",children:[s.dashboard.viewStudents," ",m.jsx(mb,{size:14,className:"ml-1"})]})]}),m.jsx("div",{className:"p-6 flex-1 min-h-[300px]",children:i.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 py-8",children:[m.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-3 animate-pulse",children:m.jsx(PE,{size:32,className:"text-green-500 dark:text-green-400"})}),m.jsx("p",{className:"font-hand text-xl text-slate-500 dark:text-slate-400",children:s.dashboard.allClear})]}):m.jsx("div",{className:"space-y-4",children:i.map(v=>m.jsx("div",{className:"flex items-start p-4 bg-white/60 dark:bg-slate-700/40 hover:bg-white/90 dark:hover:bg-slate-700/80 rounded-2xl border border-white/50 dark:border-slate-600/30 shadow-sm transition-all hover:scale-[1.02] cursor-default group",children:m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:v.studentName}),m.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full uppercase tracking-wider font-bold
                           ${v.type==="Conducta"?"bg-red-100 text-red-600 dark:bg-red-900/40 dark:text-red-300":v.type==="Positivo"?"bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-300":"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-300"}
                        `,children:s.students.types[v.type]||v.type})]}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-body leading-relaxed",children:v.description}),m.jsxs("p",{className:"text-xs text-slate-400 mt-2 font-mono opacity-60 flex items-center",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 dark:bg-slate-500 rounded-full mr-2"}),new Date(v.date).toLocaleDateString()]})]})},v.id))})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 shadow-xl shadow-purple-100/50 dark:shadow-black/40",children:[m.jsx("div",{className:"absolute inset-0 bg-watercolor-blue opacity-90 dark:opacity-60 z-0"}),m.jsx("div",{className:"absolute inset-0 bg-slate-900/20 dark:block hidden z-0"}),m.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-white/20 rounded-full blur-2xl"}),m.jsx("div",{className:"absolute top-10 right-10 w-20 h-20 bg-purple-400/20 rounded-full blur-xl"}),m.jsxs("div",{className:"relative z-10 text-white",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:s.dashboard.quickActions.title}),m.jsx("p",{className:"text-blue-50 mb-8 font-medium font-body opacity-90",children:s.dashboard.quickActions.desc}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs(co,{to:"/students",className:"group bg-white/20 hover:bg-white/30 p-5 rounded-2xl text-center transition-all backdrop-blur-md border border-white/20 hover:border-white/40",children:[m.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:m.jsx(ho,{size:20,className:"text-white"})}),m.jsx("span",{className:"block font-bold text-sm tracking-wide",children:s.dashboard.quickActions.newIntervention})]}),m.jsxs(co,{to:"/notes",className:"group bg-white/20 hover:bg-white/30 p-5 rounded-2xl text-center transition-all backdrop-blur-md border border-white/20 hover:border-white/40",children:[m.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:m.jsx(jc,{size:20,className:"text-white"})}),m.jsx("span",{className:"block font-bold text-sm tracking-wide",children:s.dashboard.quickActions.createNote})]})]})]})]}),m.jsxs("div",{className:"glass-panel p-6 rounded-3xl flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-hand text-xl text-slate-600 dark:text-slate-300 mb-1",children:'"Teaching is the one profession that creates all other professions."'}),m.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 uppercase tracking-widest font-bold",children:" Unknown"})]}),m.jsx(jf,{className:"text-yellow-400 opacity-50"})]})]})]})]})},lk=()=>{const{t:s}=ur(),t=vs(),[a,i]=O.useState([]),[o,c]=O.useState([]),[f,y]=O.useState(""),[p,v]=O.useState(null),[_,T]=O.useState([]),[S,z]=O.useState([]),[Y,$]=O.useState([]),[G,Z]=O.useState("interventions"),[ie,te]=O.useState(!1),[ve,ce]=O.useState(!1),[be,N]=O.useState(!1),[A,k]=O.useState(!1),[D,I]=O.useState(null),[V,C]=O.useState(null),[tt,dt]=O.useState([]),[K,le]=O.useState([]),[ye,Oe]=O.useState(""),Ge=[{key:"adhd",label:s.students.specialNeedsOptions.adhd},{key:"dyslexia",label:s.students.specialNeedsOptions.dyslexia},{key:"asd",label:s.students.specialNeedsOptions.asd},{key:"highAbilities",label:s.students.specialNeedsOptions.highAbilities},{key:"reinforcement",label:s.students.specialNeedsOptions.reinforcement}],j=async()=>{const[X,U]=await Promise.all([Ye.getItems("students"),Ye.getItems("classes")]);i(X),c(U)};O.useEffect(()=>{j()},[]),O.useEffect(()=>{if(t.state&&t.state.studentId&&a.length>0){const X=a.find(U=>U.id===t.state.studentId);X&&v(X)}},[t.state,a]),O.useEffect(()=>{p&&p.id&&W(p.id)},[p]);const W=async X=>{const[U,ne,xe]=await Promise.all([Ye.getItems("interventions"),Ye.getItems("grades"),Ye.getItems("follow_up_notes")]);T(U.filter(me=>me.studentId===X).sort((me,Ae)=>Ae.date-me.date)),z(ne.filter(me=>me.studentId===X).sort((me,Ae)=>Ae.date-me.date)),$(xe.filter(me=>me.studentId===X).sort((me,Ae)=>Ae.date-me.date))},ue=X=>{X?(I(X),dt(X.groups||[]),le(X.specialNeeds||[])):(I(null),dt([]),le([])),te(!0)},de=async X=>{X.preventDefault();const U=X.target,ne=new FormData(U),xe={firstName:ne.get("firstName"),lastName:ne.get("lastName"),groups:tt,contactInfo:ne.get("contactInfo"),specialNeeds:K};D&&D.id?(await Ye.updateItem("students",D.id,xe),p&&p.id===D.id&&v({...p,...xe})):(xe.createdAt=Date.now(),await Ye.addItem("students",xe)),te(!1),j()},Te=X=>{C(X||null),N(!0)},Ne=async X=>{if(X.preventDefault(),!p||!p.id)return;const U=X.target,ne=new FormData(U),xe={studentId:p.id,classGroupId:ne.get("classGroupId"),title:ne.get("title"),grade:parseFloat(ne.get("grade")),type:ne.get("type"),date:V?V.date:Date.now()};V&&V.id?await Ye.updateItem("grades",V.id,xe):await Ye.addItem("grades",xe),N(!1),W(p.id)},ze=async X=>{if(X.preventDefault(),!p||!p.id)return;const U=X.target,ne=new FormData(U);await Ye.addItem("interventions",{studentId:p.id,studentName:`${p.firstName} ${p.lastName}`,type:ne.get("type"),description:ne.get("description"),status:"pendiente",date:Date.now()}),ce(!1),W(p.id)},bt=async X=>{if(!X.id)return;const U=X.status==="pendiente"?"resuelto":"pendiente";await Ye.updateItem("interventions",X.id,{status:U}),p!=null&&p.id&&W(p.id)},rt=async X=>{if(X.preventDefault(),!p||!p.id)return;const U=X.target,ne=new FormData(U);await Ye.addItem("follow_up_notes",{studentId:p.id,title:ne.get("title"),content:ne.get("content"),date:Date.now()}),k(!1),W(p.id)},Zn=X=>{dt(U=>U.includes(X)?U.filter(ne=>ne!==X):[...U,X])},Jn=X=>{le(U=>U.includes(X)?U.filter(ne=>ne!==X):[...U,X])},jn=()=>{ye.trim()&&!K.includes(ye.trim())&&(le(X=>[...X,ye.trim()]),Oe(""))},Mn=X=>!X.groups||X.groups.length===0?"Sin grupo":(X.groups||[]).map(U=>{var ne;return(ne=o.find(xe=>xe.id===U))==null?void 0:ne.name}).filter(Boolean).join(", "),dn=a.filter(X=>{const U=`${X.firstName} ${X.lastName}`.toLowerCase(),ne=(X.groups||[]).map(me=>{var Ae;return((Ae=o.find(Xe=>Xe.id===me))==null?void 0:Ae.name)||""}).join(" ").toLowerCase(),xe=f.toLowerCase();return U.includes(xe)||ne.includes(xe)});return m.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-8rem)] gap-6",children:[m.jsxs("div",{className:`w-full md:w-1/3 glass-panel rounded-3xl flex flex-col overflow-hidden transition-all duration-300 ${p?"hidden md:flex":"flex"}`,children:[m.jsxs("div",{className:"p-5 border-b border-slate-100/50 dark:border-slate-700/50 space-y-3 bg-white/40 dark:bg-slate-800/40",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-slate-800 dark:text-slate-100 text-xl font-sans tracking-tight",children:s.students.title}),m.jsx("button",{onClick:()=>ue(),className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 shadow-sm transition-all hover:scale-105",children:m.jsx($s,{size:20})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pb,{className:"absolute left-3 top-3 text-slate-400",size:16}),m.jsx("input",{type:"text",placeholder:s.students.searchPlaceholder,className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-800 text-sm placeholder-slate-400 text-slate-700 dark:text-slate-200 transition-all shadow-sm",value:f,onChange:X=>y(X.target.value)})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:dn.map(X=>m.jsxs("div",{onClick:()=>v(X),className:`p-4 rounded-2xl cursor-pointer transition-all duration-200 flex items-center
                ${(p==null?void 0:p.id)===X.id?"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/40 dark:to-blue-900/40 shadow-sm border border-purple-100 dark:border-purple-800":"hover:bg-white/40 dark:hover:bg-slate-700/40 hover:pl-5 border border-transparent"}
              `,children:[m.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mr-3 shadow-sm ${(p==null?void 0:p.id)===X.id?"bg-white dark:bg-slate-700 text-purple-600 dark:text-purple-300":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"}`,children:[X.firstName.charAt(0),X.lastName.charAt(0)]}),m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:`font-semibold text-sm ${(p==null?void 0:p.id)===X.id?"text-slate-800 dark:text-slate-200":"text-slate-700 dark:text-slate-300"}`,children:[X.firstName," ",X.lastName]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[150px] font-body",children:Mn(X)})]}),(X.specialNeeds||[]).length>0&&m.jsx(kE,{size:14,className:"text-amber-400"})]})})]},X.id))})]}),m.jsx("div",{className:`flex-1 glass-panel rounded-3xl flex flex-col overflow-hidden relative ${p?"flex":"hidden md:flex"}`,children:p?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-blue-50/50 dark:from-blue-900/30 to-transparent pointer-events-none"}),m.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100/50 dark:border-slate-700/50 relative z-10",children:[m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>v(null),className:"md:hidden text-slate-500 dark:text-slate-400 mb-2 text-sm flex items-center font-medium bg-white/50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[" ",s.students.back]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 font-sans tracking-tight",children:[p.firstName," ",p.lastName]}),m.jsx("button",{onClick:()=>ue(p),className:"p-2 text-slate-400 hover:text-purple-600 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/50 rounded-xl transition",title:s.students.editStudent,children:m.jsx(Ic,{size:16})})]}),m.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-3 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[m.jsxs("span",{className:"flex items-center bg-white/60 dark:bg-slate-800/60 px-2 py-1 rounded-lg border border-white/50 dark:border-slate-700",children:[m.jsx(AT,{size:14,className:"mr-2 text-blue-400"})," ",Mn(p)]}),m.jsxs("span",{className:"flex items-center bg-white/60 dark:bg-slate-800/60 px-2 py-1 rounded-lg border border-white/50 dark:border-slate-700",children:[m.jsx(vT,{size:14,className:"mr-2 text-green-400"})," ",p.contactInfo]})]}),m.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:(p.specialNeeds||[]).map((X,U)=>m.jsx("span",{className:"px-3 py-1 bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs rounded-full border border-amber-100 dark:border-amber-800/50 font-bold tracking-wide shadow-sm",children:X},U))})]})}),m.jsx("div",{className:"flex space-x-2 bg-slate-100/50 dark:bg-slate-800/50 p-1.5 rounded-2xl w-full md:w-fit",children:["interventions","grades","followup"].map(X=>m.jsx("button",{onClick:()=>Z(X),className:`flex-1 md:flex-none px-6 py-2 rounded-xl text-sm font-bold transition-all duration-300
                       ${G===X?"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 shadow-sm transform scale-100":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/40 dark:hover:bg-slate-700/40"}
                    `,children:s.students.tabs[X]},X))})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-transparent",children:[G==="interventions"&&m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase flex items-center tracking-wider",children:[m.jsx(aT,{size:16,className:"mr-2"})," ",s.students.history]}),m.jsxs("button",{onClick:()=>ce(!0),className:"text-xs bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-xl hover:bg-slate-700 dark:hover:bg-slate-600 flex items-center shadow-lg shadow-slate-200 dark:shadow-none transition-transform hover:scale-105",children:[m.jsx($s,{size:14,className:"mr-1"})," ",s.students.addIntervention]})]}),m.jsxs("div",{className:"space-y-4",children:[_.length===0&&m.jsx("div",{className:"text-center py-10 text-slate-400 dark:text-slate-500 font-hand text-lg",children:s.students.noRecords}),_.map(X=>m.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/40 backdrop-blur-sm p-5 rounded-2xl border border-white dark:border-slate-700 shadow-sm relative group hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider
                            ${X.type==="Conducta"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400":X.type==="Positivo"?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":X.type==="Acadmico"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300"}
                          `,children:s.students.types[X.type]||X.type}),m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-mono",children:new Date(X.date).toLocaleDateString()})]}),m.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4 font-body leading-relaxed",children:X.description}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:()=>bt(X),className:`text-xs px-4 py-1.5 rounded-full border transition-all font-medium flex items-center
                              ${X.status==="resuelto"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800":"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 border-amber-200 dark:border-amber-800/50 hover:bg-green-50 dark:hover:bg-green-900/20 hover:text-green-600 hover:border-green-200"}
                            `,children:[X.status==="resuelto"&&m.jsx(Dc,{size:12,className:"mr-1"}),X.status==="resuelto"?s.students.status.resolved:s.students.status.markResolved]})})]},X.id))]})]}),G==="grades"&&m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase flex items-center tracking-wider",children:[m.jsx(dm,{size:16,className:"mr-2"})," ",s.students.grades]}),m.jsxs("button",{onClick:()=>Te(),className:"text-xs bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-xl hover:bg-slate-700 dark:hover:bg-slate-600 flex items-center shadow-lg shadow-slate-200 dark:shadow-none transition-transform hover:scale-105",children:[m.jsx($s,{size:14,className:"mr-1"})," ",s.students.addGrade]})]}),(!p.groups||p.groups.length===0)&&m.jsx("p",{className:"text-slate-400 italic text-sm font-hand",children:"Este alumno no est asignado a ninguna clase."}),m.jsx("div",{className:"space-y-6",children:(p.groups||[]).map(X=>{const U=o.find(Ve=>Ve.id===X),ne=S.filter(Ve=>Ve.classGroupId===X);if(!U)return null;const xe=ne.filter(Ve=>Ve.type!=="final").map(Ve=>Ve.grade),me=xe.length?(xe.reduce((Ve,En)=>Ve+En,0)/xe.length).toFixed(1):"-",Ae=parseFloat(me),Xe=Ae>=5?"text-green-500 dark:text-green-400":Ae<5&&me!=="-"?"text-red-500 dark:text-red-400":"text-slate-400 dark:text-slate-500";return m.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/40 backdrop-blur-sm border border-white dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm",children:[m.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:U.name}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:U.subject})]}),m.jsxs("div",{className:"text-right bg-white dark:bg-slate-800 px-3 py-1 rounded-xl shadow-sm",children:[m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 uppercase font-bold tracking-wider",children:"Media"}),m.jsx("p",{className:`font-mono font-bold text-xl ${Xe}`,children:me})]})]}),m.jsx("div",{className:"p-4",children:ne.length===0?m.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 font-hand text-center py-4",children:"No hay notas registradas."}):m.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[m.jsx("thead",{className:"text-[10px] text-slate-400 dark:text-slate-500 uppercase font-bold tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"pb-3 pl-2",children:"Concepto"}),m.jsx("th",{className:"pb-3",children:"Tipo"}),m.jsx("th",{className:"pb-3 text-right pr-2",children:"Nota"}),m.jsx("th",{className:"w-8"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100/50 dark:divide-slate-700/50",children:ne.map(Ve=>m.jsxs("tr",{className:"group hover:bg-white/50 dark:hover:bg-slate-700/50 transition rounded-lg",children:[m.jsxs("td",{className:"py-3 pl-2 text-slate-700 dark:text-slate-300 font-medium",children:[Ve.title,m.jsx("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-mono opacity-70",children:new Date(Ve.date).toLocaleDateString()})]}),m.jsx("td",{className:"py-3",children:m.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase
                                            ${Ve.type==="exam"?"bg-red-50 dark:bg-red-900/30 text-red-500 dark:text-red-400":Ve.type==="work"?"bg-blue-50 dark:bg-blue-900/30 text-blue-500 dark:text-blue-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 ring-1 ring-purple-200 dark:ring-purple-800/50"}
                                          `,children:Ve.type==="exam"?"Examen":Ve.type==="work"?"Trabajo":"Final"})}),m.jsx("td",{className:`py-3 text-right font-mono font-bold text-base pr-2 ${Ve.grade<5?"text-red-400":"text-slate-700 dark:text-slate-200"}`,children:Ve.grade}),m.jsx("td",{className:"py-3 text-right",children:m.jsx("button",{onClick:()=>Te(Ve),className:"p-1.5 text-slate-300 dark:text-slate-600 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/50 rounded-lg opacity-0 group-hover:opacity-100 transition",title:s.students.editGrade,children:m.jsx(Ic,{size:14})})})]},Ve.id))})]})})]},X)})})]}),G==="followup"&&m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase flex items-center tracking-wider",children:[m.jsx(JE,{size:16,className:"mr-2"})," ",s.students.tabs.followup]}),m.jsxs("button",{onClick:()=>k(!0),className:"text-xs bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-xl hover:bg-slate-700 dark:hover:bg-slate-600 flex items-center shadow-lg shadow-slate-200 dark:shadow-none transition-transform hover:scale-105",children:[m.jsx($s,{size:14,className:"mr-1"})," ",s.students.addFollowUp]})]}),m.jsxs("div",{className:"relative pl-4 space-y-8",children:[m.jsx("div",{className:"absolute top-2 bottom-0 left-[27px] w-0.5 bg-gradient-to-b from-purple-200 via-blue-200 to-transparent dark:from-purple-900 dark:via-blue-900"}),Y.length===0&&m.jsx("div",{className:"text-center py-10 text-slate-400 dark:text-slate-500 font-hand text-lg",children:s.students.noRecords}),Y.map(X=>m.jsxs("div",{className:"relative pl-10 group",children:[m.jsx("div",{className:"absolute left-[20px] top-6 w-4 h-4 rounded-full bg-white dark:bg-slate-800 border-4 border-purple-300 dark:border-purple-700 shadow-sm z-10 transition-transform group-hover:scale-125 group-hover:border-purple-400 dark:group-hover:border-purple-600"}),m.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/60 backdrop-blur-sm p-6 rounded-3xl border border-white dark:border-slate-700 shadow-sm hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[m.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-blue-50 dark:bg-blue-900/20 rounded-full blur-2xl opacity-50 pointer-events-none"}),m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-baseline mb-4 pb-4 border-b border-slate-100/50 dark:border-slate-700/50",children:[m.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 font-sans tracking-tight",children:X.title}),m.jsxs("div",{className:"flex items-center text-xs text-purple-600 dark:text-purple-300 font-bold bg-purple-50 dark:bg-purple-900/30 px-3 py-1.5 rounded-full mt-2 sm:mt-0",children:[m.jsx(IE,{size:12,className:"mr-2"}),new Date(X.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),m.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-slate-600 dark:text-slate-300 whitespace-pre-wrap leading-relaxed font-body",children:X.content})})]})]},X.id))]})]})]})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 relative",children:[m.jsx("div",{className:"w-32 h-32 bg-white/40 dark:bg-slate-800/40 rounded-full flex items-center justify-center mb-6 shadow-sm backdrop-blur-sm",children:m.jsx(HT,{size:64,className:"text-slate-300/80 dark:text-slate-600"})}),m.jsx("p",{className:"font-hand text-xl opacity-70",children:s.students.selectPrompt})]})}),ie&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/95 rounded-3xl max-w-2xl w-full p-8 shadow-2xl max-h-[90vh] overflow-y-auto border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 font-sans",children:D?s.students.editStudent:s.students.newStudent}),m.jsx("button",{onClick:()=>te(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition",children:m.jsx(za,{className:"text-slate-400 hover:text-slate-600"})})]}),m.jsxs("form",{onSubmit:de,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.firstName}),m.jsx("input",{required:!0,name:"firstName",defaultValue:D==null?void 0:D.firstName,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-400 dark:focus:ring-purple-600 outline-none transition-shadow text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.lastName}),m.jsx("input",{required:!0,name:"lastName",defaultValue:D==null?void 0:D.lastName,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-400 dark:focus:ring-purple-600 outline-none transition-shadow text-slate-800 dark:text-slate-200"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.contact}),m.jsx("input",{name:"contactInfo",defaultValue:D==null?void 0:D.contactInfo,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-400 dark:focus:ring-purple-600 outline-none transition-shadow text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 ml-1",children:s.students.forms.group}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.length===0&&m.jsx("p",{className:"text-xs text-slate-400 italic",children:"Crea clases primero en el apartado 'Gelak'"}),o.map(X=>{const U=tt.includes(X.id);return m.jsxs("div",{onClick:()=>X.id&&Zn(X.id),className:`p-3 rounded-xl border cursor-pointer transition-all flex items-center justify-between
                             ${U?"bg-purple-50 dark:bg-purple-900/20 border-purple-300 dark:border-purple-600 shadow-sm":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-purple-200 dark:hover:border-purple-800"}
                           `,children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold
                                ${U?"bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                             `,children:X.name.substring(0,2)}),m.jsxs("div",{className:"text-sm",children:[m.jsx("p",{className:`font-bold ${U?"text-purple-900 dark:text-purple-300":"text-slate-700 dark:text-slate-300"}`,children:X.name}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:X.subject})]})]}),U&&m.jsx(Dc,{size:16,className:"text-purple-600 dark:text-purple-400"})]},X.id)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 ml-1",children:s.students.forms.tags}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Ge.map(X=>{const U=K.includes(X.label);return m.jsx("button",{type:"button",onClick:()=>Jn(X.label),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all border
                               ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border-amber-200 dark:border-amber-800 shadow-sm transform scale-105":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700 hover:border-amber-200"}
                            `,children:X.label},X.key)})}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:K.filter(X=>!Ge.some(U=>U.label===X)).map(X=>m.jsxs("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 border border-amber-200 dark:border-amber-800 flex items-center shadow-sm",children:[X,m.jsx("button",{type:"button",onClick:()=>Jn(X),className:"ml-2 hover:text-amber-900 dark:hover:text-amber-100",children:m.jsx(za,{size:12})})]},X))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{value:ye,onChange:X=>Oe(X.target.value),placeholder:s.students.forms.addTag,className:"flex-1 p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 outline-none text-slate-800 dark:text-slate-200",onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),jn())}}),m.jsx("button",{type:"button",onClick:jn,className:"px-5 py-2 bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl text-sm hover:bg-slate-300 dark:hover:bg-slate-600 font-bold",children:"+"})]})]}),m.jsx("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-4 rounded-2xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-xl shadow-slate-200 dark:shadow-none transition-all transform hover:-translate-y-1",children:D?s.students.forms.updateStudent:s.students.forms.saveStudent})})]})]})}),ve&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-md w-full p-8 shadow-2xl border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:s.students.addIntervention}),m.jsx("button",{onClick:()=>ce(!1),children:m.jsx(za,{className:"text-slate-400 hover:text-slate-600"})})]}),m.jsxs("form",{onSubmit:ze,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.type}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Conducta","Acadmico","Familia","Positivo"].map(X=>m.jsxs("label",{className:"cursor-pointer",children:[m.jsx("input",{type:"radio",name:"type",value:X,className:"peer sr-only",required:!0,defaultChecked:X==="Conducta"}),m.jsx("div",{className:"text-center py-2 rounded-xl text-sm font-medium bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 peer-checked:bg-purple-100 dark:peer-checked:bg-purple-900/30 peer-checked:text-purple-700 dark:peer-checked:text-purple-300 peer-checked:border-purple-300 dark:peer-checked:border-purple-700 transition-all",children:s.students.types[X]})]},X))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.description}),m.jsx("textarea",{required:!0,name:"description",rows:4,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 dark:focus:ring-purple-700 outline-none resize-none text-slate-800 dark:text-slate-200",placeholder:s.students.forms.descPlaceholder})]}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg transition-transform hover:-translate-y-1",children:s.students.forms.saveRecord})]})]})}),A&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-lg w-full p-8 shadow-2xl border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:s.students.addFollowUp}),m.jsx("button",{onClick:()=>k(!1),children:m.jsx(za,{className:"text-slate-400 hover:text-slate-600"})})]}),m.jsxs("form",{onSubmit:rt,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.followUpTitle}),m.jsx("input",{required:!0,name:"title",className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-300 dark:focus:ring-blue-700 outline-none text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.followUpContent}),m.jsx("textarea",{required:!0,name:"content",rows:8,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-300 dark:focus:ring-blue-700 outline-none resize-none text-slate-800 dark:text-slate-200",placeholder:s.students.forms.followUpContent})]}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg transition-transform hover:-translate-y-1",children:s.students.forms.saveRecord})]})]})}),be&&p&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-md w-full p-8 shadow-2xl border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:V?s.students.editGrade:s.students.addGrade}),m.jsx("button",{onClick:()=>N(!1),children:m.jsx(za,{className:"text-slate-400 hover:text-slate-600"})})]}),m.jsxs("form",{onSubmit:Ne,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:"Clase"}),m.jsx("select",{name:"classGroupId",className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 dark:focus:ring-purple-700 outline-none text-slate-800 dark:text-slate-200",required:!0,defaultValue:V==null?void 0:V.classGroupId,children:p.groups.map(X=>{const U=o.find(ne=>ne.id===X);return U?m.jsxs("option",{value:U.id,children:[U.name," - ",U.subject]},U.id):null})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.examTitle}),m.jsx("input",{required:!0,name:"title",defaultValue:V==null?void 0:V.title,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 dark:focus:ring-purple-700 outline-none text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.gradeValue}),m.jsx("input",{required:!0,type:"number",step:"0.1",min:"0",max:"10",name:"grade",defaultValue:V==null?void 0:V.grade,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 dark:focus:ring-purple-700 outline-none text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.students.forms.gradeType}),m.jsxs("select",{name:"type",defaultValue:(V==null?void 0:V.type)||"exam",className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 dark:focus:ring-purple-700 outline-none text-slate-800 dark:text-slate-200",children:[m.jsx("option",{value:"exam",children:"Examen"}),m.jsx("option",{value:"work",children:"Trabajo/Deberes"}),m.jsx("option",{value:"final",children:"Evaluacin Final"})]})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg transition-transform hover:-translate-y-1",children:s.students.forms.saveRecord})]})]})})]})},Fv=[{bg:"bg-yellow-100",hex:"#fef9c3",rotate:"rotate-1"},{bg:"bg-blue-100",hex:"#dbeafe",rotate:"-rotate-1"},{bg:"bg-green-100",hex:"#dcfce7",rotate:"rotate-2"},{bg:"bg-rose-100",hex:"#ffe4e6",rotate:"-rotate-2"}],ok=()=>{const{t:s}=ur(),[t,a]=O.useState([]),[i,o]=O.useState(!1),[c,f]=O.useState(""),[y,p]=O.useState(Fv[0].hex),v=async()=>{const S=await Ye.getItems("quick_notes");a(S.filter(z=>!z.isArchived).sort((z,Y)=>Y.createdAt-z.createdAt))};O.useEffect(()=>{v()},[]);const _=async()=>{c.trim()&&(await Ye.addItem("quick_notes",{content:c,color:y,isArchived:!1,createdAt:Date.now()}),f(""),o(!1),v())},T=async S=>{await Ye.updateItem("quick_notes",S,{isArchived:!0}),v()};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-10",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 font-sans tracking-tight",children:s.notes.title}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-hand text-lg mt-1",children:"Capture your thoughts instantly"})]}),m.jsxs("button",{onClick:()=>o(!0),className:"bg-slate-800 dark:bg-slate-700 text-white px-5 py-2.5 rounded-2xl flex items-center shadow-lg shadow-slate-300 dark:shadow-none hover:bg-slate-700 dark:hover:bg-slate-600 transition-all hover:scale-105 font-bold",children:[m.jsx($s,{size:20,className:"mr-2"})," ",s.notes.newNote]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:[i&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-sm shadow-xl flex flex-col h-72 transform rotate-1 transition-all duration-300 relative animate-in fade-in zoom-in-95 dark:border dark:border-slate-700",style:{boxShadow:"5px 5px 15px rgba(0,0,0,0.1)"},children:[m.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-24 h-6 bg-purple-200/60 dark:bg-purple-900/60 rotate-2 backdrop-blur-sm z-10"}),m.jsx("textarea",{autoFocus:!0,className:"flex-1 w-full resize-none outline-none text-slate-700 dark:text-slate-200 bg-transparent placeholder:text-slate-400 font-hand text-xl leading-relaxed",placeholder:s.notes.placeholder,value:c,onChange:S=>f(S.target.value)}),m.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 border-dashed",children:[m.jsx("div",{className:"flex space-x-2",children:Fv.map(S=>m.jsx("button",{onClick:()=>p(S.hex),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 ${y===S.hex?"ring-2 ring-slate-300 scale-110":""}`,style:{backgroundColor:S.hex}},S.hex))}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(za,{size:18})}),m.jsx("button",{onClick:_,className:"px-4 py-1.5 bg-slate-800 dark:bg-slate-700 text-white text-sm rounded-lg hover:bg-slate-700 dark:hover:bg-slate-600 font-bold shadow-sm",children:s.notes.save})]})]})]}),t.map((S,z)=>{const Y=z%2===0?"rotate-1":"-rotate-1";return m.jsxs("div",{className:`p-6 shadow-md hover:shadow-xl transition-all duration-300 flex flex-col min-h-[280px] relative group transform hover:scale-105 hover:z-10 hover:rotate-0 ${Y}`,style:{backgroundColor:S.color,boxShadow:"4px 4px 12px rgba(0,0,0,0.05)"},children:[m.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-24 h-6 bg-white/40 backdrop-blur-sm shadow-sm rotate-1 z-10 opacity-70"}),m.jsx("p",{className:"text-slate-800 whitespace-pre-wrap flex-1 font-hand text-xl leading-relaxed mt-2",children:S.content}),m.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("button",{onClick:()=>S.id&&T(S.id),className:"p-2 bg-white/50 hover:bg-white rounded-full text-slate-600 hover:text-red-500 shadow-sm",title:"Archivar",children:m.jsx(bo,{size:16})})}),m.jsxs("div",{className:"mt-4 pt-2 border-t border-slate-900/5 text-xs text-slate-600/70 font-mono flex justify-between items-center",children:[m.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()}),m.jsx(xT,{size:12,className:"opacity-20"})]})]},S.id)})]})]})},uk=()=>{const{t:s,language:t}=ur(),[a,i]=O.useState([]),[o,c]=O.useState(""),[f,y]=O.useState(null),[p,v]=O.useState(!1),[_,T]=O.useState(null),[S,z]=O.useState({isOpen:!1,resourceId:null}),Y=async()=>{const ce=await Ye.getItems("resources");i(ce)};O.useEffect(()=>{Y()},[]);const $=(ce,be)=>{navigator.clipboard.writeText(ce),y(be),setTimeout(()=>y(null),2e3)},G=ce=>{T(ce||null),v(!0)},Z=async ce=>{ce.preventDefault();const be=ce.target,N=new FormData(be),A={title:N.get("title"),url:N.get("url"),category:N.get("category"),tags:N.get("tags").split(",").map(k=>k.trim()).filter(Boolean),isFavorite:!1};_&&_.id?await Ye.updateItem("resources",_.id,A):await Ye.addItem("resources",A),v(!1),Y()},ie=ce=>{z({isOpen:!0,resourceId:ce})},te=async()=>{S.resourceId&&(await Ye.deleteItem("resources",S.resourceId),z({isOpen:!1,resourceId:null}),Y())},ve=a.filter(ce=>ce.title.toLowerCase().includes(o.toLowerCase())||(ce.tags||[]).some(be=>be.toLowerCase().includes(o.toLowerCase())));return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 font-sans tracking-tight",children:s.resources.title}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-hand text-lg mt-1",children:t==="eu"?"Antolatu zure material didaktikoa.":"Organiza tu material didctico."})]}),m.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"relative flex-1 md:w-64",children:[m.jsx(pb,{className:"absolute left-3 top-3 text-slate-400",size:16}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-200 outline-none shadow-sm transition-all text-slate-800 dark:text-slate-200",placeholder:s.resources.searchPlaceholder,value:o,onChange:ce=>c(ce.target.value)})]}),m.jsxs("button",{onClick:()=>G(),className:"bg-slate-800 dark:bg-slate-700 text-white px-5 py-2.5 rounded-xl hover:bg-slate-700 dark:hover:bg-slate-600 font-bold shadow-lg shadow-slate-200 dark:shadow-none transition-transform hover:scale-105 flex items-center",children:[m.jsx($s,{size:18,className:"mr-2"}),s.resources.add]})]})]}),m.jsx("div",{className:"glass-panel rounded-3xl overflow-hidden border border-white dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-white/40 dark:bg-slate-800/40 border-b border-slate-100/50 dark:border-slate-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-5 font-bold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider",children:s.resources.table.resource}),m.jsx("th",{className:"p-5 font-bold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider hidden md:table-cell",children:s.resources.table.tags}),m.jsx("th",{className:"p-5 font-bold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider w-32 text-right",children:s.resources.table.action})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100/50 dark:divide-slate-700/50",children:[ve.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"p-10 text-center text-slate-400 dark:text-slate-500 font-hand text-lg",children:s.resources.noResources})}),ve.map(ce=>m.jsxs("tr",{className:"hover:bg-white/40 dark:hover:bg-slate-700/40 transition group",children:[m.jsxs("td",{className:"p-5",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-lg font-sans",children:ce.title}),m.jsxs("a",{href:ce.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline truncate block max-w-xs flex items-center mt-1 font-medium",children:[ce.url," ",m.jsx($E,{size:10,className:"ml-1"})]})]}),m.jsx("td",{className:"p-5 hidden md:table-cell",children:m.jsx("div",{className:"flex gap-2 flex-wrap",children:(ce.tags||[]).map((be,N)=>m.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx(VT,{size:10,className:"mr-1.5 opacity-50 text-purple-400"})," ",be]},N))})}),m.jsx("td",{className:"p-5 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>ce.url&&$(ce.url,ce.id||""),className:"p-2 text-slate-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition",title:"Copiar Enlace",children:f===ce.id?m.jsx(Dc,{size:16}):m.jsx(QE,{size:16})}),m.jsx("button",{onClick:()=>G(ce),className:"p-2 text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition",title:"Editar",children:m.jsx(Ic,{size:16})}),m.jsx("button",{onClick:()=>ce.id&&ie(ce.id),className:"p-2 text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition",title:"Borrar",children:m.jsx(bo,{size:16})})]})})]},ce.id))]})]})}),p&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-lg w-full p-8 shadow-2xl border border-white dark:border-slate-800 animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 font-sans",children:_?t==="eu"?"Baliabidea Editatu":"Editar Recurso":s.resources.add}),m.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition",children:m.jsx(za,{className:"text-slate-400"})})]}),m.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.resources.forms.title}),m.jsx("input",{required:!0,name:"title",defaultValue:_==null?void 0:_.title,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-300 outline-none transition-shadow text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.resources.forms.url}),m.jsx("input",{required:!0,name:"url",defaultValue:_==null?void 0:_.url,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-300 outline-none transition-shadow font-mono text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:s.resources.forms.tags}),m.jsx("input",{name:"tags",defaultValue:_==null?void 0:_.tags.join(", "),placeholder:"pdf, mates, examen...",className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-300 outline-none transition-shadow text-slate-800 dark:text-slate-200"})]}),m.jsx("div",{className:"pt-4",children:m.jsxs("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg transition-transform hover:-translate-y-1 flex items-center justify-center",children:[m.jsx(gb,{size:18,className:"mr-2"}),s.resources.forms.save]})})]})]})}),S.isOpen&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/30 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl max-w-sm w-full p-8 shadow-2xl border border-white dark:border-slate-800 animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6 animate-pulse",children:m.jsx(yb,{size:32,className:"text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-2 font-sans",children:t==="eu"?"Baliabidea ezabatu?":"Eliminar recurso?"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-8 font-body",children:t==="eu"?"Ekintza hau ezin da desegin.":"Esta accin no se puede deshacer."}),m.jsxs("div",{className:"flex gap-4 w-full",children:[m.jsx("button",{onClick:()=>z({isOpen:!1,resourceId:null}),className:"flex-1 py-3 px-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition",children:t==="eu"?"Utzi":"Cancelar"}),m.jsx("button",{onClick:te,className:"flex-1 py-3 px-4 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition shadow-lg shadow-red-200 dark:shadow-none",children:t==="eu"?"Ezabatu":"Eliminar"})]})]})})})]})},Rf="teacher_mate_firebase_config",ck=()=>{const{t:s}=ur(),[t,a]=O.useState(rk()),[i,o]=O.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""});O.useEffect(()=>{const p=localStorage.getItem(Rf);p&&o(JSON.parse(p))},[]);const c=p=>{o({...i,[p.target.name]:p.target.value})},f=()=>{localStorage.setItem(Rf,JSON.stringify(i)),window.location.reload()},y=()=>{localStorage.removeItem(Rf),window.location.reload()};return m.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:s.settings.title}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:s.settings.subtitle})]}),m.jsxs("div",{className:`p-4 rounded-xl border flex items-center space-x-4 
        ${t==="connected"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-300"}`,children:[m.jsx("div",{className:`p-2 rounded-full ${t==="connected"?"bg-green-100 dark:bg-green-800/40":"bg-amber-100 dark:bg-amber-800/40"}`,children:t==="connected"?m.jsx(GE,{size:24}):m.jsx(KE,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase font-bold tracking-wider opacity-70",children:s.settings.status.label}),m.jsx("p",{className:"font-semibold",children:t==="connected"?s.settings.status.connected:s.settings.status.mock})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s.settings.form.apiKey}),m.jsx("input",{name:"apiKey",value:i.apiKey,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s.settings.form.projectId}),m.jsx("input",{name:"projectId",value:i.projectId,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s.settings.form.authDomain}),m.jsx("input",{name:"authDomain",value:i.authDomain,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Storage Bucket"}),m.jsx("input",{name:"storageBucket",value:i.storageBucket,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Messaging Sender ID"}),m.jsx("input",{name:"messagingSenderId",value:i.messagingSenderId,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"App ID"}),m.jsx("input",{name:"appId",value:i.appId,onChange:c,className:"w-full p-2 border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm text-slate-800 dark:text-slate-200"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsx("p",{className:"text-xs text-slate-400 italic",children:s.settings.warning}),m.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t==="connected"&&m.jsxs("button",{onClick:y,className:"flex-1 md:flex-none px-4 py-2 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center justify-center",children:[m.jsx(bo,{size:18,className:"mr-2"})," ",s.settings.form.clear]}),m.jsxs("button",{onClick:f,className:"flex-1 md:flex-none px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center justify-center shadow-lg shadow-indigo-200 dark:shadow-none",children:[m.jsx(gb,{size:18,className:"mr-2"})," ",s.settings.form.save]})]})]})]})]})},dk=()=>{const{t:s,language:t}=ur(),[a,i]=O.useState(new Date),[o,c]=O.useState("month"),[f,y]=O.useState([]),[p,v]=O.useState([]),[_,T]=O.useState([]),[S,z]=O.useState(null),[Y,$]=O.useState(!1),[G,Z]=O.useState(!1),[ie,te]=O.useState(!1),[ve,ce]=O.useState({isOpen:!1,eventId:null}),[be,N]=O.useState(null),[A,k]=O.useState(""),[D,I]=O.useState(""),V=async()=>{const[U,ne,xe]=await Promise.all([Ye.getItems("events"),Ye.getItems("interventions"),Ye.getItems("quick_notes")]);y(U),v(ne),T(xe.filter(me=>!me.isArchived))};O.useEffect(()=>{V()},[]);const C=(U,ne)=>new Date(U,ne+1,0).getDate(),tt=(U,ne)=>{let xe=new Date(U,ne,1).getDay();return xe===0?6:xe-1},dt=U=>{const ne=new Date(U),xe=ne.getDay(),me=ne.getDate()-xe+(xe===0?-6:1);return new Date(ne.setDate(me))},K=U=>{const ne=new Date(a);o==="month"?ne.setMonth(ne.getMonth()+U):ne.setDate(ne.getDate()+U*7),i(ne)},le=U=>{const ne=new Date(U),xe=ne.getHours().toString().padStart(2,"0"),me=ne.getMinutes().toString().padStart(2,"0");return`${xe}:${me}`},ye=(U,ne)=>{U.dataTransfer.setData("note",JSON.stringify(ne))},Oe=(U,ne)=>{if(be){U.preventDefault();return}U.stopPropagation(),U.dataTransfer.setData("eventId",ne),U.dataTransfer.effectAllowed="move",Z(!0)},Ge=()=>{Z(!1),te(!1)},j=async(U,ne)=>{U.preventDefault();const xe=U.dataTransfer.getData("note");if(!xe)return;const me=JSON.parse(xe);me.id&&T(Xe=>Xe.filter(Ve=>Ve.id!==me.id));const Ae=new Date(ne);Ae.setHours(9,0,0,0),await Ye.addItem("events",{title:me.content,date:Ae.getTime(),type:"general",linkedNoteId:me.id}),me.id&&await Ye.updateItem("quick_notes",me.id,{isArchived:!0}),V()},W=U=>{U.preventDefault(),te(!0)},ue=()=>{te(!1)},de=U=>{U.preventDefault(),te(!1),Z(!1);const ne=U.dataTransfer.getData("eventId");ne&&ze(ne)},Te=U=>{U.preventDefault()},Ne=async U=>{if(U.preventDefault(),!S)return;const ne=U.target,xe=new FormData(ne),me=xe.get("time"),[Ae,Xe]=me.split(":").map(Number),Ve=new Date(S);Ve.setHours(Ae||0,Xe||0),await Ye.addItem("events",{title:xe.get("title"),type:xe.get("type"),date:Ve.getTime()}),V(),ne.reset()},ze=U=>{ce({isOpen:!0,eventId:U})},bt=async()=>{const{eventId:U}=ve;if(U){y(ne=>ne.filter(xe=>xe.id!==U)),ce({isOpen:!1,eventId:null});try{await Ye.deleteItem("events",U),await V()}catch(ne){console.error("Delete failed",ne),V()}}},rt=()=>{ce({isOpen:!1,eventId:null})},Zn=U=>{N(U.id||null);const ne=new Date(U.date),xe=ne.getFullYear()+"-"+(ne.getMonth()+1).toString().padStart(2,"0")+"-"+ne.getDate().toString().padStart(2,"0"),me=ne.getHours().toString().padStart(2,"0")+":"+ne.getMinutes().toString().padStart(2,"0");k(xe),I(me)},Jn=async U=>{if(!A)return;const[ne,xe,me]=A.split("-").map(Number),[Ae,Xe]=D?D.split(":").map(Number):[0,0],Ve=new Date(ne,xe-1,me,Ae,Xe).getTime();y(En=>En.map(it=>it.id===U?{...it,date:Ve}:it)),N(null),await Ye.updateItem("events",U,{date:Ve}),V()},jn=U=>t==="eu"?["Al","Ar","Az","Og","Or","Lr","Ig"][U]:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][U],Mn=U=>m.jsxs("div",{draggable:!!U.id,onDragStart:ne=>U.id&&Oe(ne,U.id),onDragEnd:Ge,className:`text-[10px] py-1 px-1.5 rounded-lg shadow-sm truncate flex items-center cursor-grab active:cursor-grabbing border-l-4 transition-transform hover:scale-[1.02] mb-1
          ${U.type==="exam"?"bg-red-50 dark:bg-red-900/30 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300":U.type==="meeting"?"bg-orange-50 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300":"bg-blue-50 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300"}
        `,children:[m.jsx("span",{className:"font-mono opacity-70 mr-1",children:le(U.date)}),m.jsx("span",{className:"truncate font-medium",children:U.title})]},U.id),dn=()=>{const U=a.getFullYear(),ne=a.getMonth(),xe=C(U,ne),me=tt(U,ne),Ae=[];for(let Xe=0;Xe<me;Xe++)Ae.push(m.jsx("div",{className:"bg-slate-50/20 dark:bg-slate-800/20 border-r border-b border-slate-100/50 dark:border-slate-700/50"},`empty-${Xe}`));for(let Xe=1;Xe<=xe;Xe++){const Ve=new Date(U,ne,Xe).setHours(0,0,0,0),En=new Date(U,ne,Xe).setHours(23,59,59,999);let it=f.filter(Kt=>Kt.date>=Ve&&Kt.date<=En);it.sort((Kt,Ga)=>Kt.date-Ga.date);const Et=p.filter(Kt=>new Date(Kt.date).setHours(0,0,0,0)===Ve),Wn=new Date().toDateString()===new Date(U,ne,Xe).toDateString(),hr=it.length+Et.length;let Vn="bg-white/40 dark:bg-slate-800/40 hover:bg-white/80 dark:hover:bg-slate-800/80";hr>=3&&(Vn="bg-blue-50/40 dark:bg-blue-900/20 hover:bg-blue-50/70 dark:hover:bg-blue-900/30"),Wn&&(Vn="bg-purple-50/50 dark:bg-purple-900/30 hover:bg-purple-50/80 dark:hover:bg-purple-900/50 ring-2 ring-purple-200 dark:ring-purple-700 ring-inset z-10"),Ae.push(m.jsxs("div",{onDrop:Kt=>j(Kt,Ve),onDragOver:Te,onClick:()=>{z(new Date(U,ne,Xe)),$(!0)},className:`relative border-r border-b border-slate-100/50 dark:border-slate-700/50 p-2 transition-all duration-300 cursor-pointer overflow-hidden group ${Vn}`,children:[m.jsx("span",{className:`text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full transition-colors ${Wn?"bg-purple-500 text-white shadow-md":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}`,children:Xe}),m.jsxs("div",{className:"mt-1 flex flex-col gap-0.5 overflow-hidden h-full",children:[Et.length>0&&m.jsx("div",{className:"flex flex-wrap gap-1 mb-1 justify-end absolute top-3 right-3",children:Et.map((Kt,Ga)=>m.jsx("div",{title:Kt.type,className:`w-1.5 h-1.5 rounded-full ring-1 ring-white dark:ring-slate-800 ${Kt.type==="Conducta"?"bg-red-400":"bg-green-400"}`},Ga))}),it.slice(0,4).map(Kt=>Mn(Kt)),it.length>4&&m.jsxs("div",{className:"text-[10px] text-slate-400 font-bold text-center bg-white/50 dark:bg-slate-700/50 rounded-full py-0.5",children:["+",it.length-4]})]})]},Xe))}return Ae},X=()=>{const U=dt(a),ne=[];for(let xe=0;xe<7;xe++){const me=new Date(U);me.setDate(U.getDate()+xe);const Ae=new Date(me).setHours(0,0,0,0),Xe=new Date(me).setHours(23,59,59,999),Ve=new Date().toDateString()===me.toDateString();let En=f.filter(Et=>Et.date>=Ae&&Et.date<=Xe);En.sort((Et,Wn)=>Et.date-Wn.date);const it=p.filter(Et=>new Date(Et.date).setHours(0,0,0,0)===Ae);ne.push(m.jsxs("div",{onDrop:Et=>j(Et,Ae),onDragOver:Te,onClick:()=>{z(me),$(!0)},className:`flex-1 border-r border-slate-100/50 dark:border-slate-700/50 min-h-0 flex flex-col relative group transition-colors ${Ve?"bg-purple-50/30 dark:bg-purple-900/20":"bg-white/20 dark:bg-slate-800/20 hover:bg-white/40 dark:hover:bg-slate-800/40"}`,children:[m.jsxs("div",{className:`text-center py-2 border-b border-slate-100/50 dark:border-slate-700/50 ${Ve?"bg-purple-100/50 dark:bg-purple-900/30":"bg-white/40 dark:bg-slate-800/40"}`,children:[m.jsx("div",{className:"text-xs uppercase text-slate-500 dark:text-slate-400 font-bold",children:jn(xe)}),m.jsx("div",{className:`text-lg font-bold mx-auto w-8 h-8 flex items-center justify-center rounded-full mt-1 ${Ve?"bg-purple-500 text-white shadow-md":"text-slate-700 dark:text-slate-300"}`,children:me.getDate()})]}),m.jsxs("div",{className:"flex-1 p-2 overflow-y-auto custom-scrollbar space-y-1",children:[it.length>0&&m.jsxs("div",{className:"flex items-center justify-center gap-1 bg-amber-50 dark:bg-amber-900/30 rounded-md py-1 mb-2 border border-amber-100 dark:border-amber-800",children:[m.jsx(ho,{size:10,className:"text-amber-500"}),m.jsx("span",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-300",children:it.length})]}),En.map(Et=>Mn(Et))]})]},xe))}return ne};return m.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-8 relative",children:[m.jsxs("div",{className:"flex-1 glass-panel rounded-3xl flex flex-col overflow-hidden shadow-xl",children:[m.jsxs("div",{className:"p-4 md:p-6 border-b border-white/50 dark:border-slate-700/50 flex flex-col md:flex-row items-center justify-between bg-white/40 dark:bg-slate-800/40 gap-4",children:[m.jsx("div",{className:"flex items-center space-x-4",children:m.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100 capitalize font-sans tracking-tight",children:o==="month"?a.toLocaleString(t==="eu"?"eu":"es",{month:"long",year:"numeric"}):`${t==="eu"?"Astea":"Semana"}: ${dt(a).toLocaleDateString()} - ${(()=>{const U=dt(a);return U.setDate(U.getDate()+6),U.toLocaleDateString()})()}`})}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/60 p-1 rounded-xl flex border border-white dark:border-slate-700 shadow-sm",children:[m.jsx("button",{onClick:()=>c("month"),className:`p-2 rounded-lg transition-all ${o==="month"?"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,title:t==="eu"?"Hilabetea":"Mes",children:m.jsx(uT,{size:18})}),m.jsx("button",{onClick:()=>c("week"),className:`p-2 rounded-lg transition-all ${o==="week"?"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,title:t==="eu"?"Astea":"Semana",children:m.jsx(TT,{size:18,className:"rotate-90"})})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>K(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-full transition shadow-sm hover:shadow",children:m.jsx(zE,{size:20,className:"text-slate-600 dark:text-slate-300"})}),m.jsx("button",{onClick:()=>i(new Date),className:"text-xs px-4 py-2 bg-white dark:bg-slate-800 rounded-xl font-bold text-purple-600 dark:text-purple-300 shadow-sm hover:shadow transition border border-purple-100 dark:border-purple-900",children:t==="eu"?"Gaur":"Hoy"}),m.jsx("button",{onClick:()=>K(1),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-full transition shadow-sm hover:shadow",children:m.jsx(VE,{size:20,className:"text-slate-600 dark:text-slate-300"})})]})]})]}),o==="month"?m.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[m.jsx("div",{className:"grid grid-cols-7 border-b border-white/50 dark:border-slate-700/50 bg-white/20 dark:bg-slate-800/20 flex-shrink-0",children:[0,1,2,3,4,5,6].map(U=>m.jsx("div",{className:"py-2 md:py-3 text-center text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:jn(U)},U))}),m.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr gap-px bg-slate-100/30 dark:bg-slate-900/50 overflow-hidden",children:dn()})]}):m.jsx("div",{className:"flex-1 flex min-h-0 bg-slate-50/20 dark:bg-slate-900/20 overflow-hidden",children:X()})]}),m.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6 hidden lg:flex",children:[m.jsxs("div",{className:"glass-panel rounded-3xl p-6 border border-white dark:border-slate-700",children:[m.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-2 text-sm flex items-center uppercase tracking-wide",children:[m.jsx(jc,{size:16,className:"mr-2 text-yellow-500"}),s.calendar.unscheduledNotes]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 font-body opacity-80",children:s.calendar.dragInstruction}),m.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-1 custom-scrollbar",children:_.map(U=>m.jsx("div",{draggable:!0,onDragStart:ne=>ye(ne,U),className:"p-4 rounded-xl shadow-sm cursor-grab active:cursor-grabbing hover:shadow-md transition-all group hover:-translate-y-1 text-slate-800",style:{backgroundColor:U.color},children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("p",{className:"text-sm line-clamp-3 font-hand text-lg leading-tight",children:U.content}),m.jsx(tT,{size:16,className:"text-slate-400/50 group-hover:text-slate-600"})]})},U.id))})]}),m.jsxs("div",{className:"glass-panel rounded-3xl p-6 flex flex-col items-center text-center",children:[m.jsx(jf,{className:"text-purple-300 dark:text-purple-500 mb-2"}),m.jsx("p",{className:"font-hand text-lg text-slate-600 dark:text-slate-400",children:'"Cada da cuenta en el aprendizaje."'})]})]}),m.jsx("div",{onDragOver:W,onDragLeave:ue,onDrop:de,className:`fixed bottom-8 right-8 z-[60] transition-all duration-300 ease-in-out transform flex items-center justify-center pointer-events-auto
          ${G?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}
        `,children:m.jsx("div",{className:`
          w-20 h-20 rounded-full shadow-2xl flex items-center justify-center transition-all duration-200 border-4 backdrop-blur-md
          ${ie?"bg-red-500/90 border-red-300 scale-110 rotate-12":"bg-white/80 dark:bg-slate-800/80 border-white dark:border-slate-600 rotate-0"}
        `,children:m.jsx(bo,{className:`${ie?"text-white":"text-slate-400 dark:text-slate-300"}`,size:32})})}),ve.isOpen&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/30 backdrop-blur-sm z-[70] flex items-center justify-center p-4 animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl max-w-sm w-full p-8 shadow-2xl scale-100 transform transition-all border border-white dark:border-slate-800",children:m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6 animate-pulse",children:m.jsx(yb,{size:32,className:"text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-2 font-sans",children:t==="eu"?"Ekitaldia ezabatu?":"Eliminar evento?"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-8 font-body",children:t==="eu"?"Ekintza hau ezin da desegin. Ekitaldia behin betiko ezabatuko da.":"Esta accin no se puede deshacer. El evento se eliminar permanentemente."}),m.jsxs("div",{className:"flex gap-4 w-full",children:[m.jsx("button",{onClick:rt,className:"flex-1 py-3 px-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition",children:s.calendar.actions.cancel}),m.jsx("button",{onClick:bt,className:"flex-1 py-3 px-4 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition shadow-lg shadow-red-200 dark:shadow-none",children:s.calendar.actions.delete})]})]})})}),Y&&S&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-md w-full p-8 shadow-2xl relative border border-white dark:border-slate-800",children:[m.jsx("button",{onClick:()=>$(!1),className:"absolute top-5 right-5 p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-400 hover:text-slate-600 transition",children:m.jsx(za,{size:20})}),m.jsx("h3",{className:"text-xl font-bold mb-1 text-slate-800 dark:text-slate-100",children:s.calendar.todayEvents}),m.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300 font-bold mb-6 capitalize bg-purple-50 dark:bg-purple-900/30 inline-block px-3 py-1 rounded-lg",children:S.toLocaleDateString(t==="eu"?"eu":"es",{weekday:"long",day:"numeric",month:"long"})}),m.jsx("div",{className:"space-y-3 mb-8",children:[...f.filter(U=>new Date(U.date).setHours(0,0,0,0)===S.getTime()).sort((U,ne)=>U.date-ne.date),...p.filter(U=>new Date(U.date).setHours(0,0,0,0)===S.getTime())].length===0?m.jsx("div",{className:"text-center py-6 bg-slate-50/50 dark:bg-slate-800/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm font-hand text-lg",children:s.calendar.noEvents})}):m.jsxs(m.Fragment,{children:[p.filter(U=>new Date(U.date).setHours(0,0,0,0)===S.getTime()).map(U=>m.jsxs("div",{className:"flex items-center p-4 mb-2 bg-amber-50/80 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-800 rounded-2xl text-sm",children:[m.jsx(ho,{size:20,className:"text-amber-500 mr-3 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-amber-900 dark:text-amber-200",children:U.studentName}),m.jsx("span",{className:"text-amber-400 mx-2",children:""}),m.jsx("span",{className:"text-amber-700 dark:text-amber-400 font-medium",children:U.type})]})]},U.id)),f.filter(U=>new Date(U.date).setHours(0,0,0,0)===S.getTime()).sort((U,ne)=>U.date-ne.date).map(U=>m.jsx("div",{draggable:!!U.id&&!be,onDragStart:ne=>U.id&&Oe(ne,U.id),onDragEnd:Ge,className:`group flex items-center justify-between p-3 mb-2 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl shadow-sm hover:shadow-md transition-all
                          ${be?"border-purple-200 ring-2 ring-purple-100 dark:ring-purple-900":"cursor-grab active:cursor-grabbing"}
                        `,children:be===U.id?m.jsxs("div",{className:"flex items-center w-full gap-2 p-1",children:[m.jsxs("div",{className:"flex-1 flex gap-2",children:[m.jsx("input",{type:"date",value:A,onChange:ne=>k(ne.target.value),className:"w-2/3 p-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-xs outline-none focus:ring-1 focus:ring-purple-300 dark:text-slate-200"}),m.jsx("input",{type:"time",value:D,onChange:ne=>I(ne.target.value),className:"w-1/3 p-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-xs outline-none focus:ring-1 focus:ring-purple-300 dark:text-slate-200"})]}),m.jsx("button",{type:"button",onClick:()=>U.id&&Jn(U.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200",title:s.calendar.actions.save,children:m.jsx(Dc,{size:16})}),m.jsx("button",{type:"button",onClick:()=>N(null),className:"p-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",title:s.calendar.actions.cancel,children:m.jsx(UT,{size:16})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center flex-1 min-w-0 mr-3",children:[m.jsx("span",{className:"text-xs font-mono font-bold text-slate-500 bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-lg mr-3 flex-shrink-0",children:le(U.date)}),m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 flex-shrink-0 ring-2 ring-white dark:ring-slate-600 shadow-sm ${U.type==="exam"?"bg-red-400":"bg-blue-400"}`}),m.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-bold truncate",children:U.title})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{type:"button",onMouseDown:ne=>ne.stopPropagation(),onClick:ne=>{ne.stopPropagation(),Zn(U)},className:"p-2 text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/50 rounded-lg transition-colors",title:s.calendar.actions.move,children:m.jsx(Ic,{size:16})}),m.jsx("button",{type:"button",onMouseDown:ne=>ne.stopPropagation(),onClick:ne=>{ne.stopPropagation(),U.id&&ze(U.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/50 rounded-lg transition-colors",title:s.calendar.actions.delete,children:m.jsx(bo,{size:16})})]})]})},U.id))]})}),m.jsxs("form",{onSubmit:Ne,className:"border-t border-slate-100 dark:border-slate-700 pt-6",children:[m.jsxs("h4",{className:"font-bold text-sm mb-4 text-slate-700 dark:text-slate-300 uppercase tracking-wide flex items-center",children:[m.jsx($s,{size:14,className:"mr-2"})," ",s.calendar.newEvent]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{required:!0,name:"title",placeholder:s.resources.forms.title,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-300 outline-none transition-shadow text-slate-800 dark:text-slate-200"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("select",{name:"type",className:"flex-1 p-3 border border-slate-200 dark:border-slate-700 rounded-xl text-sm bg-white dark:bg-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-purple-300 outline-none cursor-pointer",children:[m.jsx("option",{value:"general",children:s.calendar.types.general}),m.jsx("option",{value:"exam",children:s.calendar.types.exam}),m.jsx("option",{value:"meeting",children:s.calendar.types.meeting})]}),m.jsxs("div",{className:"flex items-center border border-slate-200 dark:border-slate-700 rounded-xl px-3 bg-white dark:bg-slate-800 focus-within:ring-2 focus-within:ring-purple-300 w-32",children:[m.jsx(qE,{size:16,className:"text-slate-400 mr-2"}),m.jsx("input",{type:"time",name:"time",defaultValue:"09:00",className:"bg-transparent p-1 text-sm outline-none w-full dark:text-slate-200"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl text-sm font-bold hover:bg-slate-700 dark:hover:bg-slate-600 flex items-center justify-center transition-all shadow-lg shadow-slate-200 dark:shadow-none mt-2",children:s.calendar.add})]})]})]})})]})},hk=()=>{const{t:s}=ur(),t=nb(),[a,i]=O.useState([]),[o,c]=O.useState([]),[f,y]=O.useState(null),[p,v]=O.useState(!1),[_,T]=O.useState(!1),S=async()=>{const[Z,ie]=await Promise.all([Ye.getItems("classes"),Ye.getItems("students")]);i(Z),c(ie)};O.useEffect(()=>{S()},[]);const z=async Z=>{Z.preventDefault();const ie=Z.target,te=new FormData(ie);await Ye.addItem("classes",{name:te.get("name"),subject:te.get("subject"),createdAt:Date.now()}),v(!1),S()},Y=async Z=>{if(Z.preventDefault(),!f)return;const ie=Z.target,te=new FormData(ie);await Ye.addItem("students",{firstName:te.get("firstName"),lastName:te.get("lastName"),groups:[f.id],contactInfo:te.get("contactInfo"),specialNeeds:te.get("specialNeeds").split(",").map(ve=>ve.trim()).filter(Boolean),createdAt:Date.now()}),T(!1),S()},$=Z=>{t("/students",{state:{studentId:Z}})},G=f?o.filter(Z=>(Z.groups||[]).includes(f.id)):[];return m.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-8rem)] gap-6",children:[m.jsxs("div",{className:`w-full md:w-1/3 glass-panel rounded-3xl flex flex-col overflow-hidden transition-all duration-300 ${f?"hidden md:flex":"flex"}`,children:[m.jsx("div",{className:"p-5 border-b border-slate-100/50 dark:border-slate-700/50 space-y-3 bg-white/40 dark:bg-slate-800/40",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-slate-800 dark:text-slate-100 text-xl font-sans tracking-tight",children:s.classes.title}),m.jsx("button",{onClick:()=>v(!0),className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 shadow-sm transition-all hover:scale-105",children:m.jsx($s,{size:20})})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[a.length===0&&m.jsxs("div",{className:"text-center text-slate-400 py-10",children:[m.jsx(Tc,{size:48,className:"mx-auto mb-2 opacity-50"}),m.jsx("p",{className:"font-hand text-lg",children:s.classes.noClasses})]}),a.map(Z=>m.jsx("div",{onClick:()=>y(Z),className:`p-5 rounded-2xl cursor-pointer transition-all duration-200 
                ${(f==null?void 0:f.id)===Z.id?"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/40 dark:to-blue-900/40 shadow-sm border border-purple-100 dark:border-purple-800":"hover:bg-white/40 dark:hover:bg-slate-700/40 hover:pl-6 border border-transparent"}
              `,children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-lg ${(f==null?void 0:f.id)===Z.id?"text-slate-800 dark:text-slate-100":"text-slate-700 dark:text-slate-300"}`,children:Z.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center mt-1 font-medium",children:[m.jsx(Tc,{size:14,className:"mr-1 opacity-70"})," ",Z.subject]})]}),m.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/60 px-3 py-1 rounded-xl text-xs font-bold text-slate-600 dark:text-slate-300 flex items-center shadow-sm",children:[m.jsx(hm,{size:12,className:"mr-1.5 text-purple-400"}),o.filter(ie=>(ie.groups||[]).includes(Z.id)).length]})]})},Z.id))]})]}),m.jsx("div",{className:`flex-1 glass-panel rounded-3xl flex flex-col overflow-hidden relative ${f?"flex":"hidden md:flex"}`,children:f?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50/50 dark:bg-indigo-900/30 rounded-bl-full pointer-events-none opacity-50"}),m.jsx("div",{className:"p-6 md:p-8 border-b border-slate-100/50 dark:border-slate-700/50 relative z-10",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>y(null),className:"md:hidden text-slate-500 dark:text-slate-400 mb-2 text-sm flex items-center font-medium bg-white/50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[" ",s.students.back]}),m.jsx("h2",{className:"text-3xl font-bold text-indigo-900 dark:text-indigo-200 font-sans tracking-tight",children:f.name}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium font-body text-lg",children:f.subject})]}),m.jsxs("button",{onClick:()=>T(!0),className:"bg-slate-800 dark:bg-slate-700 text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-slate-700 dark:hover:bg-slate-600 flex items-center shadow-lg shadow-slate-200 dark:shadow-none transition-transform hover:-translate-y-1",children:[m.jsx(BT,{size:18,className:"mr-2"})," ",s.classes.addStudentToClass]})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase mb-6 flex items-center tracking-wider",children:[m.jsx(dm,{size:16,className:"mr-2"})," ",s.classes.studentsInClass," (",G.length,")"]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[G.length===0&&m.jsx("p",{className:"text-slate-400 italic text-sm col-span-2 font-hand text-lg text-center mt-10",children:s.students.noRecords}),G.map(Z=>m.jsxs("div",{onClick:()=>Z.id&&$(Z.id),className:"group p-4 bg-white/60 dark:bg-slate-800/40 backdrop-blur-sm border border-white dark:border-slate-700 rounded-2xl flex items-center shadow-sm hover:shadow-md transition-all cursor-pointer hover:scale-[1.02]",children:[m.jsxs("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300 flex items-center justify-center font-bold mr-4 text-lg shadow-inner",children:[Z.firstName.charAt(0),Z.lastName.charAt(0)]}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:[Z.firstName," ",Z.lastName]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:Z.contactInfo})]}),m.jsx(mb,{size:18,className:"text-slate-300 dark:text-slate-600 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0"})]},Z.id))]})]})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 relative",children:[m.jsx("div",{className:"w-32 h-32 bg-white/40 dark:bg-slate-800/40 rounded-full flex items-center justify-center mb-6 shadow-sm backdrop-blur-sm",children:m.jsx(Tc,{size:64,className:"text-slate-300/80 dark:text-slate-600"})}),m.jsx("p",{className:"font-hand text-xl opacity-70",children:s.classes.noClasses})]})}),p&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-md w-full p-8 shadow-2xl relative border border-white dark:border-slate-800",children:[m.jsx("button",{onClick:()=>v(!1),className:"absolute top-5 right-5 text-slate-400 hover:text-slate-600",children:m.jsx(za,{})}),m.jsx("h3",{className:"text-xl font-bold mb-6 text-slate-800 dark:text-slate-100 font-sans",children:s.classes.addClass}),m.jsxs("form",{onSubmit:z,className:"space-y-5",children:[m.jsx("input",{required:!0,name:"name",placeholder:s.classes.forms.name,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 outline-none transition-shadow text-slate-800 dark:text-slate-200"}),m.jsx("input",{required:!0,name:"subject",placeholder:s.classes.forms.subject,className:"w-full p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-purple-300 outline-none transition-shadow text-slate-800 dark:text-slate-200"}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg",children:s.classes.forms.save})]})]})}),_&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 rounded-3xl max-w-md w-full p-8 shadow-2xl relative border border-white dark:border-slate-800",children:[m.jsx("button",{onClick:()=>T(!1),className:"absolute top-5 right-5 text-slate-400 hover:text-slate-600",children:m.jsx(za,{})}),m.jsx("h3",{className:"text-xl font-bold mb-2 text-slate-800 dark:text-slate-100 font-sans",children:s.classes.addStudentToClass}),m.jsxs("p",{className:"text-xs text-slate-500 mb-6 font-medium bg-indigo-50 dark:bg-indigo-900/30 inline-block px-3 py-1 rounded-lg",children:[s.classes.forms.name,": ",m.jsx("span",{className:"font-bold text-indigo-700 dark:text-indigo-300",children:f==null?void 0:f.name})]}),m.jsxs("form",{onSubmit:Y,className:"space-y-5",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("input",{required:!0,name:"firstName",placeholder:s.students.forms.firstName,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-300 outline-none text-slate-800 dark:text-slate-200"}),m.jsx("input",{required:!0,name:"lastName",placeholder:s.students.forms.lastName,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-300 outline-none text-slate-800 dark:text-slate-200"})]}),m.jsx("input",{name:"contactInfo",placeholder:s.students.forms.contact,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-300 outline-none text-slate-800 dark:text-slate-200"}),m.jsx("input",{name:"specialNeeds",placeholder:s.students.forms.tags,className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl w-full focus:ring-2 focus:ring-purple-300 outline-none text-slate-800 dark:text-slate-200"}),m.jsx("button",{type:"submit",className:"w-full bg-slate-800 dark:bg-slate-700 text-white py-3 rounded-xl font-bold hover:bg-slate-700 dark:hover:bg-slate-600 shadow-lg",children:s.students.forms.saveStudent})]})]})})]})},fk=()=>(console.log("TeacherBloc Version: 1.0.1 (Deployed at "+new Date().toISOString()+")"),m.jsx(yE,{children:m.jsx(vE,{children:m.jsx(lE,{children:m.jsx(L2,{children:m.jsxs(cs,{path:"/",element:m.jsx(QT,{}),children:[m.jsx(cs,{index:!0,element:m.jsx(ik,{})}),m.jsx(cs,{path:"calendar",element:m.jsx(dk,{})}),m.jsx(cs,{path:"classes",element:m.jsx(hk,{})}),m.jsx(cs,{path:"students",element:m.jsx(lk,{})}),m.jsx(cs,{path:"notes",element:m.jsx(ok,{})}),m.jsx(cs,{path:"resources",element:m.jsx(uk,{})}),m.jsx(cs,{path:"settings",element:m.jsx(ck,{})})]})})})})})),tx=document.getElementById("root");if(!tx)throw new Error("Failed to find the root element");const mk=H_.createRoot(tx);mk.render(m.jsx(V_.StrictMode,{children:m.jsx(fk,{})}));
